/*

 Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <http://lodash.com/license>
 Modernizr 3.0.0pre (Custom Build) | MIT

 pixi.js - v1.6.0
 Copyright (c) 2012-2014, Mat Groves
 http://goodboydigital.com/

 Compiled: 2014-07-18

 pixi.js is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license.php
*/
(function(r){function q(b){if(d[b])return d[b].exports;var m=d[b]={exports:{},id:b,loaded:!1};r[b].call(m.exports,m,m.exports,q);m.loaded=!0;return m.exports}var d={};q.m=r;q.c=d;q.p="";return q(0)})([function(r,q,d){r=d(2);d=d(1);r.renderComponent(d(null),document.getElementById("pixiContainer"))},function(r,q,d){var b,m,n,p,l,a;a=d(8);n=d(2);l=d(6);b=d(3);p=d(4);m=d(5);q=n.createClass({getInitialState:function(){return{overlayData:void 0,segmentCountLimit:l.mapGeneration.SEGMENT_COUNT_LIMIT}},render:function(){return n.DOM.div({id:"main-viewport-container"},
b(null),n.DOM.div({id:"control-bar"},p({onText:"Hide Debug Drawing",offText:"Show Debug Drawing",action:function(){return l.mapGeneration.DEBUG=!l.mapGeneration.DEBUG}}),p({onText:"Hide Population Heatmap",offText:"Show Population Heatmap",action:function(){return l.mapGeneration.DRAW_HEATMAP=!l.mapGeneration.DRAW_HEATMAP}}),n.DOM.button({onClick:a.bind(this._factorTargetZoom,null,1.5)},"Zoom in"),n.DOM.button({onClick:a.bind(this._factorTargetZoom,null,2/3)},"Zoom out"),n.DOM.label({htmlFor:"segment-limit"},
"Segment limit:"),n.DOM.input({id:"segment-limit",onChange:this._onSegmentCountChange,type:"number",min:"1",max:"5000",value:this.state.segmentCountLimit}),n.DOM.button({onClick:this._regenerateMap},"Regenerate")))},_onSegmentCountChange:function(a){l.mapGeneration.SEGMENT_COUNT_LIMIT=a.target.value;return this.setState({segmentCountLimit:a.target.value})},_regenerateMap:function(){var a;a=(new Date).getTime();return m.generate(a)},_factorTargetZoom:function(a){return m.factorTargetZoom(a)}});r.exports=
q},function(r,q,d){r.exports=d(7)},function(r,q,d){var b,m,n,p,l,a,c,f,e,h,g,k,s,v,t,w,E,F,x,C,u,A,B,y,G,H,J,z,D,K,L,N,I,ga,M,R,X,Q,U,ea,O,S,sa,Ma,Y,V,la;f=d(2);c=d(9);la=d(8);d(35);N=d(36);Ma=d(37);h=d(38);g=d(10);v=d(6);d(11);d(12);l=d(5);a=d(13);R=void 0;S=new c.Stage(4026920);K=new c.DisplayObjectContainer;w=new c.DisplayObjectContainer;u=new c.DisplayObjectContainer;x=new c.DisplayObjectContainer;V=new c.DisplayObjectContainer;G=new c.DisplayObjectContainer;H=new c.DisplayObjectContainer;S.addChild(K);
w.addChild(u);w.addChild(x);G.addChild(H);V.addChild(G);S.addChild(V);J=!0;ga=void 0;O=[];C=D=ea=void 0;sa=L=!1;B=A=0;t={x:0,y:0};U=Q=null;Y=.01*window.devicePixelRatio;E=!1;M=I=F=X=void 0;b=0;m=-500;p=n=0;S.touchstart=S.mousedown=function(a){sa=!0;Q=a.global.x;return U=a.global.y};S.touchend=S.touchendoutside=S.mouseup=S.mouseupoutside=function(a){sa=!1;N.lengthV2(t)<=v.gameLogic.SELECT_PAN_THRESHOLD&&k(a.global.x,a.global.y);t.x=0;return t.y=0};z=new c.Graphics;z.lineStyle(4,c.rgb2hex([0,1,0]));
z.moveTo(0,50);z.lineTo(0,0);z.lineStyle(4,c.rgb2hex([1,0,1]));z.moveTo(0,0);z.lineTo(50,0);w.addChild(z);s=function(a){var c,b,f,e,g,k,h;k=a.x;h=a.y;f=ea.retrieve({x:k,y:h,width:1,height:1});b=e=c=g=void 0;la.each(f,function(a,s){var v,d,l;if(null!=a.o.r&&(d=N.distanceToLine({x:k,y:h},a.o.r.start,a.o.r.end),v=d.distance2,l=d.lineProj2,d=d.length2,d=l<=d&&0<=l?v:Number.POSITIVE_INFINITY,null==c||d<g))return g=d,c=f[s],e=v,b=Math.sqrt(l)/a.o.length()});return{closestMatch:c,minDistance2:e,matchFraction:b}};
k=function(a,f){var e,g,k,d;d={x:(a-V.x)/Y+b,y:(f-V.y)/Y+m};g=s(d);e=g.closestMatch;k=g.minDistance2;g=g.matchFraction;z=new c.Graphics;G.addChild(z);z.beginFill(16777215,1);z.drawCircle(d.x,d.y,4);z.endFill();if(null!=e&&Math.sqrt(k)*Y<v.gameLogic.SELECTION_RANGE&&(J?(ga=new h.PathLocation(e.o,g),J=!1):(k=new h.PathLocation(e.o,g),J=!0,k=h.calc.find(ga,k),null==I?(I=new c.Graphics,G.addChild(I)):I.removeChildren(),la.each(k,function(a){return I.addChild(y(a,16777215,25))})),console.log(""+O.indexOf(e.o).toString()+
" clicked"),v.mapGeneration.DEBUG))return F&&w.removeChild(F),F=new c.DisplayObjectContainer,e.o.debugLinks(),F.addChild(y(e.o)),la.each(e.o.links.f,function(a){return F.addChild(y(a))}),la.each(e.o.links.b,function(a){return F.addChild(y(a))}),w.addChild(F)};y=function(a,b,f){b=Ma.defaultFor(b,a.q.color);f=Ma.defaultFor(f,a.width);z=new c.Graphics;z.beginFill(0,0);z.lineStyle(f,b);z.drawCircle(a.r.start.x,a.r.start.y,2);z.moveTo(a.r.start.x,a.r.start.y);z.lineTo(a.r.end.x,a.r.end.y);z.drawCircle(a.r.end.x,
a.r.end.y,2);z.endFill();return z};e=function(){var f,g,k,h,d,l,q,F,r,x;if(L){(new Date).getTime();Y=(Y+a.getTargetZoom())/2;V.scale.x=Y;V.scale.y=Y;if(v.mapGeneration.DRAW_HEATMAP&&null!=D)for(null==X?(X=new c.Graphics,K.addChild(X)):X.clear(),d=R.width,g=R.height,f=k=0,r=v.mapGeneration.HEAT_MAP_PIXEL_DIM;0<r?k<d:k>d;f=k+=r)for(h=F=0,x=v.mapGeneration.HEAT_MAP_PIXEL_DIM;0<x?F<g:F>g;h=F+=x)l=(f+v.mapGeneration.HEAT_MAP_PIXEL_DIM/2-V.x)/Y+b,q=(h+v.mapGeneration.HEAT_MAP_PIXEL_DIM/2-V.y)/Y+m,l=D.populationAt(l,
q),X.beginFill(c.rgb2hex([0,l,0])),X.drawRect(f,h,v.mapGeneration.HEAT_MAP_PIXEL_DIM,v.mapGeneration.HEAT_MAP_PIXEL_DIM),X.endFill();else null!=X&&(K.removeChild(X),X=void 0);v.mapGeneration.DEBUG&&!E&&null!=w?(E=!0,G.addChild(w)):!v.mapGeneration.DEBUG&&E&&null!=w&&(E=!1,G.removeChild(w));v.mapGeneration.DEBUG&&C<O.length?(g=O[C++],u.addChild(y(g,7842423,25))):!v.mapGeneration.DEBUG&&0<C&&(C=0,0<u.children.length&&u.removeChildren());g=S.getMousePosition().x;d=S.getMousePosition().y;null==M&&(M=
new c.Graphics,M.beginFill(16711680,.3),M.lineStyle(4,16711680),M.drawCircle(0,0,v.gameLogic.DEFAULT_PICKUP_RANGE),M.endFill(),G.addChild(M));k=s({x:(g-V.x)/Y+b,y:(d-V.y)/Y+m});f=k.closestMatch;h=k.minDistance2;k=k.matchFraction;null!=f&&h<=v.gameLogic.DEFAULT_PICKUP_RANGE*v.gameLogic.DEFAULT_PICKUP_RANGE&&(f=N.fractionBetween(f.o.r.start,f.o.r.end,k),M.x=f.x,M.y=f.y);sa&&(0<g&&0<d&&(A=g-Q,B=d-U,Q=g,U=d),t.x+=A,t.y+=B,n=-A/Y,p=-B/Y,b+=n,m+=p);sa||(b+=n,m+=p,n*=.8,p*=.8);G.x=-b;G.y=-m;R.render(S)}return requestAnimationFrame(e)};
q=f.createClass({getInitialState:function(){return{}},componentDidMount:function(){var b,f,g,k;a.addChangeListener(this._onMapChange);b=(new Date).getTime();console.log("seed: "+b.toString());l.generate(b);b=this.refs.canvasContainer.getDOMNode();f=this.refs.canvas.getDOMNode();if(null!=f)return f.style.width=""+b.offsetWidth+"px",f.style.height=""+b.offsetHeight+"px",k=b.offsetWidth*window.devicePixelRatio,g=b.offsetHeight*window.devicePixelRatio,R=c.autoDetectRenderer(k,g,f,!1,!0),b.appendChild(R.view),
V.x=R.width/2,V.y=R.height/2,requestAnimationFrame(e),window.addEventListener("resize",this._handleResize)},componentWillUnmount:function(){a.removeChangeListener(this._onMapChange);return window.removeEventListener("resize",this._handleResize)},shouldComponentUpdate:function(a,c){return!1},render:function(){return f.DOM.div({id:"canvas-container",ref:"canvasContainer"},f.DOM.canvas({ref:"canvas"}))},_handleResize:function(){var a,c;a=this.refs.canvasContainer.getDOMNode();c=this.refs.canvas.getDOMNode();
c.style.width=""+a.offsetWidth+"px";c.style.height=""+a.offsetHeight+"px";c=a.offsetWidth*window.devicePixelRatio;a=a.offsetHeight*window.devicePixelRatio;if(null!=R)return R.resize(c,a),V.x=R.width/2,V.y=R.height/2},_onChange:function(){return this.setState(getStateFromStores())},_onMapChange:function(){var b,f,e,k,h,s,d,v;null!=I&&0<I.children.length&&I.removeChildren();0<H.children.length&&H.removeChildren();O=a.getSegments();ea=a.getQTree();D=a.getHeatmap();e=a.getDebugData();0<x.children.length&&
x.removeChildren();C=0;0<u.children.length&&u.removeChildren();la.each(e.snaps,function(a){z=new c.Graphics;z.beginFill(65280);z.moveTo(a.x,a.y);z.drawCircle(a.x,a.y,20);z.endFill();return x.addChild(z)});la.each(e.intersectionsRadius,function(a){z=new c.Graphics;z.beginFill(255);z.moveTo(a.x,a.y);z.drawCircle(a.x,a.y,20);z.endFill();return x.addChild(z)});la.each(e.intersections,function(a){z=new c.Graphics;z.beginFill(16711680);z.moveTo(a.x,a.y);z.drawCircle(a.x,a.y,20);z.endFill();return x.addChild(z)});
e=[];b=f=0;for(d=O.length;f<d;b=f+=10){b=O[b];h=g.buildingFactory.aroundSegment(function(){return g.buildingFactory.fromProbability((new Date).getTime())},b,10,400,ea);s=0;for(v=h.length;s<v;s++)b=h[s],ea.insert(b.collider.limits());e=e.concat(h)}d=0;for(h=e.length;d<h;d++)b=e[d],f=new c.Graphics,f.beginFill(792095),f.lineStyle(5,5592405),f.moveTo(b.corners[0].x,b.corners[0].y),f.lineTo(b.corners[1].x,b.corners[1].y),f.lineTo(b.corners[2].x,b.corners[2].y),f.lineTo(b.corners[3].x,b.corners[3].y),
f.lineTo(b.corners[0].x,b.corners[0].y),H.addChild(f);b=e=0;for(f=O.length;e<f;b=e+=1)b=O[b],k,k=b.q.color?b.q.color:10596265,H.addChild(y(b,k));return L=!0}});r.exports=q},function(r,q,d){var b;b=d(2);q=b.createClass({getInitialState:function(){return{textValue:this.props.offText,toggleState:!1}},render:function(){return b.DOM.button({onClick:this._onButtonClick},this.state.textValue)},_onButtonClick:function(){var b;b=!this.state.toggleState;this.setState({toggleState:b,textValue:b?this.props.onText:
this.props.offText});return this.props.action()}});r.exports=q},function(r,q,d){var b,m;b=d(14);m=d(12);r.exports={generate:function(d){return b.handleLogicAction({actionType:m.ActionTypes.MAP_GENERATE,seed:d})},factorTargetZoom:function(d){return b.handleLogicAction({actionType:m.ActionTypes.MAP_FACTOR_TARGET_ZOOM,factor:d})}}},function(r,q,d){var b,m;b=d(36);m=function(d){var m,l;m=Math.pow(Math.abs(d),3);for(l=0;0===l||Math.random()<Math.pow(Math.abs(l),3)/m;)l=b.randomRange(-d,+d);return l};r.exports=
{mapGeneration:{BUILDING_PLACEMENT_LOOP_LIMIT:3,DEFAULT_SEGMENT_LENGTH:300,HIGHWAY_SEGMENT_LENGTH:400,DEFAULT_SEGMENT_WIDTH:6,HIGHWAY_SEGMENT_WIDTH:16,RANDOM_BRANCH_ANGLE:function(){return m(3)},RANDOM_STRAIGHT_ANGLE:function(){return m(15)},DEFAULT_BRANCH_PROBABILITY:.4,HIGHWAY_BRANCH_PROBABILITY:.05,HIGHWAY_BRANCH_POPULATION_THRESHOLD:.1,NORMAL_BRANCH_POPULATION_THRESHOLD:.1,NORMAL_BRANCH_TIME_DELAY_FROM_HIGHWAY:5,MINIMUM_INTERSECTION_DEVIATION:30,SEGMENT_COUNT_LIMIT:2E3,DEBUG_DELAY:0,ROAD_SNAP_DISTANCE:50,
HEAT_MAP_PIXEL_DIM:50,DRAW_HEATMAP:!1,QUADTREE_PARAMS:{x:-2E4,y:-2E4,width:4E4,height:4E4},QUADTREE_MAX_OBJECTS:10,QUADTREE_MAX_LEVELS:10,DEBUG:!1},gameLogic:{SELECT_PAN_THRESHOLD:50,SELECTION_RANGE:50,DEFAULT_PICKUP_RANGE:150,DEFAULT_BOOST_FACTOR:2,DEFAULT_BOOST_DURATION:2,MIN_LENGTH_FOR_VEHICLE_ARRIVAL:.1,DEFAULT_CARGO_CAPACITY:1,MIN_SPEED_PROPORTION:.1}}},function(r,q,d){(function(b){var m=d(15),n=d(16),p=d(17),l=d(18),a=d(19),c=d(20),f=d(21),e=d(22),h=d(23),g=d(24),k=d(25),s=d(26),v=d(27),t=d(28),
w=d(29),E=d(30),q=d(31),x=d(32),C=d(33);k.inject();m={Children:{map:p.map,forEach:p.forEach,count:p.count,only:C},DOM:h,PropTypes:E,initializeTouchEvents:function(a){n.useTouchEvents=a},createClass:a.createClass,createDescriptor:function(a,c,b){var f=Array.prototype.slice.call(arguments,1);return a.apply(null,f)},constructAndRenderComponent:v.constructAndRenderComponent,constructAndRenderComponentByID:v.constructAndRenderComponentByID,renderComponent:w.measure("React","renderComponent",v.renderComponent),
renderComponentToString:q.renderComponentToString,renderComponentToStaticMarkup:q.renderComponentToStaticMarkup,unmountComponentAtNode:v.unmountComponentAtNode,isValidClass:e.isValidFactory,isValidComponent:e.isValidDescriptor,withContext:c.withContext,__internals:{Component:l,CurrentOwner:f,DOMComponent:g,DOMPropertyOperations:m,InstanceHandles:s,Mount:v,MultiChild:t,TextComponent:x}};if("production"!==b.env.NODE_ENV&&d(34).canUseDOM&&window.top===window.self&&-1<navigator.userAgent.indexOf("Chrome")){console.debug("Download the React DevTools for a better development experience: http://fb.me/react-devtools");
b=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze];for(var u in b)if(!b[u]){console.error("One or more ES5 shim/shams expected by React are not available: http://fb.me/react-warning-polyfills");break}}m.version="0.11.1";r.exports=m}).call(q,d(42))},function(r,q,d){var b;(function(m,n){(function(){function p(a,c,b){b=(b||0)-1;
for(var f=a?a.length:0;++b<f;)if(a[b]===c)return b;return-1}function l(a,c){var b=typeof c;a=a.cache;if("boolean"==b||null==c)return a[c]?0:-1;"number"!=b&&"string"!=b&&(b="object");var f="number"==b?c:u+c;a=(a=a[b])&&a[f];return"object"==b?a&&-1<p(a,c)?0:-1:a?0:-1}function a(a){var c=this.cache,b=typeof a;if("boolean"==b||null==a)c[a]=!0;else{"number"!=b&&"string"!=b&&(b="object");var f="number"==b?a:u+a,c=c[b]||(c[b]={});"object"==b?(c[f]||(c[f]=[])).push(a):c[f]=!0}}function c(a){return a.charCodeAt(0)}
function f(a,c){for(var b=a.criteria,f=c.criteria,e=-1,g=b.length;++e<g;){var k=b[e],h=f[e];if(k!==h){if(k>h||"undefined"==typeof k)return 1;if(k<h||"undefined"==typeof h)return-1}}return a.index-c.index}function e(c){var b=-1,f=c.length,e=c[0],g=c[f/2|0],h=c[f-1];if(e&&"object"==typeof e&&g&&"object"==typeof g&&h&&"object"==typeof h)return!1;e=k();e["false"]=e["null"]=e["true"]=e.undefined=!1;g=k();g.array=c;g.cache=e;for(g.push=a;++b<f;)g.push(c[b]);return g}function h(a){return"\\"+U[a]}function g(){return F.pop()||
[]}function k(){return r.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function s(a){a.length=0;40>F.length&&F.push(a)}function v(a){var c=a.cache;c&&v(c);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;40>r.length&&r.push(a)}function t(a,c,b){c||(c=0);"undefined"==typeof b&&(b=a?a.length:0);var f=-1;b=b-c||0;for(var e=Array(0>b?0:b);++f<b;)e[f]=a[c+f];return e}function w(a){function b(a){return a&&
"object"==typeof a&&!W(a)&&Z.call(a,"__wrapped__")?a:new d(a)}function d(a,c){this.__chain__=!!c;this.__wrapped__=a}function m(a){function c(){if(f){var a=t(f);ta.apply(a,arguments)}if(this instanceof c){var g=q(b.prototype),a=b.apply(g,a||arguments);return $(a)?a:g}return b.apply(e,a||arguments)}var b=a[0],f=a[2],e=a[4];Qa(c,a);return c}function n(a,c,b,f,e){if(b){var k=b(a);if("undefined"!=typeof k)return k}if($(a)){var h=aa.call(a);if(!M[h])return a;var d=ia[h];switch(h){case "[object Boolean]":case "[object Date]":return new d(+a);
case "[object Number]":case "[object String]":return new d(a);case "[object RegExp]":return k=d(a.source,H.exec(a)),k.lastIndex=a.lastIndex,k}}else return a;h=W(a);if(c){var v=!f;f||(f=g());e||(e=g());for(var l=f.length;l--;)if(f[l]==a)return e[l];k=h?d(a.length):{}}else k=h?t(a):Da({},a);h&&(Z.call(a,"index")&&(k.index=a.index),Z.call(a,"input")&&(k.input=a.input));if(!c)return k;f.push(a);e.push(k);(h?ba:P)(a,function(a,g){k[g]=n(a,c,b,f,e)});v&&(s(f),s(e));return k}function q(a,c){return $(a)?
Ea(a):{}}function F(a,c,b){if("function"!=typeof a)return Ra;if("undefined"==typeof c||!("prototype"in a))return a;var f=a.__bindData__;if("undefined"==typeof f&&(ua.funcNames&&(f=!a.name),f=f||!ua.funcDecomp,!f)){var e=Eb.call(a);ua.funcNames||(f=!J.test(e));f||(f=L.test(e),Qa(a,f))}if(!1===f||!0!==f&&f[1]&1)return a;switch(b){case 1:return function(b){return a.call(c,b)};case 2:return function(b,f){return a.call(c,b,f)};case 3:return function(b,f,e){return a.call(c,b,f,e)};case 4:return function(b,
f,e,g){return a.call(c,b,f,e,g)}}return eb(a,c)}function r(a){function c(){var a=s?k:this;if(e){var p=t(e);ta.apply(p,arguments)}if(g||v)if(p||(p=t(arguments)),g&&ta.apply(p,g),v&&p.length<h)return f|=16,r([b,l?f:f&-4,p,null,k,h]);p||(p=arguments);d&&(b=a[m]);return this instanceof c?(a=q(b.prototype),p=b.apply(a,p),$(p)?p:a):b.apply(a,p)}var b=a[0],f=a[1],e=a[2],g=a[3],k=a[4],h=a[5],s=f&1,d=f&2,v=f&4,l=f&8,m=b;Qa(c,a);return c}function x(a,c){var b=-1,f=Ca(),g=a?a.length:0,k=75<=g&&f===p,h=[];if(k){var s=
e(c);s?(f=l,c=s):k=!1}for(;++b<g;)s=a[b],0>f(c,s)&&h.push(s);k&&v(c);return h}function U(a,c,b,f){f=(f||0)-1;for(var e=a?a.length:0,g=[];++f<e;){var k=a[f];if(k&&"object"==typeof k&&"number"==typeof k.length&&(W(k)||Fa(k))){c||(k=U(k,c,b));var h=-1,s=k.length,d=g.length;for(g.length+=s;++h<s;)g[d++]=k[h]}else b||g.push(k)}return g}function O(a,c,b,f,e,k){if(b){var h=b(a,c);if("undefined"!=typeof h)return!!h}if(a===c)return 0!==a||1/a==1/c;if(!(a!==a||a&&Q[typeof a]||c&&Q[typeof c]))return!1;if(null==
a||null==c)return a===c;var d=aa.call(a),v=aa.call(c);"[object Arguments]"==d&&(d="[object Object]");"[object Arguments]"==v&&(v="[object Object]");if(d!=v)return!1;switch(d){case "[object Boolean]":case "[object Date]":return+a==+c;case "[object Number]":return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case "[object RegExp]":case "[object String]":return a==ma(c)}v="[object Array]"==d;if(!v){var l=Z.call(a,"__wrapped__"),t=Z.call(c,"__wrapped__");if(l||t)return O(l?a.__wrapped__:a,t?c.__wrapped__:c,b,f,e,
k);if("[object Object]"!=d)return!1;d=a.constructor;l=c.constructor;if(d!=l&&!(T(d)&&d instanceof d&&T(l)&&l instanceof l)&&"constructor"in a&&"constructor"in c)return!1}d=!e;e||(e=g());k||(k=g());for(l=e.length;l--;)if(e[l]==a)return k[l]==c;var m=0,h=!0;e.push(a);k.push(c);if(v){if(l=a.length,m=c.length,(h=m==l)||f)for(;m--;)if(v=l,t=c[m],f)for(;v--&&!(h=O(a[v],t,b,f,e,k)););else if(!(h=O(a[m],t,b,f,e,k)))break}else ja(c,function(c,g,s){if(Z.call(s,g))return m++,h=Z.call(a,g)&&O(a[g],c,b,f,e,k)}),
h&&!f&&ja(a,function(a,c,b){if(Z.call(b,c))return h=-1<--m});e.pop();k.pop();d&&(s(e),s(k));return h}function db(a,c,b,f,e){(W(c)?ba:P)(c,function(c,g){var k,h,s=c,d=a[g];if(c&&((h=W(c))||Sa(c))){for(s=f.length;s--;)if(k=f[s]==c){d=e[s];break}if(!k){var v;b&&(s=b(d,c),v="undefined"!=typeof s)&&(d=s);v||(d=h?W(d)?d:[]:Sa(d)?d:{});f.push(c);e.push(d);v||db(d,c,b,f,e)}}else b&&(s=b(d,c),"undefined"==typeof s&&(s=c)),"undefined"!=typeof s&&(d=s);a[g]=d})}function Na(a,c){return a+Fb(fb()*(c-a+1))}function Oa(a,
c,b){var f=-1,k=Ca(),h=a?a.length:0,d=[],t=!c&&75<=h&&k===p,m=b||t?g():d;t&&(m=e(m),k=l);for(;++f<h;){var n=a[f],w=b?b(n,f,a):n;if(c?!f||m[m.length-1]!==w:0>k(m,w))(b||t)&&m.push(w),d.push(n)}t?(s(m.array),v(m)):b&&s(m);return d}function Pa(a){return function(c,f,e){var g={};f=b.createCallback(f,e,3);e=-1;var k=c?c.length:0;if("number"==typeof k)for(;++e<k;){var h=c[e];a(g,h,f(h,e,c),c)}else P(c,function(c,b,e){a(g,c,f(c,b,e),e)});return g}}function ha(a,c,b,f,e,g){var k=c&1,h=c&4,s=c&16,d=c&32;if(!(c&
2||T(a)))throw new ka;s&&!b.length&&(c&=-17,s=b=!1);d&&!f.length&&(c&=-33,d=f=!1);var v=a&&a.__bindData__;return v&&!0!==v?(v=t(v),v[2]&&(v[2]=t(v[2])),v[3]&&(v[3]=t(v[3])),!k||v[1]&1||(v[4]=e),!k&&v[1]&1&&(c|=8),!h||v[1]&4||(v[5]=g),s&&ta.apply(v[2]||(v[2]=[]),b),d&&Gb.apply(v[3]||(v[3]=[]),f),v[1]|=c,ha.apply(null,v)):(1==c||17===c?m:r)([a,c,b,f,e,g])}function Db(a){return Ta[a]}function Ca(){var a=(a=b.indexOf)===gb?p:a;return a}function na(a){return"function"==typeof a&&Hb.test(a)}function hb(a){var c,
b;if(!a||"[object Object]"!=aa.call(a)||(c=a.constructor,T(c)&&!(c instanceof c)))return!1;ja(a,function(a,c){b=c});return"undefined"==typeof b||Z.call(a,b)}function Ib(a){return ib[a]}function Fa(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Arguments]"==aa.call(a)||!1}function jb(a,c,b){var f=ca(a),e=f.length;for(c=F(c,b,3);e--&&(b=f[e],!1!==c(a[b],b,a)););return a}function va(a){var c=[];ja(a,function(a,b){T(a)&&c.push(b)});return c.sort()}function kb(a){for(var c=-1,b=ca(a),
f=b.length,e={};++c<f;){var g=b[c];e[a[g]]=g}return e}function T(a){return"function"==typeof a}function $(a){return!(!a||!Q[typeof a])}function lb(a){return"number"==typeof a||a&&"object"==typeof a&&"[object Number]"==aa.call(a)||!1}function wa(a){return"string"==typeof a||a&&"object"==typeof a&&"[object String]"==aa.call(a)||!1}function Ga(a){for(var c=-1,b=ca(a),f=b.length,e=da(f);++c<f;)e[c]=a[b[c]];return e}function mb(a,c,b){var f=-1,e=Ca(),g=a?a.length:0,k=!1;b=(0>b?fa(0,g+b):b)||0;W(a)?k=-1<
e(a,c,b):"number"==typeof g?k=-1<(wa(a)?a.indexOf(c,b):e(a,c,b)):P(a,function(a){if(++f>=b)return!(k=a===c)});return k}function nb(a,c,f){var e=!0;c=b.createCallback(c,f,3);f=-1;var g=a?a.length:0;if("number"==typeof g)for(;++f<g&&(e=!!c(a[f],f,a)););else P(a,function(a,b,f){return e=!!c(a,b,f)});return e}function Ha(a,c,f){var e=[];c=b.createCallback(c,f,3);f=-1;var g=a?a.length:0;if("number"==typeof g)for(;++f<g;){var k=a[f];c(k,f,a)&&e.push(k)}else P(a,function(a,b,f){c(a,b,f)&&e.push(a)});return e}
function Ua(a,c,f){c=b.createCallback(c,f,3);f=-1;var e=a?a.length:0;if("number"==typeof e)for(;++f<e;){var g=a[f];if(c(g,f,a))return g}else{var k;P(a,function(a,b,f){if(c(a,b,f))return k=a,!1});return k}}function ba(a,c,b){var f=-1,e=a?a.length:0;c=c&&"undefined"==typeof b?c:F(c,b,3);if("number"==typeof e)for(;++f<e&&!1!==c(a[f],f,a););else P(a,c);return a}function Ia(a,c,b){var f=a?a.length:0;c=c&&"undefined"==typeof b?c:F(c,b,3);if("number"==typeof f)for(;f--&&!1!==c(a[f],f,a););else{var e=ca(a),
f=e.length;P(a,function(a,b,g){b=e?e[--f]:--f;return c(g[b],b,g)})}return a}function xa(a,c,f){var e=-1,g=a?a.length:0;c=b.createCallback(c,f,3);if("number"==typeof g)for(var k=da(g);++e<g;)k[e]=c(a[e],e,a);else k=[],P(a,function(a,b,f){k[++e]=c(a,b,f)});return k}function ob(a,f,e){var g=-Infinity,k=g;"function"!=typeof f&&e&&e[f]===a&&(f=null);if(null==f&&W(a)){e=-1;for(var h=a.length;++e<h;){var s=a[e];s>k&&(k=s)}}else f=null==f&&wa(a)?c:b.createCallback(f,e,3),ba(a,function(a,c,b){c=f(a,c,b);c>
g&&(g=c,k=a)});return k}function Va(a,c,f,e){if(!a)return f;var g=3>arguments.length;c=b.createCallback(c,e,4);var k=-1,h=a.length;if("number"==typeof h)for(g&&(f=a[++k]);++k<h;)f=c(f,a[k],k,a);else P(a,function(a,b,e){f=g?(g=!1,a):c(f,a,b,e)});return f}function pb(a,c,f,e){var g=3>arguments.length;c=b.createCallback(c,e,4);Ia(a,function(a,b,e){f=g?(g=!1,a):c(f,a,b,e)});return f}function qb(a){var c=-1,b=a?a.length:0,f=da("number"==typeof b?b:0);ba(a,function(a){var b=Na(0,++c);f[c]=f[b];f[b]=a});
return f}function rb(a,c,f){var e;c=b.createCallback(c,f,3);f=-1;var g=a?a.length:0;if("number"==typeof g)for(;++f<g&&!(e=c(a[f],f,a)););else P(a,function(a,b,f){return!(e=c(a,b,f))});return!!e}function Wa(a,c,f){var e=0,g=a?a.length:0;if("number"!=typeof c&&null!=c){var k=-1;for(c=b.createCallback(c,f,3);++k<g&&c(a[k],k,a);)e++}else if(e=c,null==e||f)return a?a[0]:E;return t(a,0,ya(fa(0,e),g))}function gb(a,c,b){if("number"==typeof b){var f=a?a.length:0;b=0>b?fa(0,f+b):b||0}else if(b)return b=sb(a,
c),a[b]===c?b:-1;return p(a,c,b)}function Xa(a,c,f){if("number"!=typeof c&&null!=c){var e=0,g=-1,k=a?a.length:0;for(c=b.createCallback(c,f,3);++g<k&&c(a[g],g,a);)e++}else e=null==c||f?1:fa(0,c);return t(a,e)}function sb(a,c,f,e){var g=0,k=a?a.length:g;f=f?b.createCallback(f,e,1):Ra;for(c=f(c);g<k;)e=g+k>>>1,f(a[e])<c?g=e+1:k=e;return g}function tb(a,c,f,e){"boolean"!=typeof c&&null!=c&&(e=f,f="function"!=typeof c&&e&&e[c]===a?null:c,c=!1);null!=f&&(f=b.createCallback(f,e,3));return Oa(a,c,f)}function ub(){for(var a=
1<arguments.length?arguments:arguments[0],c=-1,b=a?ob(Ya(a,"length")):0,f=da(0>b?0:b);++c<b;)f[c]=Ya(a,c);return f}function vb(a,c){var b=-1,f=a?a.length:0,e={};for(c||!f||W(a[0])||(c=[]);++b<f;){var g=a[b];c?e[g]=c[b]:g&&(e[g[0]]=g[1])}return e}function eb(a,c){return 2<arguments.length?ha(a,17,t(arguments,2),null,c):ha(a,1,null,null,c)}function wb(a,c,b){var f,e,g,k,h,s,d,v=0,l=!1,m=!0;if(!T(a))throw new ka;c=fa(0,c)||0;if(!0===b)var t=!0,m=!1;else $(b)&&(t=b.leading,l="maxWait"in b&&(fa(c,b.maxWait)||
0),m="trailing"in b?b.trailing:m);var p=function(){var b=c-(oa()-k);0>=b?(e&&Ja(e),b=d,e=s=d=E,b&&(v=oa(),g=a.apply(h,f),s||e||(f=h=null))):s=za(p,b)},n=function(){s&&Ja(s);e=s=d=E;if(m||l!==c)v=oa(),g=a.apply(h,f),s||e||(f=h=null)};return function(){f=arguments;k=oa();h=this;d=m&&(s||!t);if(!1===l)var b=t&&!s;else{e||t||(v=k);var w=l-(k-v),E=0>=w;E?(e&&(e=Ja(e)),v=k,g=a.apply(h,f)):e||(e=za(n,w))}E&&s?s=Ja(s):s||c===l||(s=za(p,c));b&&(E=!0,g=a.apply(h,f));!E||s||e||(f=h=null);return g}}function Ra(a){return a}
function Za(a,c,f){var e=!0,g=c&&va(c);c&&(f||g.length)||(null==f&&(f=c),k=d,c=a,a=b,g=va(c));!1===f?e=!1:$(f)&&"chain"in f&&(e=f.chain);var k=a,h=T(k);ba(g,function(b){var f=a[b]=c[b];h&&(k.prototype[b]=function(){var c=this.__chain__,b=this.__wrapped__,g=[b];ta.apply(g,arguments);g=f.apply(a,g);if(e||c){if(b===g&&$(g))return this;g=new k(g);g.__chain__=c}return g})})}function xb(){}function yb(a){return function(c){return c[a]}}function zb(){return this.__wrapped__}a=a?S.defaults(ea.Object(),a,
S.pick(ea,I)):ea;var da=a.Array,Jb=a.Boolean,$a=a.Date,Ka=a.Function,Aa=a.Math,Kb=a.Number,pa=a.Object,Ba=a.RegExp,ma=a.String,ka=a.TypeError,qa=[],Ab=pa.prototype,Lb=a._,aa=Ab.toString,Hb=Ba("^"+ma(aa).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Mb=Aa.ceil,Ja=a.clearTimeout,Fb=Aa.floor,Eb=Ka.prototype.toString,ra=na(ra=pa.getPrototypeOf)&&ra,Z=Ab.hasOwnProperty,ta=qa.push,za=a.setTimeout,Bb=qa.splice,Gb=qa.unshift,Cb=function(){try{var a={},c=na(c=pa.defineProperty)&&
c,b=c(a,a,a)&&c}catch(f){}return b}(),Ea=na(Ea=pa.create)&&Ea,ab=na(ab=da.isArray)&&ab,Nb=a.isFinite,Ob=a.isNaN,La=na(La=pa.keys)&&La,fa=Aa.max,ya=Aa.min,bb=a.parseInt,fb=Aa.random,ia={};ia["[object Array]"]=da;ia["[object Boolean]"]=Jb;ia["[object Date]"]=$a;ia["[object Function]"]=Ka;ia["[object Object]"]=pa;ia["[object Number]"]=Kb;ia["[object RegExp]"]=Ba;ia["[object String]"]=ma;d.prototype=b.prototype;var ua=b.support={};ua.funcDecomp=!na(a.WinRTError)&&L.test(w);ua.funcNames="string"==typeof Ka.name;
b.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:z,variable:"",imports:{_:b}};Ea||(q=function(){function c(){}return function(b){if($(b)){c.prototype=b;var f=new c;c.prototype=null}return f||a.Object()}}());var Qa=Cb?function(a,c){X.value=c;Cb(a,"__bindData__",X)}:xb,W=ab||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"==aa.call(a)||!1},Pb=function(a){var c,b=[];if(!a||!Q[typeof a])return b;for(c in a)Z.call(a,c)&&b.push(c);
return b},ca=La?function(a){return $(a)?La(a):[]}:Pb,Ta={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ib=kb(Ta),Qb=Ba("("+ca(ib).join("|")+")","g"),Rb=Ba("["+ca(Ta).join("")+"]","g"),Da=function(a,c,b){var f,e=a,g=e;if(!e)return g;var k=arguments,h=0,s="number"==typeof b?2:k.length;if(3<s&&"function"==typeof k[s-2])var d=F(k[--s-1],k[s--],2);else 2<s&&"function"==typeof k[s-1]&&(d=k[--s]);for(;++h<s;)if((e=k[h])&&Q[typeof e])for(var v=-1,l=Q[typeof e]&&ca(e),m=l?l.length:0;++v<m;)f=
l[v],g[f]=d?d(g[f],e[f]):e[f];return g},cb=function(a,c,b){var f,e=a,g=e;if(!e)return g;for(var k=arguments,h=0,s="number"==typeof b?2:k.length;++h<s;)if((e=k[h])&&Q[typeof e])for(var d=-1,v=Q[typeof e]&&ca(e),l=v?v.length:0;++d<l;)f=v[d],"undefined"==typeof g[f]&&(g[f]=e[f]);return g},ja=function(a,c,b){var f;if(!a||!Q[typeof a])return a;c=c&&"undefined"==typeof b?c:F(c,b,3);for(f in a)if(!1===c(a[f],f,a))break;return a},P=function(a,c,b){if(!a||!Q[typeof a])return a;c=c&&"undefined"==typeof b?c:
F(c,b,3);for(var f=-1,e=Q[typeof a]&&ca(a),g=e?e.length:0;++f<g&&(b=e[f],!1!==c(a[b],b,a)););return a},Sa=ra?function(a){if(!a||"[object Object]"!=aa.call(a))return!1;var c=a.valueOf,b=na(c)&&(b=ra(c))&&ra(b);return b?a==b||ra(a)==b:hb(a)}:hb,Sb=Pa(function(a,c,b){Z.call(a,b)?a[b]++:a[b]=1}),Tb=Pa(function(a,c,b){(Z.call(a,b)?a[b]:a[b]=[]).push(c)}),Ub=Pa(function(a,c,b){a[b]=c}),Ya=xa,oa=na(oa=$a.now)&&oa||function(){return(new $a).getTime()},Vb=8==bb(" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u300008")?
bb:function(a,c){return bb(wa(a)?a.replace(D,""):a,c||0)};b.after=function(a,c){if(!T(c))throw new ka;return function(){if(1>--a)return c.apply(this,arguments)}};b.assign=Da;b.at=function(a){for(var c=arguments,b=-1,f=U(c,!0,!1,1),c=c[2]&&c[2][c[1]]===a?1:f.length,e=da(c);++b<c;)e[b]=a[f[b]];return e};b.bind=eb;b.bindAll=function(a){for(var c=1<arguments.length?U(arguments,!0,!1,1):va(a),b=-1,f=c.length;++b<f;){var e=c[b];a[e]=ha(a[e],1,null,null,a)}return a};b.bindKey=function(a,c){return 2<arguments.length?
ha(c,19,t(arguments,2),null,a):ha(c,3,null,null,a)};b.chain=function(a){a=new d(a);a.__chain__=!0;return a};b.compact=function(a){for(var c=-1,b=a?a.length:0,f=[];++c<b;){var e=a[c];e&&f.push(e)}return f};b.compose=function(){for(var a=arguments,c=a.length;c--;)if(!T(a[c]))throw new ka;return function(){for(var c=arguments,b=a.length;b--;)c=[a[b].apply(this,c)];return c[0]}};b.constant=function(a){return function(){return a}};b.countBy=Sb;b.create=function(a,c){var b=q(a);return c?Da(b,c):b};b.createCallback=
function(a,c,b){var f=typeof a;if(null==a||"function"==f)return F(a,c,b);if("object"!=f)return yb(a);var e=ca(a),g=e[0],k=a[g];return 1!=e.length||k!==k||$(k)?function(c){for(var b=e.length,f=!1;b--&&(f=O(c[e[b]],a[e[b]],null,!0)););return f}:function(a){a=a[g];return k===a&&(0!==k||1/k==1/a)}};b.curry=function(a,c){c="number"==typeof c?c:+c||a.length;return ha(a,4,null,null,null,c)};b.debounce=wb;b.defaults=cb;b.defer=function(a){if(!T(a))throw new ka;var c=t(arguments,1);return za(function(){a.apply(E,
c)},1)};b.delay=function(a,c){if(!T(a))throw new ka;var b=t(arguments,2);return za(function(){a.apply(E,b)},c)};b.difference=function(a){return x(a,U(arguments,!0,!0,1))};b.filter=Ha;b.flatten=function(a,c,b,f){"boolean"!=typeof c&&null!=c&&(f=b,b="function"!=typeof c&&f&&f[c]===a?null:c,c=!1);null!=b&&(a=xa(a,b,f));return U(a,c)};b.forEach=ba;b.forEachRight=Ia;b.forIn=ja;b.forInRight=function(a,c,b){var f=[];ja(a,function(a,c){f.push(c,a)});var e=f.length;for(c=F(c,b,3);e--&&!1!==c(f[e--],f[e],a););
return a};b.forOwn=P;b.forOwnRight=jb;b.functions=va;b.groupBy=Tb;b.indexBy=Ub;b.initial=function(a,c,f){var e=0,g=a?a.length:0;if("number"!=typeof c&&null!=c){var k=g;for(c=b.createCallback(c,f,3);k--&&c(a[k],k,a);)e++}else e=null==c||f?1:c||e;return t(a,0,ya(fa(0,g-e),g))};b.intersection=function(){for(var a=[],c=-1,b=arguments.length,f=g(),k=Ca(),h=k===p,d=g();++c<b;){var m=arguments[c];if(W(m)||Fa(m))a.push(m),f.push(h&&75<=m.length&&e(c?a[c]:d))}var h=a[0],t=-1,n=h?h.length:0,w=[];a:for(;++t<
n;){var E=f[0],m=h[t];if(0>(E?l(E,m):k(d,m))){c=b;for((E||d).push(m);--c;)if(E=f[c],0>(E?l(E,m):k(a[c],m)))continue a;w.push(m)}}for(;b--;)(E=f[b])&&v(E);s(f);s(d);return w};b.invert=kb;b.invoke=function(a,c){var b=t(arguments,2),f=-1,e="function"==typeof c,g=a?a.length:0,k=da("number"==typeof g?g:0);ba(a,function(a){k[++f]=(e?c:a[c]).apply(a,b)});return k};b.keys=ca;b.map=xa;b.mapValues=function(a,c,f){var e={};c=b.createCallback(c,f,3);P(a,function(a,b,f){e[b]=c(a,b,f)});return e};b.max=ob;b.memoize=
function(a,c){if(!T(a))throw new ka;var b=function(){var f=b.cache,e=c?c.apply(this,arguments):u+arguments[0];return Z.call(f,e)?f[e]:f[e]=a.apply(this,arguments)};b.cache={};return b};b.merge=function(a){var c=arguments,b=2;if(!$(a))return a;"number"!=typeof c[2]&&(b=c.length);if(3<b&&"function"==typeof c[b-2])var f=F(c[--b-1],c[b--],2);else 2<b&&"function"==typeof c[b-1]&&(f=c[--b]);for(var c=t(arguments,1,b),e=-1,k=g(),h=g();++e<b;)db(a,c[e],f,k,h);s(k);s(h);return a};b.min=function(a,f,e){var g=
Infinity,k=g;"function"!=typeof f&&e&&e[f]===a&&(f=null);if(null==f&&W(a)){e=-1;for(var h=a.length;++e<h;){var s=a[e];s<k&&(k=s)}}else f=null==f&&wa(a)?c:b.createCallback(f,e,3),ba(a,function(a,c,b){c=f(a,c,b);c<g&&(g=c,k=a)});return k};b.omit=function(a,c,f){var e={};if("function"!=typeof c){var g=[];ja(a,function(a,c){g.push(c)});for(var g=x(g,U(arguments,!0,!1,1)),k=-1,h=g.length;++k<h;){var s=g[k];e[s]=a[s]}}else c=b.createCallback(c,f,3),ja(a,function(a,b,f){c(a,b,f)||(e[b]=a)});return e};b.once=
function(a){var c,b;if(!T(a))throw new ka;return function(){if(c)return b;c=!0;b=a.apply(this,arguments);a=null;return b}};b.pairs=function(a){for(var c=-1,b=ca(a),f=b.length,e=da(f);++c<f;){var g=b[c];e[c]=[g,a[g]]}return e};b.partial=function(a){return ha(a,16,t(arguments,1))};b.partialRight=function(a){return ha(a,32,null,t(arguments,1))};b.pick=function(a,c,f){var e={};if("function"!=typeof c)for(var g=-1,k=U(arguments,!0,!1,1),h=$(a)?k.length:0;++g<h;){var s=k[g];s in a&&(e[s]=a[s])}else c=b.createCallback(c,
f,3),ja(a,function(a,b,f){c(a,b,f)&&(e[b]=a)});return e};b.pluck=Ya;b.property=yb;b.pull=function(a){for(var c=arguments,b=0,f=c.length,e=a?a.length:0;++b<f;)for(var g=-1,k=c[b];++g<e;)a[g]===k&&(Bb.call(a,g--,1),e--);return a};b.range=function(a,c,b){a=+a||0;b="number"==typeof b?b:+b||1;null==c&&(c=a,a=0);var f=-1;c=fa(0,Mb((c-a)/(b||1)));for(var e=da(c);++f<c;)e[f]=a,a+=b;return e};b.reject=function(a,c,f){c=b.createCallback(c,f,3);return Ha(a,function(a,b,f){return!c(a,b,f)})};b.remove=function(a,
c,f){var e=-1,g=a?a.length:0,k=[];for(c=b.createCallback(c,f,3);++e<g;)f=a[e],c(f,e,a)&&(k.push(f),Bb.call(a,e--,1),g--);return k};b.rest=Xa;b.shuffle=qb;b.sortBy=function(a,c,e){var h=-1,d=W(c),l=a?a.length:0,m=da("number"==typeof l?l:0);d||(c=b.createCallback(c,e,3));ba(a,function(a,b,f){var e=m[++h]=k();d?e.criteria=xa(c,function(c){return a[c]}):(e.criteria=g())[0]=c(a,b,f);e.index=h;e.value=a});l=m.length;for(m.sort(f);l--;)a=m[l],m[l]=a.value,d||s(a.criteria),v(a);return m};b.tap=function(a,
c){c(a);return a};b.throttle=function(a,c,b){var f=!0,e=!0;if(!T(a))throw new ka;!1===b?f=!1:$(b)&&(f="leading"in b?b.leading:f,e="trailing"in b?b.trailing:e);R.leading=f;R.maxWait=c;R.trailing=e;return wb(a,c,R)};b.times=function(a,c,b){a=-1<(a=+a)?a:0;var f=-1,e=da(a);for(c=F(c,b,1);++f<a;)e[f]=c(f);return e};b.toArray=function(a){return a&&"number"==typeof a.length?t(a):Ga(a)};b.transform=function(a,c,f,e){var g=W(a);if(null==f)if(g)f=[];else{var k=a&&a.constructor;f=q(k&&k.prototype)}c&&(c=b.createCallback(c,
e,4),(g?ba:P)(a,function(a,b,e){return c(f,a,b,e)}));return f};b.union=function(){return Oa(U(arguments,!0,!0))};b.uniq=tb;b.values=Ga;b.where=Ha;b.without=function(a){return x(a,t(arguments,1))};b.wrap=function(a,c){return ha(c,16,[a])};b.xor=function(){for(var a=-1,c=arguments.length;++a<c;){var b=arguments[a];if(W(b)||Fa(b))var f=f?Oa(x(f,b).concat(x(b,f))):b}return f||[]};b.zip=ub;b.zipObject=vb;b.collect=xa;b.drop=Xa;b.each=ba;b.eachRight=Ia;b.extend=Da;b.methods=va;b.object=vb;b.select=Ha;b.tail=
Xa;b.unique=tb;b.unzip=ub;Za(b);b.clone=function(a,c,b,f){"boolean"!=typeof c&&null!=c&&(f=b,b=c,c=!1);return n(a,c,"function"==typeof b&&F(b,f,1))};b.cloneDeep=function(a,c,b){return n(a,!0,"function"==typeof c&&F(c,b,1))};b.contains=mb;b.escape=function(a){return null==a?"":ma(a).replace(Rb,Db)};b.every=nb;b.find=Ua;b.findIndex=function(a,c,f){var e=-1,g=a?a.length:0;for(c=b.createCallback(c,f,3);++e<g;)if(c(a[e],e,a))return e;return-1};b.findKey=function(a,c,f){var e;c=b.createCallback(c,f,3);
P(a,function(a,b,f){if(c(a,b,f))return e=b,!1});return e};b.findLast=function(a,c,f){var e;c=b.createCallback(c,f,3);Ia(a,function(a,b,f){if(c(a,b,f))return e=a,!1});return e};b.findLastIndex=function(a,c,f){var e=a?a.length:0;for(c=b.createCallback(c,f,3);e--;)if(c(a[e],e,a))return e;return-1};b.findLastKey=function(a,c,f){var e;c=b.createCallback(c,f,3);jb(a,function(a,b,f){if(c(a,b,f))return e=b,!1});return e};b.has=function(a,c){return a?Z.call(a,c):!1};b.identity=Ra;b.indexOf=gb;b.isArguments=
Fa;b.isArray=W;b.isBoolean=function(a){return!0===a||!1===a||a&&"object"==typeof a&&"[object Boolean]"==aa.call(a)||!1};b.isDate=function(a){return a&&"object"==typeof a&&"[object Date]"==aa.call(a)||!1};b.isElement=function(a){return a&&1===a.nodeType||!1};b.isEmpty=function(a){var c=!0;if(!a)return c;var b=aa.call(a),f=a.length;if("[object Array]"==b||"[object String]"==b||"[object Arguments]"==b||"[object Object]"==b&&"number"==typeof f&&T(a.splice))return!f;P(a,function(){return c=!1});return c};
b.isEqual=function(a,c,b,f){return O(a,c,"function"==typeof b&&F(b,f,2))};b.isFinite=function(a){return Nb(a)&&!Ob(parseFloat(a))};b.isFunction=T;b.isNaN=function(a){return lb(a)&&a!=+a};b.isNull=function(a){return null===a};b.isNumber=lb;b.isObject=$;b.isPlainObject=Sa;b.isRegExp=function(a){return a&&"object"==typeof a&&"[object RegExp]"==aa.call(a)||!1};b.isString=wa;b.isUndefined=function(a){return"undefined"==typeof a};b.lastIndexOf=function(a,c,b){var f=a?a.length:0;for("number"==typeof b&&
(f=(0>b?fa(0,f+b):ya(b,f-1))+1);f--;)if(a[f]===c)return f;return-1};b.mixin=Za;b.noConflict=function(){a._=Lb;return this};b.noop=xb;b.now=oa;b.parseInt=Vb;b.random=function(a,c,b){var f=null==a,e=null==c;null==b&&("boolean"==typeof a&&e?(b=a,a=1):e||"boolean"!=typeof c||(b=c,e=!0));f&&e&&(c=1);a=+a||0;e?(c=a,a=0):c=+c||0;return b||a%1||c%1?(b=fb(),ya(a+b*(c-a+parseFloat("1e-"+((b+"").length-1))),c)):Na(a,c)};b.reduce=Va;b.reduceRight=pb;b.result=function(a,c){if(a){var b=a[c];return T(b)?a[c]():
b}};b.runInContext=w;b.size=function(a){var c=a?a.length:0;return"number"==typeof c?c:ca(a).length};b.some=rb;b.sortedIndex=sb;b.template=function(a,c,f){var e=b.templateSettings;a=ma(a||"");f=cb({},f,e);var g=cb({},f.imports,e.imports),e=ca(g),g=Ga(g),k,s=0,d=f.interpolate||K,v="__p += '",d=Ba((f.escape||K).source+"|"+d.source+"|"+(d===z?G:K).source+"|"+(f.evaluate||K).source+"|$","g");a.replace(d,function(c,b,f,e,g,d){f||(f=e);v+=a.slice(s,d).replace(N,h);b&&(v+="' +\n__e("+b+") +\n'");g&&(k=!0,
v+="';\n"+g+";\n__p += '");f&&(v+="' +\n((__t = ("+f+")) == null ? '' : __t) +\n'");s=d+c.length;return c});var v=v+"';\n",l=d=f.variable;l||(d="obj",v="with ("+d+") {\n"+v+"\n}\n");v=(k?v.replace(A,""):v).replace(B,"$1").replace(y,"$1;");v="function("+d+") {\n"+(l?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(k?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";f="\n/*\n//# sourceURL="+(f.sourceURL||"/lodash/template/source["+
ga++ +"]")+"\n*/";try{var m=Ka(e,"return "+v+f).apply(E,g)}catch(t){throw t.source=v,t;}if(c)return m(c);m.source=v;return m};b.unescape=function(a){return null==a?"":ma(a).replace(Qb,Ib)};b.uniqueId=function(a){var c=++C;return ma(null==a?"":a)+c};b.all=nb;b.any=rb;b.detect=Ua;b.findWhere=Ua;b.foldl=Va;b.foldr=pb;b.include=mb;b.inject=Va;Za(function(){var a={};P(b,function(c,f){b.prototype[f]||(a[f]=c)});return a}(),!1);b.first=Wa;b.last=function(a,c,f){var e=0,g=a?a.length:0;if("number"!=typeof c&&
null!=c){var k=g;for(c=b.createCallback(c,f,3);k--&&c(a[k],k,a);)e++}else if(e=c,null==e||f)return a?a[g-1]:E;return t(a,fa(0,g-e))};b.sample=function(a,c,b){a&&"number"!=typeof a.length&&(a=Ga(a));if(null==c||b)return a?a[Na(0,a.length-1)]:E;a=qb(a);a.length=ya(fa(0,c),a.length);return a};b.take=Wa;b.head=Wa;P(b,function(a,c){var f="sample"!==c;b.prototype[c]||(b.prototype[c]=function(c,b){var e=this.__chain__,g=a(this.__wrapped__,c,b);return e||null!=c&&(!b||f&&"function"==typeof c)?new d(g,e):
g})});b.VERSION="2.4.1";b.prototype.chain=function(){this.__chain__=!0;return this};b.prototype.toString=function(){return ma(this.__wrapped__)};b.prototype.value=zb;b.prototype.valueOf=zb;ba(["join","pop","shift"],function(a){var c=qa[a];b.prototype[a]=function(){var a=this.__chain__,b=c.apply(this.__wrapped__,arguments);return a?new d(b,a):b}});ba(["push","reverse","sort","unshift"],function(a){var c=qa[a];b.prototype[a]=function(){c.apply(this.__wrapped__,arguments);return this}});ba(["concat",
"slice","splice"],function(a){var c=qa[a];b.prototype[a]=function(){return new d(c.apply(this.__wrapped__,arguments),this.__chain__)}});return b}var E,F=[],r=[],C=0,u=+new Date+"",A=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,H=/\w*$/,J=/^\s*function[ \n\r\t]+\w/,z=/<%=([\s\S]+?)%>/g,D=RegExp("^[ \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]*0+(?=.$)"),
K=/($^)/,L=/\bthis\b/,N=/['\n\r\t\u2028\u2029\\]/g,I="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),ga=0,M={"[object Function]":!1};M["[object Arguments]"]=M["[object Array]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Number]"]=M["[object Object]"]=M["[object RegExp]"]=M["[object String]"]=!0;var R={leading:!1,maxWait:0,trailing:!1},X={configurable:!1,enumerable:!1,value:null,writable:!1},Q={"boolean":!1,
"function":!0,object:!0,number:!1,string:!1,undefined:!1},U={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ea=Q[typeof window]&&window||this,O=Q[typeof n]&&n;!O||O.global!==O&&O.window!==O||(ea=O);var S=w();ea._=S;!(b=function(){return S}.call(q,d,q,m),b!==E&&(m.exports=b))}).call(this)}).call(q,d(106)(r),function(){return this}())},function(r,q,d){(function(){var b=b||{};b.WEBGL_RENDERER=0;b.CANVAS_RENDERER=1;b.VERSION="v1.6.1";b.blendModes={NORMAL:0,ADD:1,MULTIPLY:2,
SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16};b.scaleModes={DEFAULT:0,LINEAR:0,NEAREST:1};b._UID=0;"undefined"!=typeof Float32Array?(b.Float32Array=Float32Array,b.Uint16Array=Uint16Array):(b.Float32Array=Array,b.Uint16Array=Array);b.INTERACTION_FREQUENCY=30;b.AUTO_PREVENT_DEFAULT=!0;b.RAD_TO_DEG=180/Math.PI;b.DEG_TO_RAD=Math.PI/180;b.dontSayHello=!1;b.sayHello=function(a){b.dontSayHello||
(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?console.log.apply(console,["%c %c %c Pixi.js "+b.VERSION+" - "+a+"  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 ","background: #ff66a5","background: #ff66a5","color: #ff66a5; background: #030307;","background: #ff66a5","background: #ffc3dc","background: #ff66a5","color: #ff2424; background: #fff","color: #ff2424; background: #fff","color: #ff2424; background: #fff"]):window.console&&console.log("Pixi.js "+b.VERSION+" - http://www.pixijs.com/"),
b.dontSayHello=!0)};b.Point=function(a,c){this.x=a||0;this.y=c||0};b.Point.prototype.clone=function(){return new b.Point(this.x,this.y)};b.Point.prototype.set=function(a,c){this.x=a||0;this.y=c||(0!==c?this.x:0)};b.Point.prototype.constructor=b.Point;b.Rectangle=function(a,c,b,e){this.x=a||0;this.y=c||0;this.width=b||0;this.height=e||0};b.Rectangle.prototype.clone=function(){return new b.Rectangle(this.x,this.y,this.width,this.height)};b.Rectangle.prototype.contains=function(a,c){if(0>=this.width||
0>=this.height)return!1;var b=this.x;return a>=b&&a<=b+this.width&&(b=this.y,c>=b&&c<=b+this.height)?!0:!1};b.Rectangle.prototype.constructor=b.Rectangle;b.EmptyRectangle=new b.Rectangle(0,0,0,0);b.Polygon=function(a){a instanceof Array||(a=Array.prototype.slice.call(arguments));if("number"===typeof a[0]){for(var c=[],f=0,e=a.length;f<e;f+=2)c.push(new b.Point(a[f],a[f+1]));a=c}this.points=a};b.Polygon.prototype.clone=function(){for(var a=[],c=0;c<this.points.length;c++)a.push(this.points[c].clone());
return new b.Polygon(a)};b.Polygon.prototype.contains=function(a,c){for(var b=!1,e=0,h=this.points.length-1;e<this.points.length;h=e++){var g=this.points[e].x,k=this.points[e].y,s=this.points[h].x,h=this.points[h].y;k>c!==h>c&&a<(s-g)*(c-k)/(h-k)+g&&(b=!b)}return b};b.Polygon.prototype.constructor=b.Polygon;b.Circle=function(a,c,b){this.x=a||0;this.y=c||0;this.radius=b||0};b.Circle.prototype.clone=function(){return new b.Circle(this.x,this.y,this.radius)};b.Circle.prototype.contains=function(a,c){if(0>=
this.radius)return!1;var b=this.x-a,e=this.y-c,h=this.radius*this.radius;return b*b+e*e<=h};b.Circle.prototype.getBounds=function(){return new b.Rectangle(this.x-this.radius,this.y-this.radius,this.width,this.height)};b.Circle.prototype.constructor=b.Circle;b.Ellipse=function(a,c,b,e){this.x=a||0;this.y=c||0;this.width=b||0;this.height=e||0};b.Ellipse.prototype.clone=function(){return new b.Ellipse(this.x,this.y,this.width,this.height)};b.Ellipse.prototype.contains=function(a,c){if(0>=this.width||
0>=this.height)return!1;var b=(a-this.x)/this.width,e=(c-this.y)/this.height;return 1>=b*b+e*e};b.Ellipse.prototype.getBounds=function(){return new b.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)};b.Ellipse.prototype.constructor=b.Ellipse;b.Matrix=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0};b.Matrix.prototype.fromArray=function(a){this.a=a[0];this.b=a[1];this.c=a[3];this.d=a[4];this.tx=a[2];this.ty=a[5]};b.Matrix.prototype.toArray=function(a){this.array||
(this.array=new Float32Array(9));var c=this.array;a?(c[0]=this.a,c[1]=this.c,c[2]=0,c[3]=this.b,c[4]=this.d,c[5]=0,c[6]=this.tx,c[7]=this.ty):(c[0]=this.a,c[1]=this.b,c[2]=this.tx,c[3]=this.c,c[4]=this.d,c[5]=this.ty,c[6]=0,c[7]=0);c[8]=1;return c};b.identityMatrix=new b.Matrix;b.determineMatrixArrayType=function(){return"undefined"!==typeof Float32Array?Float32Array:Array};b.Matrix2=b.determineMatrixArrayType();b.DisplayObject=function(){this.position=new b.Point;this.scale=new b.Point(1,1);this.pivot=
new b.Point(0,0);this.rotation=0;this.alpha=1;this.visible=!0;this.hitArea=null;this.renderable=this.buttonMode=!1;this.stage=this.parent=null;this.worldAlpha=1;this._interactive=!1;this.defaultCursor="pointer";this.worldTransform=new b.Matrix;this.color=[];this.dynamic=!0;this._sr=0;this._cr=1;this.filterArea=null;this._bounds=new b.Rectangle(0,0,1,1);this._mask=this._currentBounds=null;this._cacheIsDirty=this._cacheAsBitmap=!1};b.DisplayObject.prototype.constructor=b.DisplayObject;b.DisplayObject.prototype.setInteractive=
function(a){this.interactive=a};Object.defineProperty(b.DisplayObject.prototype,"interactive",{get:function(){return this._interactive},set:function(a){this._interactive=a;this.stage&&(this.stage.dirty=!0)}});Object.defineProperty(b.DisplayObject.prototype,"worldVisible",{get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}});Object.defineProperty(b.DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(a){this._mask&&(this._mask.isMask=!1);if(this._mask=
a)this._mask.isMask=!0}});Object.defineProperty(b.DisplayObject.prototype,"filters",{get:function(){return this._filters},set:function(a){if(a){for(var c=[],b=0;b<a.length;b++)for(var e=a[b].passes,h=0;h<e.length;h++)c.push(e[h]);this._filterBlock={target:this,filterPasses:c}}this._filters=a}});Object.defineProperty(b.DisplayObject.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(a){this._cacheAsBitmap!==a&&(a?this._generateCachedSprite():this._destroyCachedSprite(),
this._cacheAsBitmap=a)}});b.DisplayObject.prototype.updateTransform=function(){this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation));var a=this.parent.worldTransform,c=this.worldTransform,b=this.pivot.x,e=this.pivot.y,h=this._cr*this.scale.x,g=-this._sr*this.scale.y,k=this._sr*this.scale.x,s=this._cr*this.scale.y,d=this.position.x-h*b-e*g,b=this.position.y-s*e-b*k,e=a.a,l=a.b,m=a.c,p=a.d;c.a=e*h+l*k;c.b=e*g+l*s;c.tx=
e*d+l*b+a.tx;c.c=m*h+p*k;c.d=m*g+p*s;c.ty=m*d+p*b+a.ty;this.worldAlpha=this.alpha*this.parent.worldAlpha};b.DisplayObject.prototype.getBounds=function(a){return b.EmptyRectangle};b.DisplayObject.prototype.getLocalBounds=function(){return this.getBounds(b.identityMatrix)};b.DisplayObject.prototype.setStageReference=function(a){this.stage=a;this._interactive&&(this.stage.dirty=!0)};b.DisplayObject.prototype.generateTexture=function(a){var c=this.getLocalBounds();a=new b.RenderTexture(c.width|0,c.height|
0,a);a.render(this,new b.Point(-c.x,-c.y));return a};b.DisplayObject.prototype.updateCache=function(){this._generateCachedSprite()};b.DisplayObject.prototype._renderCachedSprite=function(a){this._cachedSprite.worldAlpha=this.worldAlpha;a.gl?b.Sprite.prototype._renderWebGL.call(this._cachedSprite,a):b.Sprite.prototype._renderCanvas.call(this._cachedSprite,a)};b.DisplayObject.prototype._generateCachedSprite=function(){this._cacheAsBitmap=!1;var a=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.texture.resize(a.width|
0,a.height|0);else{var c=new b.RenderTexture(a.width|0,a.height|0);this._cachedSprite=new b.Sprite(c);this._cachedSprite.worldTransform=this.worldTransform}c=this._filters;this._filters=null;this._cachedSprite.filters=c;this._cachedSprite.texture.render(this,new b.Point(-a.x,-a.y));this._cachedSprite.anchor.x=-(a.x/a.width);this._cachedSprite.anchor.y=-(a.y/a.height);this._filters=c;this._cacheAsBitmap=!0};b.DisplayObject.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),
this._cachedSprite=null)};b.DisplayObject.prototype._renderWebGL=function(a){};b.DisplayObject.prototype._renderCanvas=function(a){};Object.defineProperty(b.DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(a){this.position.x=a}});Object.defineProperty(b.DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(a){this.position.y=a}});b.DisplayObjectContainer=function(){b.DisplayObject.call(this);this.children=[]};b.DisplayObjectContainer.prototype=
Object.create(b.DisplayObject.prototype);b.DisplayObjectContainer.prototype.constructor=b.DisplayObjectContainer;Object.defineProperty(b.DisplayObjectContainer.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var c=this.getLocalBounds().width;this.scale.x=0!==c?a/(c/this.scale.x):1;this._width=a}});Object.defineProperty(b.DisplayObjectContainer.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var c=
this.getLocalBounds().height;this.scale.y=0!==c?a/(c/this.scale.y):1;this._height=a}});b.DisplayObjectContainer.prototype.addChild=function(a){return this.addChildAt(a,this.children.length)};b.DisplayObjectContainer.prototype.addChildAt=function(a,c){if(0<=c&&c<=this.children.length)return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(c,0,a),this.stage&&a.setStageReference(this.stage),a;throw Error(a+" The index "+c+" supplied is out of bounds "+this.children.length);};b.DisplayObjectContainer.prototype.swapChildren=
function(a,c){if(a!==c){var b=this.children.indexOf(a),e=this.children.indexOf(c);if(0>b||0>e)throw Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[b]=c;this.children[e]=a}};b.DisplayObjectContainer.prototype.getChildAt=function(a){if(0<=a&&a<this.children.length)return this.children[a];throw Error("Supplied index does not exist in the child list, or the supplied DisplayObject must be a child of the caller");};b.DisplayObjectContainer.prototype.removeChild=
function(a){return this.removeChildAt(this.children.indexOf(a))};b.DisplayObjectContainer.prototype.removeChildAt=function(a){var c=this.getChildAt(a);this.stage&&c.removeStageReference();c.parent=void 0;this.children.splice(a,1);return c};b.DisplayObjectContainer.prototype.removeChildren=function(a,c){var b=a||0,e="number"===typeof c?c:this.children.length,h=e-b;if(0<h&&h<=e){b=this.children.splice(b,h);for(e=0;e<b.length;e++)h=b[e],this.stage&&h.removeStageReference(),h.parent=void 0;return b}throw Error("Range Error, numeric values are outside the acceptable range");
};b.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(b.DisplayObject.prototype.updateTransform.call(this),!this._cacheAsBitmap))for(var a=0,c=this.children.length;a<c;a++)this.children[a].updateTransform()};b.DisplayObjectContainer.prototype.getBounds=function(a){if(0===this.children.length)return b.EmptyRectangle;if(a){var c=this.worldTransform;this.worldTransform=a;this.updateTransform();this.worldTransform=c}for(var f=c=Infinity,e=-Infinity,h=-Infinity,g,k,s=!1,d=0,
l=this.children.length;d<l;d++)this.children[d].visible&&(s=!0,g=this.children[d].getBounds(a),c=c<g.x?c:g.x,f=f<g.y?f:g.y,k=g.width+g.x,g=g.height+g.y,e=e>k?e:k,h=h>g?h:g);if(!s)return b.EmptyRectangle;a=this._bounds;a.x=c;a.y=f;a.width=e-c;a.height=h-f;return a};b.DisplayObjectContainer.prototype.getLocalBounds=function(){var a=this.worldTransform;this.worldTransform=b.identityMatrix;for(var c=0,f=this.children.length;c<f;c++)this.children[c].updateTransform();c=this.getBounds();this.worldTransform=
a;return c};b.DisplayObjectContainer.prototype.setStageReference=function(a){this.stage=a;this._interactive&&(this.stage.dirty=!0);for(var c=0,b=this.children.length;c<b;c++)this.children[c].setStageReference(a)};b.DisplayObjectContainer.prototype.removeStageReference=function(){for(var a=0,c=this.children.length;a<c;a++)this.children[a].removeStageReference();this._interactive&&(this.stage.dirty=!0);this.stage=null};b.DisplayObjectContainer.prototype._renderWebGL=function(a){if(this.visible&&!(0>=
this.alpha))if(this._cacheAsBitmap)this._renderCachedSprite(a);else{var c,b;if(this._mask||this._filters){this._filters&&(a.spriteBatch.flush(),a.filterManager.pushFilter(this._filterBlock));this._mask&&(a.spriteBatch.stop(),a.maskManager.pushMask(this.mask,a),a.spriteBatch.start());c=0;for(b=this.children.length;c<b;c++)this.children[c]._renderWebGL(a);a.spriteBatch.stop();this._mask&&a.maskManager.popMask(this._mask,a);this._filters&&a.filterManager.popFilter();a.spriteBatch.start()}else for(c=
0,b=this.children.length;c<b;c++)this.children[c]._renderWebGL(a)}};b.DisplayObjectContainer.prototype._renderCanvas=function(a){if(!1!==this.visible&&0!==this.alpha)if(this._cacheAsBitmap)this._renderCachedSprite(a);else{this._mask&&a.maskManager.pushMask(this._mask,a.context);for(var c=0,b=this.children.length;c<b;c++)this.children[c]._renderCanvas(a);this._mask&&a.maskManager.popMask(a.context)}};b.Sprite=function(a){b.DisplayObjectContainer.call(this);this.anchor=new b.Point;this.texture=a;this._height=
this._width=0;this.tint=16777215;this.blendMode=b.blendModes.NORMAL;if(a.baseTexture.hasLoaded)this.onTextureUpdate();else this.onTextureUpdateBind=this.onTextureUpdate.bind(this),this.texture.addEventListener("update",this.onTextureUpdateBind);this.renderable=!0};b.Sprite.prototype=Object.create(b.DisplayObjectContainer.prototype);b.Sprite.prototype.constructor=b.Sprite;Object.defineProperty(b.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(a){this.scale.x=
a/this.texture.frame.width;this._width=a}});Object.defineProperty(b.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(a){this.scale.y=a/this.texture.frame.height;this._height=a}});b.Sprite.prototype.setTexture=function(a){this.texture=a;this.cachedTint=16777215};b.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width);this._height&&(this.scale.y=this._height/this.texture.frame.height)};b.Sprite.prototype.getBounds=
function(a){var c=this.texture.frame.width,b=this.texture.frame.height,e=c*(1-this.anchor.x),h=c*-this.anchor.x,g=b*(1-this.anchor.y),k=b*-this.anchor.y;a=a||this.worldTransform;var s=a.a,d=a.c,l=a.b,m=a.d,p=a.tx,n=a.ty;a=s*h+l*k+p;var b=m*k+d*h+n,c=s*e+l*k+p,k=m*k+d*e+n,q=s*e+l*g+p,e=m*g+d*e+n,s=s*h+l*g+p,h=m*g+d*h+n,d=g=-Infinity,l=m=Infinity,m=a<m?a:m,m=c<m?c:m,m=q<m?q:m,m=s<m?s:m,l=b<l?b:l,l=k<l?k:l,l=e<l?e:l,l=h<l?h:l,g=a>g?a:g,g=c>g?c:g,g=q>g?q:g,d=b>d?b:d,d=k>d?k:d,d=e>d?e:d;a=this._bounds;
a.x=m;a.width=(s>g?s:g)-m;a.y=l;a.height=(h>d?h:d)-l;return this._currentBounds=a};b.Sprite.prototype._renderWebGL=function(a){if(this.visible&&!(0>=this.alpha)){var c,b;if(this._mask||this._filters){var e=a.spriteBatch;this._filters&&(e.flush(),a.filterManager.pushFilter(this._filterBlock));this._mask&&(e.stop(),a.maskManager.pushMask(this.mask,a),e.start());e.render(this);c=0;for(b=this.children.length;c<b;c++)this.children[c]._renderWebGL(a);e.stop();this._mask&&a.maskManager.popMask(this._mask,
a);this._filters&&a.filterManager.popFilter();e.start()}else for(a.spriteBatch.render(this),c=0,b=this.children.length;c<b;c++)this.children[c]._renderWebGL(a)}};b.Sprite.prototype._renderCanvas=function(a){if(!1!==this.visible&&0!==this.alpha){this.blendMode!==a.currentBlendMode&&(a.currentBlendMode=this.blendMode,a.context.globalCompositeOperation=b.blendModesCanvas[a.currentBlendMode]);this._mask&&a.maskManager.pushMask(this._mask,a.context);if(this.texture.valid){a.context.globalAlpha=this.worldAlpha;
a.roundPixels?a.context.setTransform(this.worldTransform.a,this.worldTransform.c,this.worldTransform.b,this.worldTransform.d,this.worldTransform.tx|0,this.worldTransform.ty|0):a.context.setTransform(this.worldTransform.a,this.worldTransform.c,this.worldTransform.b,this.worldTransform.d,this.worldTransform.tx,this.worldTransform.ty);a.smoothProperty&&a.scaleMode!==this.texture.baseTexture.scaleMode&&(a.scaleMode=this.texture.baseTexture.scaleMode,a.context[a.smoothProperty]=a.scaleMode===b.scaleModes.LINEAR);
var c=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,f=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=b.CanvasTinter.getTintedTexture(this,this.tint)),a.context.drawImage(this.tintedTexture,0,0,this.texture.crop.width,this.texture.crop.height,c,f,this.texture.crop.width,
this.texture.crop.height)):a.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,c,f,this.texture.crop.width,this.texture.crop.height)}c=0;for(f=this.children.length;c<f;c++)this.children[c]._renderCanvas(a);this._mask&&a.maskManager.popMask(a.context)}};b.Sprite.fromFrame=function(a){var c=b.TextureCache[a];if(!c)throw Error('The frameId "'+a+'" does not exist in the texture cache'+this);return new b.Sprite(c)};
b.Sprite.fromImage=function(a,c,f){a=b.Texture.fromImage(a,c,f);return new b.Sprite(a)};b.SpriteBatch=function(a){b.DisplayObjectContainer.call(this);this.textureThing=a;this.ready=!1};b.SpriteBatch.prototype=Object.create(b.DisplayObjectContainer.prototype);b.SpriteBatch.constructor=b.SpriteBatch;b.SpriteBatch.prototype.initWebGL=function(a){this.fastSpriteBatch=new b.WebGLFastSpriteBatch(a);this.ready=!0};b.SpriteBatch.prototype.updateTransform=function(){b.DisplayObject.prototype.updateTransform.call(this)};
b.SpriteBatch.prototype._renderWebGL=function(a){!this.visible||0>=this.alpha||!this.children.length||(this.ready||this.initWebGL(a.gl),a.spriteBatch.stop(),a.shaderManager.setShader(a.shaderManager.fastShader),this.fastSpriteBatch.begin(this,a),this.fastSpriteBatch.render(this),a.spriteBatch.start())};b.SpriteBatch.prototype._renderCanvas=function(a){var c=a.context;c.globalAlpha=this.worldAlpha;b.DisplayObject.prototype.updateTransform.call(this);for(var f=this.worldTransform,e=!0,h=0;h<this.children.length;h++){var g=
this.children[h];if(g.visible){var k=g.texture,s=k.frame;c.globalAlpha=this.worldAlpha*g.alpha;if(0===g.rotation%(2*Math.PI))e&&(c.setTransform(f.a,f.c,f.b,f.d,f.tx,f.ty),e=!1),c.drawImage(k.baseTexture.source,s.x,s.y,s.width,s.height,g.anchor.x*-s.width*g.scale.x+g.position.x+.5|0,g.anchor.y*-s.height*g.scale.y+g.position.y+.5|0,s.width*g.scale.x,s.height*g.scale.y);else{e||(e=!0);b.DisplayObject.prototype.updateTransform.call(g);var d=g.worldTransform;a.roundPixels?c.setTransform(d.a,d.c,d.b,d.d,
d.tx|0,d.ty|0):c.setTransform(d.a,d.c,d.b,d.d,d.tx,d.ty);c.drawImage(k.baseTexture.source,s.x,s.y,s.width,s.height,g.anchor.x*-s.width+.5|0,g.anchor.y*-s.height+.5|0,s.width,s.height)}}}};b.MovieClip=function(a){b.Sprite.call(this,a[0]);this.textures=a;this.animationSpeed=1;this.loop=!0;this.onComplete=null;this.currentFrame=0;this.playing=!1};b.MovieClip.prototype=Object.create(b.Sprite.prototype);b.MovieClip.prototype.constructor=b.MovieClip;Object.defineProperty(b.MovieClip.prototype,"totalFrames",
{get:function(){return this.textures.length}});b.MovieClip.prototype.stop=function(){this.playing=!1};b.MovieClip.prototype.play=function(){this.playing=!0};b.MovieClip.prototype.gotoAndStop=function(a){this.playing=!1;this.currentFrame=a;this.setTexture(this.textures[(this.currentFrame+.5|0)%this.textures.length])};b.MovieClip.prototype.gotoAndPlay=function(a){this.currentFrame=a;this.playing=!0};b.MovieClip.prototype.updateTransform=function(){b.Sprite.prototype.updateTransform.call(this);if(this.playing){this.currentFrame+=
this.animationSpeed;var a=this.currentFrame+.5|0;this.currentFrame%=this.textures.length;if(this.loop||a<this.textures.length)this.setTexture(this.textures[a%this.textures.length]);else if(a>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete))this.onComplete()}};b.MovieClip.fromFrames=function(a){for(var c=[],f=0;f<a.length;f++)c.push(new b.Texture.fromFrame(a[f]));return new b.MovieClip(c)};b.MovieClip.fromImages=function(a){for(var c=[],f=0;f<a.length;f++)c.push(new b.Texture.fromImage(a[f]));
return new b.MovieClip(c)};b.FilterBlock=function(){this.renderable=this.visible=!0};b.Text=function(a,c){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");b.Sprite.call(this,b.Texture.fromCanvas(this.canvas));this.setText(a);this.setStyle(c)};b.Text.prototype=Object.create(b.Sprite.prototype);b.Text.prototype.constructor=b.Text;Object.defineProperty(b.Text.prototype,"width",{get:function(){this.dirty&&(this.updateText(),this.dirty=!1);return this.scale.x*this.texture.frame.width},
set:function(a){this.scale.x=a/this.texture.frame.width;this._width=a}});Object.defineProperty(b.Text.prototype,"height",{get:function(){this.dirty&&(this.updateText(),this.dirty=!1);return this.scale.y*this.texture.frame.height},set:function(a){this.scale.y=a/this.texture.frame.height;this._height=a}});b.Text.prototype.setStyle=function(a){a=a||{};a.font=a.font||"bold 20pt Arial";a.fill=a.fill||"black";a.align=a.align||"left";a.stroke=a.stroke||"black";a.strokeThickness=a.strokeThickness||0;a.wordWrap=
a.wordWrap||!1;a.wordWrapWidth=a.wordWrapWidth||100;a.wordWrapWidth=a.wordWrapWidth||100;a.dropShadow=a.dropShadow||!1;a.dropShadowAngle=a.dropShadowAngle||Math.PI/6;a.dropShadowDistance=a.dropShadowDistance||4;a.dropShadowColor=a.dropShadowColor||"black";this.style=a;this.dirty=!0};b.Text.prototype.setText=function(a){this.text=a.toString()||" ";this.dirty=!0};b.Text.prototype.updateText=function(){this.context.font=this.style.font;var a=this.text;this.style.wordWrap&&(a=this.wordWrap(this.text));
for(var a=a.split(/(?:\r\n|\r|\n)/),c=[],b=0,e=0;e<a.length;e++){var h=this.context.measureText(a[e]).width;c[e]=h;b=Math.max(b,h)}e=b+this.style.strokeThickness;this.style.dropShadow&&(e+=this.style.dropShadowDistance);this.canvas.width=e+this.context.lineWidth;h=this.determineFontHeight("font: "+this.style.font+";")+this.style.strokeThickness;e=h*a.length;this.style.dropShadow&&(e+=this.style.dropShadowDistance);this.canvas.height=e;navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,
this.canvas.height);this.context.font=this.style.font;this.context.strokeStyle=this.style.stroke;this.context.lineWidth=this.style.strokeThickness;this.context.textBaseline="top";var g,k;if(this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;for(var s=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,d=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance,e=0;e<a.length;e++)g=this.style.strokeThickness/2,k=this.style.strokeThickness/2+e*h,"right"===
this.style.align?g+=b-c[e]:"center"===this.style.align&&(g+=(b-c[e])/2),this.style.fill&&this.context.fillText(a[e],g+s,k+d)}this.context.fillStyle=this.style.fill;for(e=0;e<a.length;e++)g=this.style.strokeThickness/2,k=this.style.strokeThickness/2+e*h,"right"===this.style.align?g+=b-c[e]:"center"===this.style.align&&(g+=(b-c[e])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(a[e],g,k),this.style.fill&&this.context.fillText(a[e],g,k);this.updateTexture()};b.Text.prototype.updateTexture=
function(){this.texture.baseTexture.width=this.canvas.width;this.texture.baseTexture.height=this.canvas.height;this.texture.crop.width=this.texture.frame.width=this.canvas.width;this.texture.crop.height=this.texture.frame.height=this.canvas.height;this._width=this.canvas.width;this._height=this.canvas.height;this.requiresUpdate=!0};b.Text.prototype._renderWebGL=function(a){this.requiresUpdate&&(this.requiresUpdate=!1,b.updateWebGLTexture(this.texture.baseTexture,a.gl));b.Sprite.prototype._renderWebGL.call(this,
a)};b.Text.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1);b.Sprite.prototype.updateTransform.call(this)};b.Text.prototype.determineFontHeight=function(a){var c=b.Text.heightCache[a];if(!c){var f=document.getElementsByTagName("body")[0],e=document.createElement("div"),c=document.createTextNode("M");e.appendChild(c);e.setAttribute("style",a+";position:absolute;top:0;left:0");f.appendChild(e);c=e.offsetHeight;b.Text.heightCache[a]=c;f.removeChild(e)}return c};b.Text.prototype.wordWrap=
function(a){var c="";a=a.split("\n");for(var b=0;b<a.length;b++){for(var e=this.style.wordWrapWidth,h=a[b].split(" "),g=0;g<h.length;g++){var k=this.context.measureText(h[g]).width,s=k+this.context.measureText(" ").width;0===g||s>e?(0<g&&(c+="\n"),c+=h[g],e=this.style.wordWrapWidth-k):(e-=s,c+=" "+h[g])}b<a.length-1&&(c+="\n")}return c};b.Text.prototype.destroy=function(a){this.canvas=this.context=null;this.texture.destroy(void 0===a?!0:a)};b.Text.heightCache={};b.BitmapText=function(a,c){b.DisplayObjectContainer.call(this);
this._pool=[];this.setText(a);this.setStyle(c);this.updateText();this.dirty=!1};b.BitmapText.prototype=Object.create(b.DisplayObjectContainer.prototype);b.BitmapText.prototype.constructor=b.BitmapText;b.BitmapText.prototype.setText=function(a){this.text=a||" ";this.dirty=!0};b.BitmapText.prototype.setStyle=function(a){a=a||{};a.align=a.align||"left";this.style=a;var c=a.font.split(" ");this.fontName=c[c.length-1];this.fontSize=2<=c.length?parseInt(c[c.length-2],10):b.BitmapText.fonts[this.fontName].size;
this.dirty=!0;this.tint=a.tint};b.BitmapText.prototype.updateText=function(){for(var a=b.BitmapText.fonts[this.fontName],c=new b.Point,f=null,e=[],h=0,g=[],k=0,s=this.fontSize/a.size,d=0;d<this.text.length;d++){var l=this.text.charCodeAt(d);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(d)))g.push(c.x),h=Math.max(h,c.x),k++,c.x=0,c.y+=a.lineHeight,f=null;else{var m=a.chars[l];m&&(f&&m[f]&&(c.x+=m.kerning[f]),e.push({texture:m.texture,line:k,charCode:l,position:new b.Point(c.x+m.xOffset,c.y+m.yOffset)}),
c.x+=m.xAdvance,f=l)}}g.push(c.x);h=Math.max(h,c.x);f=[];for(d=0;d<=k;d++)l=0,"right"===this.style.align?l=h-g[d]:"center"===this.style.align&&(l=(h-g[d])/2),f.push(l);k=this.children.length;g=e.length;l=this.tint||16777215;for(d=0;d<g;d++)(m=d<k?this.children[d]:this._pool.pop())?m.setTexture(e[d].texture):m=new b.Sprite(e[d].texture),m.position.x=(e[d].position.x+f[e[d].line])*s,m.position.y=e[d].position.y*s,m.scale.x=m.scale.y=s,m.tint=l,m.parent||this.addChild(m);for(;this.children.length>g;)e=
this.getChildAt(this.children.length-1),this._pool.push(e),this.removeChild(e);this.textWidth=h*s;this.textHeight=(c.y+a.lineHeight)*s};b.BitmapText.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1);b.DisplayObjectContainer.prototype.updateTransform.call(this)};b.BitmapText.fonts={};b.InteractionData=function(){this.global=new b.Point;this.originalEvent=this.target=null};b.InteractionData.prototype.getLocalPosition=function(a){var c=a.worldTransform;a=this.global;
var f=c.a,e=c.b,h=c.tx,g=c.c,k=c.d,c=c.ty,s=1/(f*k+e*-g);return new b.Point(k*s*a.x+-e*s*a.y+(c*e-h*k)*s,f*s*a.y+-g*s*a.x+(-c*f+h*g)*s)};b.InteractionData.prototype.constructor=b.InteractionData;b.InteractionManager=function(a){this.stage=a;this.mouse=new b.InteractionData;this.touchs={};this.tempPoint=new b.Point;this.mouseoverEnabled=!0;this.pool=[];this.interactiveItems=[];this.interactionDOMElement=null;this.onMouseMove=this.onMouseMove.bind(this);this.onMouseDown=this.onMouseDown.bind(this);
this.onMouseOut=this.onMouseOut.bind(this);this.onMouseUp=this.onMouseUp.bind(this);this.onTouchStart=this.onTouchStart.bind(this);this.onTouchEnd=this.onTouchEnd.bind(this);this.onTouchMove=this.onTouchMove.bind(this);this.last=0;this.currentCursorStyle="inherit";this.mouseOut=!1};b.InteractionManager.prototype.constructor=b.InteractionManager;b.InteractionManager.prototype.collectInteractiveSprite=function(a,c){for(var b=a.children,e=b.length-1;0<=e;e--){var h=b[e];h._interactive?(c.interactiveChildren=
!0,this.interactiveItems.push(h),0<h.children.length&&this.collectInteractiveSprite(h,h)):(h.__iParent=null,0<h.children.length&&this.collectInteractiveSprite(h,c))}};b.InteractionManager.prototype.setTarget=function(a){this.target=a;null===this.interactionDOMElement&&this.setTargetDomElement(a.view)};b.InteractionManager.prototype.setTargetDomElement=function(a){this.removeEvents();window.navigator.msPointerEnabled&&(a.style["-ms-content-zooming"]="none",a.style["-ms-touch-action"]="none");this.interactionDOMElement=
a;a.addEventListener("mousemove",this.onMouseMove,!0);a.addEventListener("mousedown",this.onMouseDown,!0);a.addEventListener("mouseout",this.onMouseOut,!0);a.addEventListener("touchstart",this.onTouchStart,!0);a.addEventListener("touchend",this.onTouchEnd,!0);a.addEventListener("touchmove",this.onTouchMove,!0);window.addEventListener("mouseup",this.onMouseUp,!0)};b.InteractionManager.prototype.removeEvents=function(){this.interactionDOMElement&&(this.interactionDOMElement.style["-ms-content-zooming"]=
"",this.interactionDOMElement.style["-ms-touch-action"]="",this.interactionDOMElement.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",
this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0))};b.InteractionManager.prototype.update=function(){if(this.target){var a=Date.now(),c=a-this.last,c=c*b.INTERACTION_FREQUENCY/1E3;if(!(1>c)){this.last=a;a=0;this.dirty&&this.rebuildInteractiveGraph();for(var c=this.interactiveItems.length,f="inherit",e=!1,a=0;a<c;a++){var h=this.interactiveItems[a];h.__hit=this.hitTest(h,this.mouse);this.mouse.target=h;h.__hit&&!e?(h.buttonMode&&(f=h.defaultCursor),
h.interactiveChildren||(e=!0),h.__isOver||(h.mouseover&&h.mouseover(this.mouse),h.__isOver=!0)):h.__isOver&&(h.mouseout&&h.mouseout(this.mouse),h.__isOver=!1)}this.currentCursorStyle!==f&&(this.currentCursorStyle=f,this.interactionDOMElement.style.cursor=f)}}};b.InteractionManager.prototype.rebuildInteractiveGraph=function(){this.dirty=!1;for(var a=this.interactiveItems.length,c=0;c<a;c++)this.interactiveItems[c].interactiveChildren=!1;this.interactiveItems=[];this.stage.interactive&&this.interactiveItems.push(this.stage);
this.collectInteractiveSprite(this.stage,this.stage)};b.InteractionManager.prototype.onMouseMove=function(a){this.dirty&&this.rebuildInteractiveGraph();this.mouse.originalEvent=a||window.event;var c=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=this.target.width/c.width*(a.clientX-c.left);this.mouse.global.y=this.target.height/c.height*(a.clientY-c.top);a=this.interactiveItems.length;for(c=0;c<a;c++){var b=this.interactiveItems[c];b.mousemove&&b.mousemove(this.mouse)}};b.InteractionManager.prototype.onMouseDown=
function(a){this.dirty&&this.rebuildInteractiveGraph();this.mouse.originalEvent=a||window.event;b.AUTO_PREVENT_DEFAULT&&this.mouse.originalEvent.preventDefault();a=this.interactiveItems.length;for(var c=0;c<a;c++){var f=this.interactiveItems[c];if(f.mousedown||f.click)if(f.__mouseIsDown=!0,f.__hit=this.hitTest(f,this.mouse),f.__hit&&(f.mousedown&&f.mousedown(this.mouse),f.__isDown=!0,!f.interactiveChildren))break}};b.InteractionManager.prototype.onMouseOut=function(){this.dirty&&this.rebuildInteractiveGraph();
var a=this.interactiveItems.length;this.interactionDOMElement.style.cursor="inherit";for(var c=0;c<a;c++){var b=this.interactiveItems[c];b.__isOver&&(this.mouse.target=b,b.mouseout&&b.mouseout(this.mouse),b.__isOver=!1)}this.mouseOut=!0;this.mouse.global.x=-1E4;this.mouse.global.y=-1E4};b.InteractionManager.prototype.onMouseUp=function(a){this.dirty&&this.rebuildInteractiveGraph();this.mouse.originalEvent=a||window.event;a=this.interactiveItems.length;for(var c=!1,b=0;b<a;b++){var e=this.interactiveItems[b];
e.__hit=this.hitTest(e,this.mouse);e.__hit&&!c?(e.mouseup&&e.mouseup(this.mouse),e.__isDown&&e.click&&e.click(this.mouse),e.interactiveChildren||(c=!0)):e.__isDown&&e.mouseupoutside&&e.mouseupoutside(this.mouse);e.__isDown=!1}};b.InteractionManager.prototype.hitTest=function(a,c){var f=c.global;if(!a.worldVisible)return!1;var e=a instanceof b.Sprite,h=a.worldTransform,g=h.a,k=h.b,s=h.tx,d=h.c,l=h.d,h=h.ty,m=1/(g*l+k*-d),k=l*m*f.x+-k*m*f.y+(h*k-s*l)*m,f=g*m*f.y+-d*m*f.x+(-h*g+s*d)*m;c.target=a;if(a.hitArea&&
a.hitArea.contains)return a.hitArea.contains(k,f)?(c.target=a,!0):!1;if(e&&(g=a.texture.frame.width,e=a.texture.frame.height,s=-g*a.anchor.x,k>s&&k<s+g&&(k=-e*a.anchor.y,f>k&&f<k+e)))return c.target=a,!0;e=a.children.length;for(k=0;k<e;k++)if(this.hitTest(a.children[k],c))return c.target=a,!0;return!1};b.InteractionManager.prototype.onTouchMove=function(a){this.dirty&&this.rebuildInteractiveGraph();for(var c=this.interactionDOMElement.getBoundingClientRect(),b=a.changedTouches,e,h=0,h=0;h<b.length;h++){var g=
b[h];e=this.touchs[g.identifier];e.originalEvent=a||window.event;e.global.x=this.target.width/c.width*(g.clientX-c.left);e.global.y=this.target.height/c.height*(g.clientY-c.top);navigator.isCocoonJS&&(e.global.x=g.clientX,e.global.y=g.clientY);for(var k=0;k<this.interactiveItems.length;k++){var s=this.interactiveItems[k];s.touchmove&&s.__touchData&&s.__touchData[g.identifier]&&s.touchmove(e)}}};b.InteractionManager.prototype.onTouchStart=function(a){this.dirty&&this.rebuildInteractiveGraph();var c=
this.interactionDOMElement.getBoundingClientRect();b.AUTO_PREVENT_DEFAULT&&a.preventDefault();for(var f=a.changedTouches,e=0;e<f.length;e++){var h=f[e],g=this.pool.pop();g||(g=new b.InteractionData);g.originalEvent=a||window.event;this.touchs[h.identifier]=g;g.global.x=this.target.width/c.width*(h.clientX-c.left);g.global.y=this.target.height/c.height*(h.clientY-c.top);navigator.isCocoonJS&&(g.global.x=h.clientX,g.global.y=h.clientY);for(var k=this.interactiveItems.length,s=0;s<k;s++){var d=this.interactiveItems[s];
if(d.touchstart||d.tap)if(d.__hit=this.hitTest(d,g),d.__hit&&(d.touchstart&&d.touchstart(g),d.__isDown=!0,d.__touchData=d.__touchData||{},d.__touchData[h.identifier]=g,!d.interactiveChildren))break}}};b.InteractionManager.prototype.onTouchEnd=function(a){this.dirty&&this.rebuildInteractiveGraph();for(var c=this.interactionDOMElement.getBoundingClientRect(),b=a.changedTouches,e=0;e<b.length;e++){var h=b[e],g=this.touchs[h.identifier],k=!1;g.global.x=this.target.width/c.width*(h.clientX-c.left);g.global.y=
this.target.height/c.height*(h.clientY-c.top);navigator.isCocoonJS&&(g.global.x=h.clientX,g.global.y=h.clientY);for(var s=this.interactiveItems.length,d=0;d<s;d++){var l=this.interactiveItems[d];if(l.__touchData&&l.__touchData[h.identifier]){l.__hit=this.hitTest(l,l.__touchData[h.identifier]);g.originalEvent=a||window.event;if(l.touchend||l.tap)l.__hit&&!k?(l.touchend&&l.touchend(g),l.__isDown&&l.tap&&l.tap(g),l.interactiveChildren||(k=!0)):l.__isDown&&l.touchendoutside&&l.touchendoutside(g),l.__isDown=
!1;l.__touchData[h.identifier]=null}}this.pool.push(g);this.touchs[h.identifier]=null}};b.Stage=function(a){b.DisplayObjectContainer.call(this);this.worldTransform=new b.Matrix;this.interactive=!0;this.interactionManager=new b.InteractionManager(this);this.dirty=!0;this.stage=this;this.stage.hitArea=new b.Rectangle(0,0,1E5,1E5);this.setBackgroundColor(a)};b.Stage.prototype=Object.create(b.DisplayObjectContainer.prototype);b.Stage.prototype.constructor=b.Stage;b.Stage.prototype.setInteractionDelegate=
function(a){this.interactionManager.setTargetDomElement(a)};b.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var a=0,c=this.children.length;a<c;a++)this.children[a].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0);this.interactive&&this.interactionManager.update()};b.Stage.prototype.setBackgroundColor=function(a){this.backgroundColor=a||0;this.backgroundColorSplit=b.hex2rgb(this.backgroundColor);a=this.backgroundColor.toString(16);a="000000".substr(0,
6-a.length)+a;this.backgroundColorString="#"+a};b.Stage.prototype.getMousePosition=function(){return this.interactionManager.mouse.global};for(var d=0,n=["ms","moz","webkit","o"],p=0;p<n.length&&!window.requestAnimationFrame;++p)window.requestAnimationFrame=window[n[p]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[p]+"CancelAnimationFrame"]||window[n[p]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var c=(new Date).getTime(),
b=Math.max(0,16-(c-d)),e=window.setTimeout(function(){a(c+b)},b);d=c+b;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;b.hex2rgb=function(a){return[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};b.rgb2hex=function(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]};"function"!==typeof Function.prototype.bind&&(Function.prototype.bind=function(){var a=Array.prototype.slice;return function(c){function b(){var g=
h.concat(a.call(arguments));e.apply(this instanceof b?this:c,g)}var e=this,h=a.call(arguments,1);if("function"!==typeof e)throw new TypeError;b.prototype=function k(a){a&&(k.prototype=a);if(!(this instanceof k))return new k}(e.prototype);return b}}());b.AjaxRequest=function(){var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];if(window.ActiveXObject)for(var c=0;c<a.length;c++)try{return new window.ActiveXObject(a[c])}catch(b){}else return window.XMLHttpRequest?new window.XMLHttpRequest:
!1};b.canUseNewCanvasBlendModes=function(){var a=document.createElement("canvas");a.width=1;a.height=1;a=a.getContext("2d");a.fillStyle="#000";a.fillRect(0,0,1,1);a.globalCompositeOperation="multiply";a.fillStyle="#fff";a.fillRect(0,0,1,1);return 0===a.getImageData(0,0,1,1).data[0]};b.getNextPowerOfTwo=function(a){if(0<a&&0===(a&a-1))return a;for(var c=1;c<a;)c<<=1;return c};b.EventTarget=function(){var a={};this.addEventListener=this.on=function(c,b){void 0===a[c]&&(a[c]=[]);-1===a[c].indexOf(b)&&
a[c].unshift(b)};this.dispatchEvent=this.emit=function(c){if(a[c.type]&&a[c.type].length)for(var b=a[c.type].length-1;0<=b;b--)a[c.type][b](c)};this.removeEventListener=this.off=function(c,b){if(void 0!==a[c]){var e=a[c].indexOf(b);-1!==e&&a[c].splice(e,1)}};this.removeAllEventListeners=function(c){if(c=a[c])c.length=0}};b.autoDetectRenderer=function(a,c,f,e,h){a||(a=800);c||(c=600);var g;try{var k=document.createElement("canvas");g=!!window.WebGLRenderingContext&&(k.getContext("webgl")||k.getContext("experimental-webgl"))}catch(s){g=
!1}return g?new b.WebGLRenderer(a,c,f,e,h):new b.CanvasRenderer(a,c,f,e)};b.autoDetectRecommendedRenderer=function(a,c,f,e,h){a||(a=800);c||(c=600);var g;try{var k=document.createElement("canvas");g=!!window.WebGLRenderingContext&&(k.getContext("webgl")||k.getContext("experimental-webgl"))}catch(s){g=!1}k=/Android/i.test(navigator.userAgent);return g&&!k?new b.WebGLRenderer(a,c,f,e,h):new b.CanvasRenderer(a,c,f,e)};b.PolyK={};b.PolyK.Triangulate=function(a){var c=!0,f=a.length>>1;if(3>f)return[];
for(var e=[],h=[],g=0;g<f;g++)h.push(g);for(var g=0,k=f;3<k;){var s=h[(g+0)%k],d=h[(g+1)%k],l=h[(g+2)%k],m=a[2*s],p=a[2*s+1],n=a[2*d],q=a[2*d+1],r=a[2*l],u=a[2*l+1],A=!1;if(b.PolyK._convex(m,p,n,q,r,u,c))for(var A=!0,B=0;B<k;B++){var y=h[B];if(y!==s&&y!==d&&y!==l&&b.PolyK._PointInTriangle(a[2*y],a[2*y+1],m,p,n,q,r,u)){A=!1;break}}if(A)e.push(s,d,l),h.splice((g+1)%k,1),k--,g=0;else if(g++>3*k)if(c){e=[];h=[];for(g=0;g<f;g++)h.push(g);g=0;k=f;c=!1}else return window.console.log("PIXI Warning: shape too complex to fill"),
[]}e.push(h[0],h[1],h[2]);return e};b.PolyK._PointInTriangle=function(a,c,b,e,h,g,k,s){k-=b;s-=e;h-=b;g-=e;a-=b;b=c-e;c=k*k+s*s;e=k*h+s*g;k=k*a+s*b;s=h*h+g*g;h=h*a+g*b;g=1/(c*s-e*e);s=(s*k-e*h)*g;k=(c*h-e*k)*g;return 0<=s&&0<=k&&1>s+k};b.PolyK._convex=function(a,c,b,e,h,g,k){return 0<=(c-e)*(h-b)+(b-a)*(g-e)===k};b.initDefaultShaders=function(){};b.CompileVertexShader=function(a,c){return b._CompileShader(a,c,a.VERTEX_SHADER)};b.CompileFragmentShader=function(a,c){return b._CompileShader(a,c,a.FRAGMENT_SHADER)};
b._CompileShader=function(a,c,b){c=c.join("\n");b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return a.getShaderParameter(b,a.COMPILE_STATUS)?b:(window.console.log(a.getShaderInfoLog(b)),null)};b.compileProgram=function(a,c,f){f=b.CompileFragmentShader(a,f);c=b.CompileVertexShader(a,c);var e=a.createProgram();a.attachShader(e,c);a.attachShader(e,f);a.linkProgram(e);a.getProgramParameter(e,a.LINK_STATUS)||window.console.log("Could not initialise shaders");return e};b.PixiShader=function(a){this._UID=
b._UID++;this.gl=a;this.program=null;this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"];this.textureCount=0;this.attributes=[];this.init()};b.PixiShader.prototype.init=function(){var a=this.gl,c=b.compileProgram(a,this.vertexSrc||b.PixiShader.defaultVertexSrc,this.fragmentSrc);a.useProgram(c);this.uSampler=a.getUniformLocation(c,"uSampler");
this.projectionVector=a.getUniformLocation(c,"projectionVector");this.offsetVector=a.getUniformLocation(c,"offsetVector");this.dimensions=a.getUniformLocation(c,"dimensions");this.aVertexPosition=a.getAttribLocation(c,"aVertexPosition");this.aTextureCoord=a.getAttribLocation(c,"aTextureCoord");this.colorAttribute=a.getAttribLocation(c,"aColor");-1===this.colorAttribute&&(this.colorAttribute=2);this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute];for(var f in this.uniforms)this.uniforms[f].uniformLocation=
a.getUniformLocation(c,f);this.initUniforms();this.program=c};b.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var a=this.gl,c,b;for(b in this.uniforms){c=this.uniforms[b];var e=c.type;"sampler2D"===e?(c._init=!1,null!==c.value&&this.initSampler2D(c)):"mat2"===e||"mat3"===e||"mat4"===e?(c.glMatrix=!0,c.glValueLength=1,"mat2"===e?c.glFunc=a.uniformMatrix2fv:"mat3"===e?c.glFunc=a.uniformMatrix3fv:"mat4"===e&&(c.glFunc=a.uniformMatrix4fv)):(c.glFunc=a["uniform"+e],c.glValueLength="2f"===
e||"2i"===e?2:"3f"===e||"3i"===e?3:"4f"===e||"4i"===e?4:1)}};b.PixiShader.prototype.initSampler2D=function(a){if(a.value&&a.value.baseTexture&&a.value.baseTexture.hasLoaded){var c=this.gl;c.activeTexture(c["TEXTURE"+this.textureCount]);c.bindTexture(c.TEXTURE_2D,a.value.baseTexture._glTextures[c.id]);if(a.textureData){var b=a.textureData,e=b.magFilter?b.magFilter:c.LINEAR,h=b.minFilter?b.minFilter:c.LINEAR,g=b.wrapS?b.wrapS:c.CLAMP_TO_EDGE,k=b.wrapT?b.wrapT:c.CLAMP_TO_EDGE,s=b.luminance?c.LUMINANCE:
c.RGBA;b.repeat&&(k=g=c.REPEAT);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!!b.flipY);b.width?c.texImage2D(c.TEXTURE_2D,0,s,b.width?b.width:512,b.height?b.height:2,b.border?b.border:0,s,c.UNSIGNED_BYTE,null):c.texImage2D(c.TEXTURE_2D,0,s,c.RGBA,c.UNSIGNED_BYTE,a.value.baseTexture.source);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,e);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,h);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,g);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,k)}c.uniform1i(a.uniformLocation,
this.textureCount);a._init=!0;this.textureCount++}};b.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var a,c=this.gl,f;for(f in this.uniforms)a=this.uniforms[f],1===a.glValueLength?!0===a.glMatrix?a.glFunc.call(c,a.uniformLocation,a.transpose,a.value):a.glFunc.call(c,a.uniformLocation,a.value):2===a.glValueLength?a.glFunc.call(c,a.uniformLocation,a.value.x,a.value.y):3===a.glValueLength?a.glFunc.call(c,a.uniformLocation,a.value.x,a.value.y,a.value.z):4===a.glValueLength?a.glFunc.call(c,
a.uniformLocation,a.value.x,a.value.y,a.value.z,a.value.w):"sampler2D"===a.type&&(a._init?(c.activeTexture(c["TEXTURE"+this.textureCount]),c.bindTexture(c.TEXTURE_2D,a.value.baseTexture._glTextures[c.id]||b.createWebGLTexture(a.value.baseTexture,c)),c.uniform1i(a.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(a))};b.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program);this.attributes=this.gl=this.uniforms=null};b.PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;",
"attribute vec2 aTextureCoord;","attribute vec2 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;","   vColor = vec4(color * aColor.x, aColor.x);",
"}"];b.PixiFastShader=function(a){this._UID=b._UID++;this.gl=a;this.program=null;this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"];this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;",
"uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;",
"   vColor = aColor;","}"];this.textureCount=0;this.init()};b.PixiFastShader.prototype.init=function(){var a=this.gl,c=b.compileProgram(a,this.vertexSrc,this.fragmentSrc);a.useProgram(c);this.uSampler=a.getUniformLocation(c,"uSampler");this.projectionVector=a.getUniformLocation(c,"projectionVector");this.offsetVector=a.getUniformLocation(c,"offsetVector");this.dimensions=a.getUniformLocation(c,"dimensions");this.uMatrix=a.getUniformLocation(c,"uMatrix");this.aVertexPosition=a.getAttribLocation(c,
"aVertexPosition");this.aPositionCoord=a.getAttribLocation(c,"aPositionCoord");this.aScale=a.getAttribLocation(c,"aScale");this.aRotation=a.getAttribLocation(c,"aRotation");this.aTextureCoord=a.getAttribLocation(c,"aTextureCoord");this.colorAttribute=a.getAttribLocation(c,"aColor");-1===this.colorAttribute&&(this.colorAttribute=2);this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute];this.program=c};b.PixiFastShader.prototype.destroy=
function(){this.gl.deleteProgram(this.program);this.attributes=this.gl=this.uniforms=null};b.StripShader=function(a){this._UID=b._UID++;this.gl=a;this.program=null;this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y));","}"];this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;",
"uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"];this.init()};b.StripShader.prototype.init=function(){var a=this.gl,c=b.compileProgram(a,this.vertexSrc,this.fragmentSrc);a.useProgram(c);this.uSampler=a.getUniformLocation(c,
"uSampler");this.projectionVector=a.getUniformLocation(c,"projectionVector");this.offsetVector=a.getUniformLocation(c,"offsetVector");this.colorAttribute=a.getAttribLocation(c,"aColor");this.aVertexPosition=a.getAttribLocation(c,"aVertexPosition");this.aTextureCoord=a.getAttribLocation(c,"aTextureCoord");this.attributes=[this.aVertexPosition,this.aTextureCoord];this.translationMatrix=a.getUniformLocation(c,"translationMatrix");this.alpha=a.getUniformLocation(c,"alpha");this.program=c};b.PrimitiveShader=
function(a){this._UID=b._UID++;this.gl=a;this.program=null;this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"];this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);",
"   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"];this.init()};b.PrimitiveShader.prototype.init=function(){var a=this.gl,c=b.compileProgram(a,this.vertexSrc,this.fragmentSrc);a.useProgram(c);this.projectionVector=a.getUniformLocation(c,"projectionVector");this.offsetVector=a.getUniformLocation(c,"offsetVector");this.tintColor=a.getUniformLocation(c,"tint");this.aVertexPosition=
a.getAttribLocation(c,"aVertexPosition");this.colorAttribute=a.getAttribLocation(c,"aColor");this.attributes=[this.aVertexPosition,this.colorAttribute];this.translationMatrix=a.getUniformLocation(c,"translationMatrix");this.alpha=a.getUniformLocation(c,"alpha");this.program=c};b.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program);this.attribute=this.gl=this.uniforms=null};b.ComplexPrimitiveShader=function(a){this._UID=b._UID++;this.gl=a;this.program=null;this.fragmentSrc=
["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"];this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);",
"   vColor = vec4(color * alpha * tint, alpha);","}"];this.init()};b.ComplexPrimitiveShader.prototype.init=function(){var a=this.gl,c=b.compileProgram(a,this.vertexSrc,this.fragmentSrc);a.useProgram(c);this.projectionVector=a.getUniformLocation(c,"projectionVector");this.offsetVector=a.getUniformLocation(c,"offsetVector");this.tintColor=a.getUniformLocation(c,"tint");this.color=a.getUniformLocation(c,"color");this.aVertexPosition=a.getAttribLocation(c,"aVertexPosition");this.attributes=[this.aVertexPosition,
this.colorAttribute];this.translationMatrix=a.getUniformLocation(c,"translationMatrix");this.alpha=a.getUniformLocation(c,"alpha");this.program=c};b.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program);this.attribute=this.gl=this.uniforms=null};b.WebGLGraphics=function(){};b.WebGLGraphics.renderGraphics=function(a,c){var f=c.gl,e=c.projection,h=c.offset,g=c.shaderManager.primitiveShader,k;a.dirty&&b.WebGLGraphics.updateGraphics(a,f);for(var s=a._webGL[f.id],d=0;d<
s.data.length;d++)1===s.data[d].mode?(k=s.data[d],c.stencilManager.pushStencil(a,k,c),f.drawElements(f.TRIANGLE_FAN,4,f.UNSIGNED_SHORT,2*(k.indices.length-4)),c.stencilManager.popStencil(a,k,c),this.last=k.mode):(k=s.data[d],c.shaderManager.setShader(g),g=c.shaderManager.primitiveShader,f.uniformMatrix3fv(g.translationMatrix,!1,a.worldTransform.toArray(!0)),f.uniform2f(g.projectionVector,e.x,-e.y),f.uniform2f(g.offsetVector,-h.x,-h.y),f.uniform3fv(g.tintColor,b.hex2rgb(a.tint)),f.uniform1f(g.alpha,
a.worldAlpha),f.bindBuffer(f.ARRAY_BUFFER,k.buffer),f.vertexAttribPointer(g.aVertexPosition,2,f.FLOAT,!1,24,0),f.vertexAttribPointer(g.colorAttribute,4,f.FLOAT,!1,24,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,k.indexBuffer),f.drawElements(f.TRIANGLE_STRIP,k.indices.length,f.UNSIGNED_SHORT,0))};b.WebGLGraphics.updateGraphics=function(a,c){var f=a._webGL[c.id];f||(f=a._webGL[c.id]={lastIndex:0,data:[],gl:c});a.dirty=!1;var e;if(a.clearDirty){a.clearDirty=!1;for(e=0;e<f.data.length;e++){var h=f.data[e];
h.reset();b.WebGLGraphics.graphicsDataPool.push(h)}f.data=[];f.lastIndex=0}for(e=f.lastIndex;e<a.graphicsData.length;e++){var g=a.graphicsData[e];g.type===b.Graphics.POLY?(g.fill&&6<g.points.length&&(10<g.points.length?(h=b.WebGLGraphics.switchMode(f,1),b.WebGLGraphics.buildComplexPoly(g,h)):(h=b.WebGLGraphics.switchMode(f,0),b.WebGLGraphics.buildPoly(g,h))),0<g.lineWidth&&(h=b.WebGLGraphics.switchMode(f,0),b.WebGLGraphics.buildLine(g,h))):(h=b.WebGLGraphics.switchMode(f,0),g.type===b.Graphics.RECT?
b.WebGLGraphics.buildRectangle(g,h):g.type===b.Graphics.CIRC||g.type===b.Graphics.ELIP?b.WebGLGraphics.buildCircle(g,h):g.type===b.Graphics.RREC&&b.WebGLGraphics.buildRoundedRectangle(g,h));f.lastIndex++}for(e=0;e<f.data.length;e++)h=f.data[e],h.dirty&&h.upload()};b.WebGLGraphics.switchMode=function(a,c){var f;if(a.data.length){if(f=a.data[a.data.length-1],f.mode!==c||1===c)f=b.WebGLGraphics.graphicsDataPool.pop()||new b.WebGLGraphicsData(a.gl),f.mode=c,a.data.push(f)}else f=b.WebGLGraphics.graphicsDataPool.pop()||
new b.WebGLGraphicsData(a.gl),f.mode=c,a.data.push(f);f.dirty=!0;return f};b.WebGLGraphics.buildRectangle=function(a,c){var f=a.points,e=f[0],h=f[1],g=f[2],f=f[3];if(a.fill){var k=b.hex2rgb(a.fillColor),s=a.fillAlpha,d=k[0]*s,l=k[1]*s,k=k[2]*s,m=c.points,p=c.indices,n=m.length/6;m.push(e,h);m.push(d,l,k,s);m.push(e+g,h);m.push(d,l,k,s);m.push(e,h+f);m.push(d,l,k,s);m.push(e+g,h+f);m.push(d,l,k,s);p.push(n,n,n+1,n+2,n+3,n+3)}a.lineWidth&&(s=a.points,a.points=[e,h,e+g,h,e+g,h+f,e,h+f,e,h],b.WebGLGraphics.buildLine(a,
c),a.points=s)};b.WebGLGraphics.buildRoundedRectangle=function(a,c){var f=a.points,e=f[0],h=f[1],g=f[2],k=f[3],s=f[4],f=[];f.push(e,h+s);f=f.concat(b.WebGLGraphics.quadraticBezierCurve(e,h+k-s,e,h+k,e+s,h+k));f=f.concat(b.WebGLGraphics.quadraticBezierCurve(e+g-s,h+k,e+g,h+k,e+g,h+k-s));f=f.concat(b.WebGLGraphics.quadraticBezierCurve(e+g,h+s,e+g,h,e+g-s,h));f=f.concat(b.WebGLGraphics.quadraticBezierCurve(e+s,h,e,h,e,h+s));if(a.fill){for(var k=b.hex2rgb(a.fillColor),e=a.fillAlpha,h=k[0]*e,g=k[1]*e,
k=k[2]*e,s=c.points,d=c.indices,l=s.length/6,m=b.PolyK.Triangulate(f),p=0,p=0;p<m.length;p+=3)d.push(m[p]+l),d.push(m[p]+l),d.push(m[p+1]+l),d.push(m[p+2]+l),d.push(m[p+2]+l);for(p=0;p<f.length;p++)s.push(f[p],f[++p],h,g,k,e)}a.lineWidth&&(e=a.points,a.points=f,b.WebGLGraphics.buildLine(a,c),a.points=e)};b.WebGLGraphics.quadraticBezierCurve=function(a,c,b,e,h,g){for(var k,s,d,l,m=[],p=0,n=0;20>=n;n++)p=n/20,k=a+(b-a)*p,s=c+(e-c)*p,d=b+(h-b)*p,l=e+(g-e)*p,k+=(d-k)*p,s+=(l-s)*p,m.push(k,s);return m};
b.WebGLGraphics.buildCircle=function(a,c){var f=a.points,e=f[0],h=f[1],g=f[2],f=f[3],k=2*Math.PI/40,s=0;if(a.fill){var s=b.hex2rgb(a.fillColor),d=a.fillAlpha,l=s[0]*d,m=s[1]*d,p=s[2]*d,n=c.points,q=c.indices,r=n.length/6;q.push(r);for(s=0;41>s;s++)n.push(e,h,l,m,p,d),n.push(e+Math.sin(k*s)*g,h+Math.cos(k*s)*f,l,m,p,d),q.push(r++,r++);q.push(r-1)}if(a.lineWidth){d=a.points;a.points=[];for(s=0;41>s;s++)a.points.push(e+Math.sin(k*s)*g,h+Math.cos(k*s)*f);b.WebGLGraphics.buildLine(a,c);a.points=d}};b.WebGLGraphics.buildLine=
function(a,c){var f=0,e=a.points;if(0!==e.length){if(a.lineWidth%2)for(f=0;f<e.length;f++)e[f]+=.5;var h=new b.Point(e[0],e[1]),g=new b.Point(e[e.length-2],e[e.length-1]);if(h.x===g.x&&h.y===g.y){e=e.slice();e.pop();e.pop();var g=new b.Point(e[e.length-2],e[e.length-1]),k=g.x+.5*(h.x-g.x),h=g.y+.5*(h.y-g.y);e.unshift(k,h);e.push(k,h)}var k=c.points,h=c.indices,g=e.length/2,s=e.length,d=k.length/6,l=a.lineWidth/2,f=b.hex2rgb(a.lineColor),m=a.lineAlpha,p=f[0]*m,n=f[1]*m,q=f[2]*m,r,u,A,B,y,G,H,J,z,D,
K,L,N;A=e[0];B=e[1];y=e[2];G=e[3];z=-(B-G);D=A-y;u=Math.sqrt(z*z+D*D);z=z/u*l;D=D/u*l;k.push(A-z,B-D,p,n,q,m);k.push(A+z,B+D,p,n,q,m);for(f=1;f<g-1;f++)A=e[2*(f-1)],B=e[2*(f-1)+1],y=e[2*f],G=e[2*f+1],H=e[2*(f+1)],J=e[2*(f+1)+1],z=-(B-G),D=A-y,u=Math.sqrt(z*z+D*D),z/=u,D/=u,z*=l,D*=l,K=-(G-J),L=y-H,u=Math.sqrt(K*K+L*L),K/=u,L/=u,K*=l,L*=l,u=-D+B-(-D+G),r=-z+y-(-z+A),A=(-z+A)*(-D+G)-(-z+y)*(-D+B),B=-L+J-(-L+G),N=-K+y-(-K+H),H=(-K+H)*(-L+G)-(-K+y)*(-L+J),J=u*N-B*r,.1>Math.abs(J)?(k.push(y-z,G-D,p,n,
q,m),k.push(y+z,G+D,p,n,q,m)):(r=(r*H-N*A)/J,u=(B*A-u*H)/J,H=(r-y)*(r-y)+(u-G)+(u-G),19600<H?(z-=K,D-=L,u=Math.sqrt(z*z+D*D),z/=u,D/=u,z*=l,D*=l,k.push(y-z,G-D),k.push(p,n,q,m),k.push(y+z,G+D),k.push(p,n,q,m),k.push(y-z,G-D),k.push(p,n,q,m),s++):(k.push(r,u),k.push(p,n,q,m),k.push(y-(r-y),G-(u-G)),k.push(p,n,q,m)));A=e[2*(g-2)];B=e[2*(g-2)+1];y=e[2*(g-1)];G=e[2*(g-1)+1];z=-(B-G);D=A-y;u=Math.sqrt(z*z+D*D);z/=u;D/=u;z*=l;D*=l;k.push(y-z,G-D);k.push(p,n,q,m);k.push(y+z,G+D);k.push(p,n,q,m);h.push(d);
for(f=0;f<s;f++)h.push(d++);h.push(d-1)}};b.WebGLGraphics.buildComplexPoly=function(a,c){var f=a.points.slice();if(!(6>f.length)){var e=c.indices;c.points=f;c.alpha=a.fillAlpha;c.color=b.hex2rgb(a.fillColor);for(var h=Infinity,g=-Infinity,k=Infinity,s=-Infinity,d,l,m=0;m<f.length;m+=2)d=f[m],l=f[m+1],h=d<h?d:h,g=d>g?d:g,k=l<k?l:k,s=l>s?l:s;f.push(h,k,g,k,g,s,h,s);f=f.length/2;for(m=0;m<f;m++)e.push(m)}};b.WebGLGraphics.buildPoly=function(a,c){var f=a.points;if(!(6>f.length)){for(var e=c.points,h=
c.indices,g=f.length/2,k=b.hex2rgb(a.fillColor),s=a.fillAlpha,d=k[0]*s,l=k[1]*s,k=k[2]*s,m=b.PolyK.Triangulate(f),p=e.length/6,n=0,n=0;n<m.length;n+=3)h.push(m[n]+p),h.push(m[n]+p),h.push(m[n+1]+p),h.push(m[n+2]+p),h.push(m[n+2]+p);for(n=0;n<g;n++)e.push(f[2*n],f[2*n+1],d,l,k,s)}};b.WebGLGraphics.graphicsDataPool=[];b.WebGLGraphicsData=function(a){this.gl=a;this.color=[0,0,0];this.points=[];this.indices=[];this.lastIndex=0;this.buffer=a.createBuffer();this.indexBuffer=a.createBuffer();this.alpha=
this.mode=1;this.dirty=!0};b.WebGLGraphicsData.prototype.reset=function(){this.points=[];this.indices=[];this.lastIndex=0};b.WebGLGraphicsData.prototype.upload=function(){var a=this.gl;this.glPoints=new Float32Array(this.points);a.bindBuffer(a.ARRAY_BUFFER,this.buffer);a.bufferData(a.ARRAY_BUFFER,this.glPoints,a.STATIC_DRAW);this.glIndicies=new Uint16Array(this.indices);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.glIndicies,a.STATIC_DRAW);this.dirty=
!1};b.glContexts=[];b.WebGLRenderer=function(a,c,f,e,h,g){b.defaultRenderer||(b.sayHello("webGL"),b.defaultRenderer=this);this.type=b.WEBGL_RENDERER;this.transparent=!!e;this.preserveDrawingBuffer=g;this.width=a||800;this.height=c||600;this.view=f||document.createElement("canvas");this.view.width=this.width;this.view.height=this.height;this.contextLost=this.handleContextLost.bind(this);this.contextRestoredLost=this.handleContextRestored.bind(this);this.view.addEventListener("webglcontextlost",this.contextLost,
!1);this.view.addEventListener("webglcontextrestored",this.contextRestoredLost,!1);this.options={alpha:this.transparent,antialias:!!h,premultipliedAlpha:!!e,stencil:!0,preserveDrawingBuffer:g};var k=null;["experimental-webgl","webgl"].forEach(function(a){try{k=k||this.view.getContext(a,this.options)}catch(c){}},this);if(!k)throw Error("This browser does not support webGL. Try using the canvas renderer"+this);this.gl=k;this.glContextId=k.id=b.WebGLRenderer.glContextId++;b.glContexts[this.glContextId]=
k;b.blendModesWebGL||(b.blendModesWebGL=[],b.blendModesWebGL[b.blendModes.NORMAL]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.ADD]=[k.SRC_ALPHA,k.DST_ALPHA],b.blendModesWebGL[b.blendModes.MULTIPLY]=[k.DST_COLOR,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.SCREEN]=[k.SRC_ALPHA,k.ONE],b.blendModesWebGL[b.blendModes.OVERLAY]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.DARKEN]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.LIGHTEN]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],
b.blendModesWebGL[b.blendModes.COLOR_DODGE]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.COLOR_BURN]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.HARD_LIGHT]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.SOFT_LIGHT]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.DIFFERENCE]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.EXCLUSION]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.HUE]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],
b.blendModesWebGL[b.blendModes.SATURATION]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.COLOR]=[k.ONE,k.ONE_MINUS_SRC_ALPHA],b.blendModesWebGL[b.blendModes.LUMINOSITY]=[k.ONE,k.ONE_MINUS_SRC_ALPHA]);this.projection=new b.Point;this.projection.x=this.width/2;this.projection.y=-this.height/2;this.offset=new b.Point(0,0);this.resize(this.width,this.height);this.contextLost=!1;this.shaderManager=new b.WebGLShaderManager(k);this.spriteBatch=new b.WebGLSpriteBatch(k);this.maskManager=new b.WebGLMaskManager(k);
this.filterManager=new b.WebGLFilterManager(k,this.transparent);this.stencilManager=new b.WebGLStencilManager(k);this.blendModeManager=new b.WebGLBlendModeManager(k);this.renderSession={};this.renderSession.gl=this.gl;this.renderSession.drawCount=0;this.renderSession.shaderManager=this.shaderManager;this.renderSession.maskManager=this.maskManager;this.renderSession.filterManager=this.filterManager;this.renderSession.blendModeManager=this.blendModeManager;this.renderSession.spriteBatch=this.spriteBatch;
this.renderSession.stencilManager=this.stencilManager;this.renderSession.renderer=this;k.useProgram(this.shaderManager.defaultShader.program);k.disable(k.DEPTH_TEST);k.disable(k.CULL_FACE);k.enable(k.BLEND);k.colorMask(!0,!0,!0,this.transparent)};b.WebGLRenderer.prototype.constructor=b.WebGLRenderer;b.WebGLRenderer.prototype.render=function(a){if(!this.contextLost){this.__stage!==a&&(a.interactive&&a.interactionManager.removeEvents(),this.__stage=a);b.WebGLRenderer.updateTextures();a.updateTransform();
a._interactive&&!a._interactiveEventsAdded&&(a._interactiveEventsAdded=!0,a.interactionManager.setTarget(this));var c=this.gl;c.viewport(0,0,this.width,this.height);c.bindFramebuffer(c.FRAMEBUFFER,null);this.transparent?c.clearColor(0,0,0,0):c.clearColor(a.backgroundColorSplit[0],a.backgroundColorSplit[1],a.backgroundColorSplit[2],1);c.clear(c.COLOR_BUFFER_BIT);this.renderDisplayObject(a,this.projection);a.interactive?a._interactiveEventsAdded||(a._interactiveEventsAdded=!0,a.interactionManager.setTarget(this)):
a._interactiveEventsAdded&&(a._interactiveEventsAdded=!1,a.interactionManager.setTarget(this))}};b.WebGLRenderer.prototype.renderDisplayObject=function(a,c,f){this.renderSession.blendModeManager.setBlendMode(b.blendModes.NORMAL);this.renderSession.drawCount=0;this.renderSession.currentBlendMode=9999;this.renderSession.projection=c;this.renderSession.offset=this.offset;this.spriteBatch.begin(this.renderSession);this.filterManager.begin(this.renderSession,f);a._renderWebGL(this.renderSession);this.spriteBatch.end()};
b.WebGLRenderer.updateTextures=function(){for(var a=0,a=0;a<b.Texture.frameUpdates.length;a++)b.WebGLRenderer.updateTextureFrame(b.Texture.frameUpdates[a]);for(a=0;a<b.texturesToDestroy.length;a++)b.WebGLRenderer.destroyTexture(b.texturesToDestroy[a]);b.texturesToUpdate.length=0;b.texturesToDestroy.length=0;b.Texture.frameUpdates.length=0};b.WebGLRenderer.destroyTexture=function(a){for(var c=a._glTextures.length-1;0<=c;c--){var f=a._glTextures[c],e=b.glContexts[c];e&&f&&e.deleteTexture(f)}a._glTextures.length=
0};b.WebGLRenderer.updateTextureFrame=function(a){a._updateWebGLuvs()};b.WebGLRenderer.prototype.resize=function(a,c){this.width=a;this.height=c;this.view.width=a;this.view.height=c;this.gl.viewport(0,0,this.width,this.height);this.projection.x=this.width/2;this.projection.y=-this.height/2};b.createWebGLTexture=function(a,c){a.hasLoaded&&(a._glTextures[c.id]=c.createTexture(),c.bindTexture(c.TEXTURE_2D,a._glTextures[c.id]),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultipliedAlpha),c.texImage2D(c.TEXTURE_2D,
0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,a.source),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.scaleMode===b.scaleModes.LINEAR?c.LINEAR:c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.scaleMode===b.scaleModes.LINEAR?c.LINEAR:c.NEAREST),a._powerOf2?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)),
c.bindTexture(c.TEXTURE_2D,null),a._dirty[c.id]=!1);return a._glTextures[c.id]};b.updateWebGLTexture=function(a,c){a._glTextures[c.id]&&(c.bindTexture(c.TEXTURE_2D,a._glTextures[c.id]),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultipliedAlpha),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,a.source),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.scaleMode===b.scaleModes.LINEAR?c.LINEAR:c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.scaleMode===b.scaleModes.LINEAR?
c.LINEAR:c.NEAREST),a._powerOf2?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)),a._dirty[c.id]=!1)};b.WebGLRenderer.prototype.handleContextLost=function(a){a.preventDefault();this.contextLost=!0};b.WebGLRenderer.prototype.handleContextRestored=function(){try{this.gl=this.view.getContext("experimental-webgl",
this.options)}catch(a){try{this.gl=this.view.getContext("webgl",this.options)}catch(c){throw Error(" This browser does not support webGL. Try using the canvas renderer"+this);}}var f=this.gl;f.id=b.WebGLRenderer.glContextId++;this.shaderManager.setContext(f);this.spriteBatch.setContext(f);this.primitiveBatch.setContext(f);this.maskManager.setContext(f);this.filterManager.setContext(f);this.renderSession.gl=this.gl;f.disable(f.DEPTH_TEST);f.disable(f.CULL_FACE);f.enable(f.BLEND);f.colorMask(!0,!0,
!0,this.transparent);this.gl.viewport(0,0,this.width,this.height);for(var e in b.TextureCache)b.TextureCache[e].baseTexture._glTextures=[];this.contextLost=!1};b.WebGLRenderer.prototype.destroy=function(){this.view.removeEventListener("webglcontextlost",this.contextLost);this.view.removeEventListener("webglcontextrestored",this.contextRestoredLost);this.offset=this.projection=b.glContexts[this.glContextId]=null;this.shaderManager.destroy();this.spriteBatch.destroy();this.primitiveBatch.destroy();
this.maskManager.destroy();this.filterManager.destroy();this.renderSession=this.gl=this.filterManager=this.maskManager=this.spriteBatch=this.shaderManager=null};b.WebGLRenderer.glContextId=0;b.WebGLBlendModeManager=function(a){this.gl=a;this.currentBlendMode=99999};b.WebGLBlendModeManager.prototype.setBlendMode=function(a){if(this.currentBlendMode===a)return!1;this.currentBlendMode=a;a=b.blendModesWebGL[this.currentBlendMode];this.gl.blendFunc(a[0],a[1]);return!0};b.WebGLBlendModeManager.prototype.destroy=
function(){this.gl=null};b.WebGLMaskManager=function(a){this.maskStack=[];this.maskPosition=0;this.setContext(a);this.reverse=!1;this.count=0};b.WebGLMaskManager.prototype.setContext=function(a){this.gl=a};b.WebGLMaskManager.prototype.pushMask=function(a,c){var f=c.gl;a.dirty&&b.WebGLGraphics.updateGraphics(a,f);a._webGL[f.id].data.length&&c.stencilManager.pushStencil(a,a._webGL[f.id].data[0],c)};b.WebGLMaskManager.prototype.popMask=function(a,c){c.stencilManager.popStencil(a,a._webGL[this.gl.id].data[0],
c)};b.WebGLMaskManager.prototype.destroy=function(){this.gl=this.maskStack=null};b.WebGLStencilManager=function(a){this.stencilStack=[];this.setContext(a);this.reverse=!0;this.count=0};b.WebGLStencilManager.prototype.setContext=function(a){this.gl=a};b.WebGLStencilManager.prototype.pushStencil=function(a,c,b){var e=this.gl;this.bindGraphics(a,c,b);0===this.stencilStack.length&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0);this.stencilStack.push(c);a=this.count;
e.colorMask(!1,!1,!1,!1);e.stencilFunc(e.ALWAYS,0,255);e.stencilOp(e.KEEP,e.KEEP,e.INVERT);1===c.mode?(e.drawElements(e.TRIANGLE_FAN,c.indices.length-4,e.UNSIGNED_SHORT,0),this.reverse?(e.stencilFunc(e.EQUAL,255-a,255),e.stencilOp(e.KEEP,e.KEEP,e.DECR)):(e.stencilFunc(e.EQUAL,a,255),e.stencilOp(e.KEEP,e.KEEP,e.INCR)),e.drawElements(e.TRIANGLE_FAN,4,e.UNSIGNED_SHORT,2*(c.indices.length-4)),this.reverse?e.stencilFunc(e.EQUAL,255-(a+1),255):e.stencilFunc(e.EQUAL,a+1,255),this.reverse=!this.reverse):
(this.reverse?(e.stencilFunc(e.EQUAL,a,255),e.stencilOp(e.KEEP,e.KEEP,e.INCR)):(e.stencilFunc(e.EQUAL,255-a,255),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),e.drawElements(e.TRIANGLE_STRIP,c.indices.length,e.UNSIGNED_SHORT,0),this.reverse?e.stencilFunc(e.EQUAL,a+1,255):e.stencilFunc(e.EQUAL,255-(a+1),255));e.colorMask(!0,!0,!0,!0);e.stencilOp(e.KEEP,e.KEEP,e.KEEP);this.count++};b.WebGLStencilManager.prototype.bindGraphics=function(a,c,f){this._currentGraphics=a;var e=this.gl,h=f.projection,g=f.offset,k;1===
c.mode?(k=f.shaderManager.complexPrimativeShader,f.shaderManager.setShader(k),e.uniformMatrix3fv(k.translationMatrix,!1,a.worldTransform.toArray(!0)),e.uniform2f(k.projectionVector,h.x,-h.y),e.uniform2f(k.offsetVector,-g.x,-g.y),e.uniform3fv(k.tintColor,b.hex2rgb(a.tint)),e.uniform3fv(k.color,c.color),e.uniform1f(k.alpha,a.worldAlpha*c.alpha),e.bindBuffer(e.ARRAY_BUFFER,c.buffer),e.vertexAttribPointer(k.aVertexPosition,2,e.FLOAT,!1,8,0)):(k=f.shaderManager.primitiveShader,f.shaderManager.setShader(k),
e.uniformMatrix3fv(k.translationMatrix,!1,a.worldTransform.toArray(!0)),e.uniform2f(k.projectionVector,h.x,-h.y),e.uniform2f(k.offsetVector,-g.x,-g.y),e.uniform3fv(k.tintColor,b.hex2rgb(a.tint)),e.uniform1f(k.alpha,a.worldAlpha),e.bindBuffer(e.ARRAY_BUFFER,c.buffer),e.vertexAttribPointer(k.aVertexPosition,2,e.FLOAT,!1,24,0),e.vertexAttribPointer(k.colorAttribute,4,e.FLOAT,!1,24,8));e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,c.indexBuffer)};b.WebGLStencilManager.prototype.popStencil=function(a,c,b){var e=
this.gl;this.stencilStack.pop();this.count--;if(0===this.stencilStack.length)e.disable(e.STENCIL_TEST);else{var h=this.count;this.bindGraphics(a,c,b);e.colorMask(!1,!1,!1,!1);1===c.mode?((this.reverse=!this.reverse)?(e.stencilFunc(e.EQUAL,255-(h+1),255),e.stencilOp(e.KEEP,e.KEEP,e.INCR)):(e.stencilFunc(e.EQUAL,h+1,255),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),e.drawElements(e.TRIANGLE_FAN,4,e.UNSIGNED_SHORT,2*(c.indices.length-4)),e.stencilFunc(e.ALWAYS,0,255),e.stencilOp(e.KEEP,e.KEEP,e.INVERT),e.drawElements(e.TRIANGLE_FAN,
c.indices.length-4,e.UNSIGNED_SHORT,0)):(this.reverse?(e.stencilFunc(e.EQUAL,h+1,255),e.stencilOp(e.KEEP,e.KEEP,e.DECR)):(e.stencilFunc(e.EQUAL,255-(h+1),255),e.stencilOp(e.KEEP,e.KEEP,e.INCR)),e.drawElements(e.TRIANGLE_STRIP,c.indices.length,e.UNSIGNED_SHORT,0));this.reverse?e.stencilFunc(e.EQUAL,h,255):e.stencilFunc(e.EQUAL,255-h,255);e.colorMask(!0,!0,!0,!0);e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}};b.WebGLStencilManager.prototype.destroy=function(){this.gl=this.maskStack=null};b.WebGLShaderManager=
function(a){this.maxAttibs=10;this.attribState=[];this.tempAttribState=[];this.shaderMap=[];for(var c=0;c<this.maxAttibs;c++)this.attribState[c]=!1;this.setContext(a)};b.WebGLShaderManager.prototype.setContext=function(a){this.gl=a;this.primitiveShader=new b.PrimitiveShader(a);this.complexPrimativeShader=new b.ComplexPrimitiveShader(a);this.defaultShader=new b.PixiShader(a);this.fastShader=new b.PixiFastShader(a);this.stripShader=new b.StripShader(a);this.setShader(this.defaultShader)};b.WebGLShaderManager.prototype.setAttribs=
function(a){var c;for(c=0;c<this.tempAttribState.length;c++)this.tempAttribState[c]=!1;for(c=0;c<a.length;c++)this.tempAttribState[a[c]]=!0;a=this.gl;for(c=0;c<this.attribState.length;c++)this.attribState[c]!==this.tempAttribState[c]&&(this.attribState[c]=this.tempAttribState[c],this.tempAttribState[c]?a.enableVertexAttribArray(c):a.disableVertexAttribArray(c))};b.WebGLShaderManager.prototype.setShader=function(a){if(this._currentId===a._UID)return!1;this._currentId=a._UID;this.currentShader=a;this.gl.useProgram(a.program);
this.setAttribs(a.attributes);return!0};b.WebGLShaderManager.prototype.destroy=function(){this.tempAttribState=this.attribState=null;this.primitiveShader.destroy();this.defaultShader.destroy();this.fastShader.destroy();this.stripShader.destroy();this.gl=null};b.WebGLSpriteBatch=function(a){this.vertSize=6;this.size=2E3;var c=6*this.size;this.vertices=new Float32Array(4*this.size*this.vertSize);this.indices=new Uint16Array(c);for(var b=this.lastIndexCount=0,e=0;b<c;b+=6,e+=4)this.indices[b+0]=e+0,
this.indices[b+1]=e+1,this.indices[b+2]=e+2,this.indices[b+3]=e+0,this.indices[b+4]=e+2,this.indices[b+5]=e+3;this.drawing=!1;this.currentBatchSize=0;this.currentBaseTexture=null;this.setContext(a);this.dirty=!0;this.textures=[];this.blendModes=[]};b.WebGLSpriteBatch.prototype.setContext=function(a){this.gl=a;this.vertexBuffer=a.createBuffer();this.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,
this.vertexBuffer);a.bufferData(a.ARRAY_BUFFER,this.vertices,a.DYNAMIC_DRAW);this.currentBlendMode=99999};b.WebGLSpriteBatch.prototype.begin=function(a){this.renderSession=a;this.shader=this.renderSession.shaderManager.defaultShader;this.start()};b.WebGLSpriteBatch.prototype.end=function(){this.flush()};b.WebGLSpriteBatch.prototype.render=function(a){var c=a.texture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=c.baseTexture);var b=c._uvs;if(b){var e=a.worldAlpha,h=a.tint,
g=this.vertices,k=a.anchor.x,s=a.anchor.y,d,l;c.trim?(l=c.trim,k=l.x-k*l.width,d=k+c.crop.width,s=l.y-s*l.height,l=s+c.crop.height):(d=c.frame.width*(1-k),k=c.frame.width*-k,l=c.frame.height*(1-s),s=c.frame.height*-s);var c=4*this.currentBatchSize*this.vertSize,m=a.worldTransform,p=m.a,n=m.c,q=m.b,r=m.d,u=m.tx,m=m.ty;g[c++]=p*k+q*s+u;g[c++]=r*s+n*k+m;g[c++]=b.x0;g[c++]=b.y0;g[c++]=e;g[c++]=h;g[c++]=p*d+q*s+u;g[c++]=r*s+n*d+m;g[c++]=b.x1;g[c++]=b.y1;g[c++]=e;g[c++]=h;g[c++]=p*d+q*l+u;g[c++]=r*l+n*
d+m;g[c++]=b.x2;g[c++]=b.y2;g[c++]=e;g[c++]=h;g[c++]=p*k+q*l+u;g[c++]=r*l+n*k+m;g[c++]=b.x3;g[c++]=b.y3;g[c++]=e;g[c++]=h;this.textures[this.currentBatchSize]=a.texture.baseTexture;this.blendModes[this.currentBatchSize]=a.blendMode;this.currentBatchSize++}};b.WebGLSpriteBatch.prototype.renderTilingSprite=function(a){var c=a.tilingTexture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=c.baseTexture);a._uvs||(a._uvs=new b.TextureUvs);var f=a._uvs;a.tilePosition.x%=c.baseTexture.width*
a.tileScaleOffset.x;a.tilePosition.y%=c.baseTexture.height*a.tileScaleOffset.y;var e=a.tilePosition.x/(c.baseTexture.width*a.tileScaleOffset.x),h=a.tilePosition.y/(c.baseTexture.height*a.tileScaleOffset.y),g=a.width/c.baseTexture.width/(a.tileScale.x*a.tileScaleOffset.x),k=a.height/c.baseTexture.height/(a.tileScale.y*a.tileScaleOffset.y);f.x0=0-e;f.y0=0-h;f.x1=1*g-e;f.y1=0-h;f.x2=1*g-e;f.y2=1*k-h;f.x3=0-e;f.y3=1*k-h;var e=a.worldAlpha,h=a.tint,g=this.vertices,s=a.width,d=a.height,l=a.anchor.x,m=a.anchor.y,
k=s*(1-l),s=s*-l,l=d*(1-m),d=d*-m,m=4*this.currentBatchSize*this.vertSize,p=a.worldTransform,n=p.a,q=p.c,r=p.b,u=p.d,A=p.tx,p=p.ty;g[m++]=n*s+r*d+A;g[m++]=u*d+q*s+p;g[m++]=f.x0;g[m++]=f.y0;g[m++]=e;g[m++]=h;g[m++]=n*k+r*d+A;g[m++]=u*d+q*k+p;g[m++]=f.x1;g[m++]=f.y1;g[m++]=e;g[m++]=h;g[m++]=n*k+r*l+A;g[m++]=u*l+q*k+p;g[m++]=f.x2;g[m++]=f.y2;g[m++]=e;g[m++]=h;g[m++]=n*s+r*l+A;g[m++]=u*l+q*s+p;g[m++]=f.x3;g[m++]=f.y3;g[m++]=e;g[m++]=h;this.textures[this.currentBatchSize]=c.baseTexture;this.blendModes[this.currentBatchSize]=
a.blendMode;this.currentBatchSize++};b.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var a=this.gl;this.renderSession.shaderManager.setShader(this.renderSession.shaderManager.defaultShader);if(this.dirty){this.dirty=!1;a.activeTexture(a.TEXTURE0);a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var c=this.renderSession.projection;a.uniform2f(this.shader.projectionVector,c.x,c.y);c=4*this.vertSize;a.vertexAttribPointer(this.shader.aVertexPosition,
2,a.FLOAT,!1,c,0);a.vertexAttribPointer(this.shader.aTextureCoord,2,a.FLOAT,!1,c,8);a.vertexAttribPointer(this.shader.colorAttribute,2,a.FLOAT,!1,c,16)}this.currentBatchSize>.5*this.size?a.bufferSubData(a.ARRAY_BUFFER,0,this.vertices):(c=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize),a.bufferSubData(a.ARRAY_BUFFER,0,c));for(var b=0,e=0,h=null,g=this.renderSession.blendModeManager.currentBlendMode,k=0,s=this.currentBatchSize;k<s;k++){a=this.textures[k];c=this.blendModes[k];if(h!==
a||g!==c)this.renderBatch(h,b,e),e=k,b=0,h=a,g=c,this.renderSession.blendModeManager.setBlendMode(g);b++}this.renderBatch(h,b,e);this.currentBatchSize=0}};b.WebGLSpriteBatch.prototype.renderBatch=function(a,c,f){if(0!==c){var e=this.gl;e.bindTexture(e.TEXTURE_2D,a._glTextures[e.id]||b.createWebGLTexture(a,e));a._dirty[e.id]&&b.updateWebGLTexture(this.currentBaseTexture,e);e.drawElements(e.TRIANGLES,6*c,e.UNSIGNED_SHORT,12*f);this.renderSession.drawCount++}};b.WebGLSpriteBatch.prototype.stop=function(){this.flush()};
b.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0};b.WebGLSpriteBatch.prototype.destroy=function(){this.indices=this.vertices=null;this.gl.deleteBuffer(this.vertexBuffer);this.gl.deleteBuffer(this.indexBuffer);this.gl=this.currentBaseTexture=null};b.WebGLFastSpriteBatch=function(a){this.vertSize=10;this.size=this.maxSize=6E3;var c=6*this.maxSize;this.vertices=new Float32Array(4*this.size*this.vertSize);this.indices=new Uint16Array(c);this.indexBuffer=this.vertexBuffer=null;for(var b=this.lastIndexCount=
0,e=0;b<c;b+=6,e+=4)this.indices[b+0]=e+0,this.indices[b+1]=e+1,this.indices[b+2]=e+2,this.indices[b+3]=e+0,this.indices[b+4]=e+2,this.indices[b+5]=e+3;this.drawing=!1;this.currentBatchSize=0;this.currentBaseTexture=null;this.currentBlendMode=0;this.matrix=this.shader=this.renderSession=null;this.setContext(a)};b.WebGLFastSpriteBatch.prototype.setContext=function(a){this.gl=a;this.vertexBuffer=a.createBuffer();this.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);
a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer);a.bufferData(a.ARRAY_BUFFER,this.vertices,a.DYNAMIC_DRAW)};b.WebGLFastSpriteBatch.prototype.begin=function(a,c){this.renderSession=c;this.shader=this.renderSession.shaderManager.fastShader;this.matrix=a.worldTransform.toArray(!0);this.start()};b.WebGLFastSpriteBatch.prototype.end=function(){this.flush()};b.WebGLFastSpriteBatch.prototype.render=function(a){a=a.children;var c=a[0];if(c.texture._uvs){this.currentBaseTexture=
c.texture.baseTexture;c.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(c.blendMode));for(var c=0,b=a.length;c<b;c++)this.renderSprite(a[c]);this.flush()}};b.WebGLFastSpriteBatch.prototype.renderSprite=function(a){if(a.visible){if(a.texture.baseTexture!==this.currentBaseTexture&&(this.flush(),this.currentBaseTexture=a.texture.baseTexture,!a.texture._uvs))return;var c,b=this.vertices,e,h,g,k,s;c=a.texture._uvs;a.texture.trim?
(g=a.texture.trim,h=g.x-a.anchor.x*g.width,e=h+a.texture.crop.width,k=g.y-a.anchor.y*g.height,g=k+a.texture.crop.height):(e=a.texture.frame.width*(1-a.anchor.x),h=a.texture.frame.width*-a.anchor.x,g=a.texture.frame.height*(1-a.anchor.y),k=a.texture.frame.height*-a.anchor.y);s=4*this.currentBatchSize*this.vertSize;b[s++]=h;b[s++]=k;b[s++]=a.position.x;b[s++]=a.position.y;b[s++]=a.scale.x;b[s++]=a.scale.y;b[s++]=a.rotation;b[s++]=c.x0;b[s++]=c.y1;b[s++]=a.alpha;b[s++]=e;b[s++]=k;b[s++]=a.position.x;
b[s++]=a.position.y;b[s++]=a.scale.x;b[s++]=a.scale.y;b[s++]=a.rotation;b[s++]=c.x1;b[s++]=c.y1;b[s++]=a.alpha;b[s++]=e;b[s++]=g;b[s++]=a.position.x;b[s++]=a.position.y;b[s++]=a.scale.x;b[s++]=a.scale.y;b[s++]=a.rotation;b[s++]=c.x2;b[s++]=c.y2;b[s++]=a.alpha;b[s++]=h;b[s++]=g;b[s++]=a.position.x;b[s++]=a.position.y;b[s++]=a.scale.x;b[s++]=a.scale.y;b[s++]=a.rotation;b[s++]=c.x3;b[s++]=c.y3;b[s++]=a.alpha;this.currentBatchSize++;this.currentBatchSize>=this.size&&this.flush()}};b.WebGLFastSpriteBatch.prototype.flush=
function(){if(0!==this.currentBatchSize){var a=this.gl;this.currentBaseTexture._glTextures[a.id]||b.createWebGLTexture(this.currentBaseTexture,a);a.bindTexture(a.TEXTURE_2D,this.currentBaseTexture._glTextures[a.id]);if(this.currentBatchSize>.5*this.size)a.bufferSubData(a.ARRAY_BUFFER,0,this.vertices);else{var c=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);a.bufferSubData(a.ARRAY_BUFFER,0,c)}a.drawElements(a.TRIANGLES,6*this.currentBatchSize,a.UNSIGNED_SHORT,0);this.currentBatchSize=
0;this.renderSession.drawCount++}};b.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()};b.WebGLFastSpriteBatch.prototype.start=function(){var a=this.gl;a.activeTexture(a.TEXTURE0);a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var c=this.renderSession.projection;a.uniform2f(this.shader.projectionVector,c.x,c.y);a.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix);c=4*this.vertSize;a.vertexAttribPointer(this.shader.aVertexPosition,2,
a.FLOAT,!1,c,0);a.vertexAttribPointer(this.shader.aPositionCoord,2,a.FLOAT,!1,c,8);a.vertexAttribPointer(this.shader.aScale,2,a.FLOAT,!1,c,16);a.vertexAttribPointer(this.shader.aRotation,1,a.FLOAT,!1,c,24);a.vertexAttribPointer(this.shader.aTextureCoord,2,a.FLOAT,!1,c,28);a.vertexAttribPointer(this.shader.colorAttribute,1,a.FLOAT,!1,c,36)};b.WebGLFilterManager=function(a,c){this.transparent=c;this.filterStack=[];this.offsetY=this.offsetX=0;this.setContext(a)};b.WebGLFilterManager.prototype.setContext=
function(a){this.gl=a;this.texturePool=[];this.initShaderBuffers()};b.WebGLFilterManager.prototype.begin=function(a,c){this.renderSession=a;this.defaultShader=a.shaderManager.defaultShader;var b=this.renderSession.projection;this.width=2*b.x;this.height=2*-b.y;this.buffer=c};b.WebGLFilterManager.prototype.pushFilter=function(a){var c=this.gl,f=this.renderSession.projection,e=this.renderSession.offset;a._filterArea=a.target.filterArea||a.target.getBounds();this.filterStack.push(a);var h=a.filterPasses[0];
this.offsetX+=a._filterArea.x;this.offsetY+=a._filterArea.y;var g=this.texturePool.pop();g?g.resize(this.width,this.height):g=new b.FilterTexture(this.gl,this.width,this.height);c.bindTexture(c.TEXTURE_2D,g.texture);var k=a._filterArea,h=h.padding;k.x-=h;k.y-=h;k.width+=2*h;k.height+=2*h;0>k.x&&(k.x=0);k.width>this.width&&(k.width=this.width);0>k.y&&(k.y=0);k.height>this.height&&(k.height=this.height);c.bindFramebuffer(c.FRAMEBUFFER,g.frameBuffer);c.viewport(0,0,k.width,k.height);f.x=k.width/2;f.y=
-k.height/2;e.x=-k.x;e.y=-k.y;this.renderSession.shaderManager.setShader(this.defaultShader);c.uniform2f(this.defaultShader.projectionVector,k.width/2,-k.height/2);c.uniform2f(this.defaultShader.offsetVector,-k.x,-k.y);c.colorMask(!0,!0,!0,!0);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);a._glFilterTexture=g};b.WebGLFilterManager.prototype.popFilter=function(){var a=this.gl,c=this.filterStack.pop(),f=c._filterArea,e=c._glFilterTexture,h=this.renderSession.projection,g=this.renderSession.offset;
if(1<c.filterPasses.length){a.viewport(0,0,f.width,f.height);a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer);this.vertexArray[0]=0;this.vertexArray[1]=f.height;this.vertexArray[2]=f.width;this.vertexArray[3]=f.height;this.vertexArray[4]=0;this.vertexArray[5]=0;this.vertexArray[6]=f.width;this.vertexArray[7]=0;a.bufferSubData(a.ARRAY_BUFFER,0,this.vertexArray);a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer);this.uvArray[2]=f.width/this.width;this.uvArray[5]=f.height/this.height;this.uvArray[6]=f.width/this.width;
this.uvArray[7]=f.height/this.height;a.bufferSubData(a.ARRAY_BUFFER,0,this.uvArray);var k=this.texturePool.pop();k||(k=new b.FilterTexture(this.gl,this.width,this.height));k.resize(this.width,this.height);a.bindFramebuffer(a.FRAMEBUFFER,k.frameBuffer);a.clear(a.COLOR_BUFFER_BIT);a.disable(a.BLEND);for(var s=0;s<c.filterPasses.length-1;s++){var d=c.filterPasses[s];a.bindFramebuffer(a.FRAMEBUFFER,k.frameBuffer);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,e.texture);this.applyFilterPass(d,
f,f.width,f.height);d=e;e=k;k=d}a.enable(a.BLEND);this.texturePool.push(k)}k=c.filterPasses[c.filterPasses.length-1];this.offsetX-=f.x;this.offsetY-=f.y;var s=this.width,d=this.height,l=0,m=0,p=this.buffer;0===this.filterStack.length?a.colorMask(!0,!0,!0,!0):(p=this.filterStack[this.filterStack.length-1],f=p._filterArea,s=f.width,d=f.height,l=f.x,m=f.y,p=p._glFilterTexture.frameBuffer);h.x=s/2;h.y=-d/2;g.x=l;g.y=m;f=c._filterArea;h=f.x-l;g=f.y-m;a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer);this.vertexArray[0]=
h;this.vertexArray[1]=g+f.height;this.vertexArray[2]=h+f.width;this.vertexArray[3]=g+f.height;this.vertexArray[4]=h;this.vertexArray[5]=g;this.vertexArray[6]=h+f.width;this.vertexArray[7]=g;a.bufferSubData(a.ARRAY_BUFFER,0,this.vertexArray);a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer);this.uvArray[2]=f.width/this.width;this.uvArray[5]=f.height/this.height;this.uvArray[6]=f.width/this.width;this.uvArray[7]=f.height/this.height;a.bufferSubData(a.ARRAY_BUFFER,0,this.uvArray);a.viewport(0,0,s,d);a.bindFramebuffer(a.FRAMEBUFFER,
p);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,e.texture);this.applyFilterPass(k,f,s,d);this.renderSession.shaderManager.setShader(this.defaultShader);a.uniform2f(this.defaultShader.projectionVector,s/2,-d/2);a.uniform2f(this.defaultShader.offsetVector,-l,-m);this.texturePool.push(e);c._glFilterTexture=null};b.WebGLFilterManager.prototype.applyFilterPass=function(a,c,f,e){c=this.gl;var h=a.shaders[c.id];h||(h=new b.PixiShader(c),h.fragmentSrc=a.fragmentSrc,h.uniforms=a.uniforms,h.init(),
a.shaders[c.id]=h);this.renderSession.shaderManager.setShader(h);c.uniform2f(h.projectionVector,f/2,-e/2);c.uniform2f(h.offsetVector,0,0);a.uniforms.dimensions&&(a.uniforms.dimensions.value[0]=this.width,a.uniforms.dimensions.value[1]=this.height,a.uniforms.dimensions.value[2]=this.vertexArray[0],a.uniforms.dimensions.value[3]=this.vertexArray[5]);h.syncUniforms();c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer);c.vertexAttribPointer(h.aVertexPosition,2,c.FLOAT,!1,0,0);c.bindBuffer(c.ARRAY_BUFFER,this.uvBuffer);
c.vertexAttribPointer(h.aTextureCoord,2,c.FLOAT,!1,0,0);c.bindBuffer(c.ARRAY_BUFFER,this.colorBuffer);c.vertexAttribPointer(h.colorAttribute,2,c.FLOAT,!1,0,0);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.indexBuffer);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);this.renderSession.drawCount++};b.WebGLFilterManager.prototype.initShaderBuffers=function(){var a=this.gl;this.vertexBuffer=a.createBuffer();this.uvBuffer=a.createBuffer();this.colorBuffer=a.createBuffer();this.indexBuffer=a.createBuffer();
this.vertexArray=new Float32Array([0,0,1,0,0,1,1,1]);a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer);a.bufferData(a.ARRAY_BUFFER,this.vertexArray,a.STATIC_DRAW);this.uvArray=new Float32Array([0,0,1,0,0,1,1,1]);a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer);a.bufferData(a.ARRAY_BUFFER,this.uvArray,a.STATIC_DRAW);this.colorArray=new Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]);a.bindBuffer(a.ARRAY_BUFFER,this.colorBuffer);a.bufferData(a.ARRAY_BUFFER,this.colorArray,a.STATIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,
this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),a.STATIC_DRAW)};b.WebGLFilterManager.prototype.destroy=function(){var a=this.gl;this.filterStack=null;for(var c=this.offsetY=this.offsetX=0;c<this.texturePool.length;c++)this.texturePool[c].destroy();this.texturePool=null;a.deleteBuffer(this.vertexBuffer);a.deleteBuffer(this.uvBuffer);a.deleteBuffer(this.colorBuffer);a.deleteBuffer(this.indexBuffer)};b.FilterTexture=function(a,c,f,e){this.gl=a;this.frameBuffer=a.createFramebuffer();
this.texture=a.createTexture();e=e||b.scaleModes.DEFAULT;a.bindTexture(a.TEXTURE_2D,this.texture);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,e===b.scaleModes.LINEAR?a.LINEAR:a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,e===b.scaleModes.LINEAR?a.LINEAR:a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer);a.bindFramebuffer(a.FRAMEBUFFER,this.frameBuffer);
a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.texture,0);this.renderBuffer=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,this.renderBuffer);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.renderBuffer);this.resize(c,f)};b.FilterTexture.prototype.clear=function(){var a=this.gl;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT)};b.FilterTexture.prototype.resize=function(a,c){if(this.width!==a||this.height!==c){this.width=
a;this.height=c;var b=this.gl;b.bindTexture(b.TEXTURE_2D,this.texture);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a,c,0,b.RGBA,b.UNSIGNED_BYTE,null);b.bindRenderbuffer(b.RENDERBUFFER,this.renderBuffer);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,a,c)}};b.FilterTexture.prototype.destroy=function(){var a=this.gl;a.deleteFramebuffer(this.frameBuffer);a.deleteTexture(this.texture);this.texture=this.frameBuffer=null};b.CanvasMaskManager=function(){};b.CanvasMaskManager.prototype.pushMask=function(a,c){c.save();
var f=a.alpha,e=a.worldTransform;c.setTransform(e.a,e.c,e.b,e.d,e.tx,e.ty);b.CanvasGraphics.renderGraphicsMask(a,c);c.clip();a.worldAlpha=f};b.CanvasMaskManager.prototype.popMask=function(a){a.restore()};b.CanvasTinter=function(){};b.CanvasTinter.getTintedTexture=function(a,c){var f=a.texture;c=b.CanvasTinter.roundColor(c);var e="#"+("00000"+(c|0).toString(16)).substr(-6);f.tintCache=f.tintCache||{};if(f.tintCache[e])return f.tintCache[e];var h=b.CanvasTinter.canvas||document.createElement("canvas");
b.CanvasTinter.tintMethod(f,c,h);if(b.CanvasTinter.convertTintToImage){var g=new Image;g.src=h.toDataURL();f.tintCache[e]=g}else f.tintCache[e]=h,b.CanvasTinter.canvas=null;return h};b.CanvasTinter.tintWithMultiply=function(a,c,b){var e=b.getContext("2d"),h=a.frame;b.width=h.width;b.height=h.height;e.fillStyle="#"+("00000"+(c|0).toString(16)).substr(-6);e.fillRect(0,0,h.width,h.height);e.globalCompositeOperation="multiply";e.drawImage(a.baseTexture.source,h.x,h.y,h.width,h.height,0,0,h.width,h.height);
e.globalCompositeOperation="destination-atop";e.drawImage(a.baseTexture.source,h.x,h.y,h.width,h.height,0,0,h.width,h.height)};b.CanvasTinter.tintWithOverlay=function(a,c,b){var e=b.getContext("2d"),h=a.frame;b.width=h.width;b.height=h.height;e.globalCompositeOperation="copy";e.fillStyle="#"+("00000"+(c|0).toString(16)).substr(-6);e.fillRect(0,0,h.width,h.height);e.globalCompositeOperation="destination-atop";e.drawImage(a.baseTexture.source,h.x,h.y,h.width,h.height,0,0,h.width,h.height)};b.CanvasTinter.tintWithPerPixel=
function(a,c,f){var e=f.getContext("2d"),h=a.frame;f.width=h.width;f.height=h.height;e.globalCompositeOperation="copy";e.drawImage(a.baseTexture.source,h.x,h.y,h.width,h.height,0,0,h.width,h.height);f=b.hex2rgb(c);a=f[0];c=f[1];f=f[2];for(var h=e.getImageData(0,0,h.width,h.height),g=h.data,k=0;k<g.length;k+=4)g[k+0]*=a,g[k+1]*=c,g[k+2]*=f;e.putImageData(h,0,0)};b.CanvasTinter.roundColor=function(a){var c=b.CanvasTinter.cacheStepsPerColorChannel;a=b.hex2rgb(a);a[0]=Math.min(255,a[0]/c*c);a[1]=Math.min(255,
a[1]/c*c);a[2]=Math.min(255,a[2]/c*c);return b.rgb2hex(a)};b.CanvasTinter.cacheStepsPerColorChannel=8;b.CanvasTinter.convertTintToImage=!1;b.CanvasTinter.canUseMultiply=b.canUseNewCanvasBlendModes();b.CanvasTinter.tintMethod=b.CanvasTinter.canUseMultiply?b.CanvasTinter.tintWithMultiply:b.CanvasTinter.tintWithPerPixel;b.CanvasRenderer=function(a,c,f,e){b.defaultRenderer||(b.sayHello("Canvas"),b.defaultRenderer=this);this.type=b.CANVAS_RENDERER;this.clearBeforeRender=!0;this.transparent=!!e;b.blendModesCanvas||
(b.blendModesCanvas=[],b.canUseNewCanvasBlendModes()?(b.blendModesCanvas[b.blendModes.NORMAL]="source-over",b.blendModesCanvas[b.blendModes.ADD]="lighter",b.blendModesCanvas[b.blendModes.MULTIPLY]="multiply",b.blendModesCanvas[b.blendModes.SCREEN]="screen",b.blendModesCanvas[b.blendModes.OVERLAY]="overlay",b.blendModesCanvas[b.blendModes.DARKEN]="darken",b.blendModesCanvas[b.blendModes.LIGHTEN]="lighten",b.blendModesCanvas[b.blendModes.COLOR_DODGE]="color-dodge",b.blendModesCanvas[b.blendModes.COLOR_BURN]=
"color-burn",b.blendModesCanvas[b.blendModes.HARD_LIGHT]="hard-light",b.blendModesCanvas[b.blendModes.SOFT_LIGHT]="soft-light",b.blendModesCanvas[b.blendModes.DIFFERENCE]="difference",b.blendModesCanvas[b.blendModes.EXCLUSION]="exclusion",b.blendModesCanvas[b.blendModes.HUE]="hue",b.blendModesCanvas[b.blendModes.SATURATION]="saturation",b.blendModesCanvas[b.blendModes.COLOR]="color",b.blendModesCanvas[b.blendModes.LUMINOSITY]="luminosity"):(b.blendModesCanvas[b.blendModes.NORMAL]="source-over",b.blendModesCanvas[b.blendModes.ADD]=
"lighter",b.blendModesCanvas[b.blendModes.MULTIPLY]="source-over",b.blendModesCanvas[b.blendModes.SCREEN]="source-over",b.blendModesCanvas[b.blendModes.OVERLAY]="source-over",b.blendModesCanvas[b.blendModes.DARKEN]="source-over",b.blendModesCanvas[b.blendModes.LIGHTEN]="source-over",b.blendModesCanvas[b.blendModes.COLOR_DODGE]="source-over",b.blendModesCanvas[b.blendModes.COLOR_BURN]="source-over",b.blendModesCanvas[b.blendModes.HARD_LIGHT]="source-over",b.blendModesCanvas[b.blendModes.SOFT_LIGHT]=
"source-over",b.blendModesCanvas[b.blendModes.DIFFERENCE]="source-over",b.blendModesCanvas[b.blendModes.EXCLUSION]="source-over",b.blendModesCanvas[b.blendModes.HUE]="source-over",b.blendModesCanvas[b.blendModes.SATURATION]="source-over",b.blendModesCanvas[b.blendModes.COLOR]="source-over",b.blendModesCanvas[b.blendModes.LUMINOSITY]="source-over"));this.width=a||800;this.height=c||600;this.view=f||document.createElement("canvas");this.context=this.view.getContext("2d",{alpha:this.transparent});this.refresh=
!0;this.view.width=this.width;this.view.height=this.height;this.count=0;this.maskManager=new b.CanvasMaskManager;this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:null,roundPixels:!1};"imageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty=
"mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context&&(this.renderSession.smoothProperty="oImageSmoothingEnabled")};b.CanvasRenderer.prototype.constructor=b.CanvasRenderer;b.CanvasRenderer.prototype.render=function(a){b.texturesToUpdate.length=0;b.texturesToDestroy.length=0;a.updateTransform();this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear());!this.transparent&&this.clearBeforeRender?
(this.context.fillStyle=a.backgroundColorString,this.context.fillRect(0,0,this.width,this.height)):this.transparent&&this.clearBeforeRender&&this.context.clearRect(0,0,this.width,this.height);this.renderDisplayObject(a);a.interactive&&!a._interactiveEventsAdded&&(a._interactiveEventsAdded=!0,a.interactionManager.setTarget(this));0<b.Texture.frameUpdates.length&&(b.Texture.frameUpdates.length=0)};b.CanvasRenderer.prototype.resize=function(a,c){this.width=a;this.height=c;this.view.width=a;this.view.height=
c};b.CanvasRenderer.prototype.renderDisplayObject=function(a,c){this.renderSession.context=c||this.context;a._renderCanvas(this.renderSession)};b.CanvasRenderer.prototype.renderStripFlat=function(a){var c=this.context;a=a.verticies;var b=a.length/2;this.count++;c.beginPath();for(var e=1;e<b-2;e++){var h=2*e,g=a[h+2],k=a[h+4],s=a[h+3],d=a[h+5];c.moveTo(a[h],a[h+1]);c.lineTo(g,s);c.lineTo(k,d)}c.fillStyle="#FF0000";c.fill();c.closePath()};b.CanvasRenderer.prototype.renderStrip=function(a){var c=this.context,
b=a.verticies,e=a.uvs,h=b.length/2;this.count++;for(var g=1;g<h-2;g++){var k=2*g,s=b[k],d=b[k+2],l=b[k+4],m=b[k+1],p=b[k+3],n=b[k+5],q=e[k]*a.texture.width,r=e[k+2]*a.texture.width,u=e[k+4]*a.texture.width,A=e[k+1]*a.texture.height,B=e[k+3]*a.texture.height,k=e[k+5]*a.texture.height;c.save();c.beginPath();c.moveTo(s,m);c.lineTo(d,p);c.lineTo(l,n);c.closePath();c.clip();var y=q*B+A*u+r*k-B*u-A*r-q*k;c.transform((s*B+A*l+d*k-B*l-A*d-s*k)/y,(m*B+A*n+p*k-B*n-A*p-m*k)/y,(q*d+s*u+r*l-d*u-s*r-q*l)/y,(q*
p+m*u+r*n-p*u-m*r-q*n)/y,(q*B*l+A*d*u+s*r*k-s*B*u-A*r*l-q*d*k)/y,(q*B*n+A*p*u+m*r*k-m*B*u-A*r*n-q*p*k)/y);c.drawImage(a.texture.baseTexture.source,0,0);c.restore()}};b.CanvasBuffer=function(a,c){this.width=a;this.height=c;this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.canvas.width=a;this.canvas.height=c};b.CanvasBuffer.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};b.CanvasBuffer.prototype.resize=function(a,c){this.width=
this.canvas.width=a;this.height=this.canvas.height=c};b.CanvasGraphics=function(){};b.CanvasGraphics.renderGraphics=function(a,c){for(var f=a.worldAlpha,e=0;e<a.graphicsData.length;e++){var h=a.graphicsData[e],g=h.points;c.strokeStyle="#"+("00000"+(h.lineColor|0).toString(16)).substr(-6);c.lineWidth=h.lineWidth;if(h.type===b.Graphics.POLY){c.beginPath();c.moveTo(g[0],g[1]);for(var k=1;k<g.length/2;k++)c.lineTo(g[2*k],g[2*k+1]);g[0]===g[g.length-2]&&g[1]===g[g.length-1]&&c.closePath();h.fill&&(c.globalAlpha=
h.fillAlpha*f,c.fillStyle="#"+("00000"+(h.fillColor|0).toString(16)).substr(-6),c.fill());h.lineWidth&&(c.globalAlpha=h.lineAlpha*f,c.stroke())}else if(h.type===b.Graphics.RECT){if(h.fillColor||0===h.fillColor)c.globalAlpha=h.fillAlpha*f,c.fillStyle="#"+("00000"+(h.fillColor|0).toString(16)).substr(-6),c.fillRect(g[0],g[1],g[2],g[3]);h.lineWidth&&(c.globalAlpha=h.lineAlpha*f,c.strokeRect(g[0],g[1],g[2],g[3]))}else if(h.type===b.Graphics.CIRC)c.beginPath(),c.arc(g[0],g[1],g[2],0,2*Math.PI),c.closePath(),
h.fill&&(c.globalAlpha=h.fillAlpha*f,c.fillStyle="#"+("00000"+(h.fillColor|0).toString(16)).substr(-6),c.fill()),h.lineWidth&&(c.globalAlpha=h.lineAlpha*f,c.stroke());else if(h.type===b.Graphics.ELIP){var s=h.points,d=2*s[2],l=2*s[3],k=s[0]-d/2,s=s[1]-l/2;c.beginPath();var m=d/2*.5522848,g=l/2*.5522848,p=k+d,n=s+l,d=k+d/2,l=s+l/2;c.moveTo(k,l);c.bezierCurveTo(k,l-g,d-m,s,d,s);c.bezierCurveTo(d+m,s,p,l-g,p,l);c.bezierCurveTo(p,l+g,d+m,n,d,n);c.bezierCurveTo(d-m,n,k,l+g,k,l);c.closePath();h.fill&&(c.globalAlpha=
h.fillAlpha*f,c.fillStyle="#"+("00000"+(h.fillColor|0).toString(16)).substr(-6),c.fill());h.lineWidth&&(c.globalAlpha=h.lineAlpha*f,c.stroke())}else if(h.type===b.Graphics.RREC){k=g[0];l=g[1];s=g[2];m=g[3];g=g[4];p=Math.min(s,m)/2|0;g=g>p?p:g;c.beginPath();c.moveTo(k,l+g);c.lineTo(k,l+m-g);c.quadraticCurveTo(k,l+m,k+g,l+m);c.lineTo(k+s-g,l+m);c.quadraticCurveTo(k+s,l+m,k+s,l+m-g);c.lineTo(k+s,l+g);c.quadraticCurveTo(k+s,l,k+s-g,l);c.lineTo(k+g,l);c.quadraticCurveTo(k,l,k,l+g);c.closePath();if(h.fillColor||
0===h.fillColor)c.globalAlpha=h.fillAlpha*f,c.fillStyle="#"+("00000"+(h.fillColor|0).toString(16)).substr(-6),c.fill();h.lineWidth&&(c.globalAlpha=h.lineAlpha*f,c.stroke())}}};b.CanvasGraphics.renderGraphicsMask=function(a,c){var f=a.graphicsData.length;if(0!==f)for(1<f&&window.console.log("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"),f=0;1>f;f++){var e=a.graphicsData[f],h=e.points;if(e.type===b.Graphics.POLY){c.beginPath();c.moveTo(h[0],h[1]);for(e=
1;e<h.length/2;e++)c.lineTo(h[2*e],h[2*e+1]);h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&c.closePath()}else if(e.type===b.Graphics.RECT)c.beginPath(),c.rect(h[0],h[1],h[2],h[3]),c.closePath();else if(e.type===b.Graphics.CIRC)c.beginPath(),c.arc(h[0],h[1],h[2],0,2*Math.PI),c.closePath();else if(e.type===b.Graphics.ELIP){var g=e.points,k=2*g[2],e=2*g[3],h=g[0]-k/2,g=g[1]-e/2;c.beginPath();var s=k/2*.5522848,d=e/2*.5522848,l=h+k,m=g+e,k=h+k/2,e=g+e/2;c.moveTo(h,e);c.bezierCurveTo(h,e-d,k-s,g,k,g);c.bezierCurveTo(k+
s,g,l,e-d,l,e);c.bezierCurveTo(l,e+d,k+s,m,k,m);c.bezierCurveTo(k-s,m,h,e+d,h,e);c.closePath()}else e.type===b.Graphics.RREC&&(e=h[0],g=h[1],s=h[2],d=h[3],h=h[4],l=Math.min(s,d)/2|0,h=h>l?l:h,c.beginPath(),c.moveTo(e,g+h),c.lineTo(e,g+d-h),c.quadraticCurveTo(e,g+d,e+h,g+d),c.lineTo(e+s-h,g+d),c.quadraticCurveTo(e+s,g+d,e+s,g+d-h),c.lineTo(e+s,g+h),c.quadraticCurveTo(e+s,g,e+s-h,g),c.lineTo(e+h,g),c.quadraticCurveTo(e,g,e,g+h),c.closePath())}};b.Graphics=function(){b.DisplayObjectContainer.call(this);
this.renderable=!0;this.fillAlpha=1;this.lineWidth=0;this.lineColor="black";this.graphicsData=[];this.tint=16777215;this.blendMode=b.blendModes.NORMAL;this.currentPath={points:[]};this._webGL=[];this.isMask=!1;this.bounds=null;this.boundsPadding=10;this.dirty=!0};b.Graphics.prototype=Object.create(b.DisplayObjectContainer.prototype);b.Graphics.prototype.constructor=b.Graphics;Object.defineProperty(b.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(a){(this._cacheAsBitmap=
a)?this._generateCachedSprite():(this.destroyCachedSprite(),this.dirty=!0)}});b.Graphics.prototype.lineStyle=function(a,c,f){this.currentPath.points.length||this.graphicsData.pop();this.lineWidth=a||0;this.lineColor=c||0;this.lineAlpha=3>arguments.length?1:f;this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:b.Graphics.POLY};this.graphicsData.push(this.currentPath);return this};
b.Graphics.prototype.moveTo=function(a,c){this.currentPath.points.length||this.graphicsData.pop();this.currentPath=this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:b.Graphics.POLY};this.currentPath.points.push(a,c);this.graphicsData.push(this.currentPath);return this};b.Graphics.prototype.lineTo=function(a,c){this.currentPath.points.push(a,c);this.dirty=!0;return this};b.Graphics.prototype.quadraticCurveTo=
function(a,c,b,e){0===this.currentPath.points.length&&this.moveTo(0,0);var h,g,k=this.currentPath.points;0===k.length&&this.moveTo(0,0);for(var s=k[k.length-2],d=k[k.length-1],l=0,m=1;20>=m;m++)l=m/20,h=s+(a-s)*l,g=d+(c-d)*l,k.push(h+(a+(b-a)*l-h)*l,g+(c+(e-c)*l-g)*l);this.dirty=!0;return this};b.Graphics.prototype.bezierCurveTo=function(a,c,b,e,h,g){0===this.currentPath.points.length&&this.moveTo(0,0);for(var k,s,d,l,m,p=this.currentPath.points,n=p[p.length-2],q=p[p.length-1],r=0,u=1;20>u;u++)r=
u/20,k=1-r,s=k*k,d=s*k,l=r*r,m=l*r,p.push(d*n+3*s*r*a+3*k*l*b+m*h,d*q+3*s*r*c+3*k*l*e+m*g);this.dirty=!0;return this};b.Graphics.prototype.arcTo=function(a,c,b,e,h){0===this.currentPath.points.length&&this.moveTo(a,c);var g=this.currentPath.points,k=g[g.length-1]-c,d=g[g.length-2]-a;e-=c;b-=a;var l=Math.abs(k*b-d*e);if(1E-8>l||0===h)g.push(a,c);else{var m=k*k+d*d,p=e*e+b*b,n=k*e+d*b,g=h*Math.sqrt(m)/l,l=h*Math.sqrt(p)/l,m=g*n/m,q=l*n/p,p=g*b+l*d,n=g*e+l*k,r=b*(g+q),g=e*(g+q),l=Math.atan2(k*(l+m)-
n,d*(l+m)-p),g=Math.atan2(g-n,r-p);this.arc(p+a,n+c,h,l,g,d*e>b*k)}this.dirty=!0;return this};b.Graphics.prototype.arc=function(a,c,b,e,h,g){var k=a+Math.cos(e)*b,d=c+Math.sin(e)*b,l=this.currentPath.points;if(0!==l.length&&l[l.length-2]!==k||l[l.length-1]!==d)this.moveTo(k,d),l=this.currentPath.points;if(e===h)return this;!g&&h<=e?h+=2*Math.PI:g&&e<=h&&(e+=2*Math.PI);h=g?-1*(e-h):h-e;var m=Math.abs(h)/(2*Math.PI)*40;if(0===h)return this;h/=2*m;g=2*h;for(var k=Math.cos(h),d=Math.sin(h),m=m-1,p=m%
1/m,n=0;n<=m;n++){var q=h+e+g*(n+p*n),r=Math.cos(q),q=-Math.sin(q);l.push((k*r+d*q)*b+a,(k*-q+d*r)*b+c)}this.dirty=!0;return this};b.Graphics.prototype.drawPath=function(a){this.currentPath.points.length||this.graphicsData.pop();this.currentPath=this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:b.Graphics.POLY};this.graphicsData.push(this.currentPath);this.currentPath.points=
this.currentPath.points.concat(a);this.dirty=!0;return this};b.Graphics.prototype.beginFill=function(a,b){this.filling=!0;this.fillColor=a||0;this.fillAlpha=2>arguments.length?1:b;return this};b.Graphics.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};b.Graphics.prototype.drawRect=function(a,c,f,e){this.currentPath.points.length||this.graphicsData.pop();this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,
fillAlpha:this.fillAlpha,fill:this.filling,points:[a,c,f,e],type:b.Graphics.RECT};this.graphicsData.push(this.currentPath);this.dirty=!0;return this};b.Graphics.prototype.drawRoundedRect=function(a,c,f,e,h){this.currentPath.points.length||this.graphicsData.pop();this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[a,c,f,e,h],type:b.Graphics.RREC};this.graphicsData.push(this.currentPath);
this.dirty=!0;return this};b.Graphics.prototype.drawCircle=function(a,c,f){this.currentPath.points.length||this.graphicsData.pop();this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[a,c,f,f],type:b.Graphics.CIRC};this.graphicsData.push(this.currentPath);this.dirty=!0;return this};b.Graphics.prototype.drawEllipse=function(a,c,f,e){this.currentPath.points.length||this.graphicsData.pop();
this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[a,c,f,e],type:b.Graphics.ELIP};this.graphicsData.push(this.currentPath);this.dirty=!0;return this};b.Graphics.prototype.clear=function(){this.lineWidth=0;this.filling=!1;this.clearDirty=this.dirty=!0;this.graphicsData=[];this.bounds=null;return this};b.Graphics.prototype.generateTexture=function(){var a=this.getBounds(),c=new b.CanvasBuffer(a.width,
a.height),f=b.Texture.fromCanvas(c.canvas);c.context.translate(-a.x,-a.y);b.CanvasGraphics.renderGraphics(this,c.context);return f};b.Graphics.prototype._renderWebGL=function(a){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask)if(this._cacheAsBitmap)this.dirty&&(this._generateCachedSprite(),b.updateWebGLTexture(this._cachedSprite.texture.baseTexture,a.gl),this.dirty=!1),this._cachedSprite.alpha=this.alpha,b.Sprite.prototype._renderWebGL.call(this._cachedSprite,a);else{a.spriteBatch.stop();a.blendModeManager.setBlendMode(this.blendMode);
this._mask&&a.maskManager.pushMask(this._mask,a);this._filters&&a.filterManager.pushFilter(this._filterBlock);if(this.blendMode!==a.spriteBatch.currentBlendMode){a.spriteBatch.currentBlendMode=this.blendMode;var c=b.blendModesWebGL[a.spriteBatch.currentBlendMode];a.spriteBatch.gl.blendFunc(c[0],c[1])}b.WebGLGraphics.renderGraphics(this,a);if(this.children.length){a.spriteBatch.start();for(var c=0,f=this.children.length;c<f;c++)this.children[c]._renderWebGL(a);a.spriteBatch.stop()}this._filters&&a.filterManager.popFilter();
this._mask&&a.maskManager.popMask(this.mask,a);a.drawCount++;a.spriteBatch.start()}};b.Graphics.prototype._renderCanvas=function(a){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){var c=a.context,f=this.worldTransform;this.blendMode!==a.currentBlendMode&&(a.currentBlendMode=this.blendMode,c.globalCompositeOperation=b.blendModesCanvas[a.currentBlendMode]);this._mask&&a.maskManager.pushMask(this._mask,a.context);c.setTransform(f.a,f.c,f.b,f.d,f.tx,f.ty);b.CanvasGraphics.renderGraphics(this,
c);c=0;for(f=this.children.length;c<f;c++)this.children[c]._renderCanvas(a);this._mask&&a.maskManager.popMask(a.context)}};b.Graphics.prototype.getBounds=function(a){this.bounds||this.updateBounds();var b=this.bounds.x,f=this.bounds.width+this.bounds.x,e=this.bounds.y,h=this.bounds.height+this.bounds.y;a=a||this.worldTransform;var g=a.a,k=a.c,d=a.b,l=a.d,m=a.tx,p=a.ty,n=g*f+d*h+m,q=l*h+k*f+p;a=g*b+d*h+m;var h=l*h+k*b+p,r=g*b+d*e+m,b=l*e+k*b+p,g=g*f+d*e+m,f=l*e+k*f+p,e=n,k=q,n=a<n?a:n,n=r<n?r:n,n=
g<n?g:n,q=h<q?h:q,q=b<q?b:q,q=f<q?f:q,e=a>e?a:e,e=r>e?r:e,k=h>k?h:k,k=b>k?b:k;a=this._bounds;a.x=n;a.width=(g>e?g:e)-n;a.y=q;a.height=(f>k?f:k)-q;return a};b.Graphics.prototype.updateBounds=function(){for(var a=Infinity,c=-Infinity,f=Infinity,e=-Infinity,h,g,k,d,l,m=0;m<this.graphicsData.length;m++)if(h=this.graphicsData[m],g=h.type,l=h.lineWidth,h=h.points,g===b.Graphics.RECT)g=h[0]-l/2,k=h[1]-l/2,d=h[2]+l,l=h[3]+l,a=g<a?g:a,c=g+d>c?g+d:c,f=k<f?g:f,e=k+l>e?k+l:e;else if(g===b.Graphics.CIRC||g===
b.Graphics.ELIP)g=h[0],k=h[1],d=h[2]+l/2,l=h[3]+l/2,a=g-d<a?g-d:a,c=g+d>c?g+d:c,f=k-l<f?k-l:f,e=k+l>e?k+l:e;else for(d=0;d<h.length;d+=2)g=h[d],k=h[d+1],a=g-l<a?g-l:a,c=g+l>c?g+l:c,f=k-l<f?k-l:f,e=k+l>e?k+l:e;m=this.boundsPadding;this.bounds=new b.Rectangle(a-m,f-m,c-a+2*m,e-f+2*m)};b.Graphics.prototype._generateCachedSprite=function(){var a=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(a.width,a.height);else{var c=new b.CanvasBuffer(a.width,a.height),f=b.Texture.fromCanvas(c.canvas);
this._cachedSprite=new b.Sprite(f);this._cachedSprite.buffer=c;this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-(a.x/a.width);this._cachedSprite.anchor.y=-(a.y/a.height);this._cachedSprite.buffer.context.translate(-a.x,-a.y);b.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context);this._cachedSprite.alpha=this.alpha};b.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0);this._cachedSprite=null};b.Graphics.POLY=0;
b.Graphics.RECT=1;b.Graphics.CIRC=2;b.Graphics.ELIP=3;b.Graphics.RREC=4;b.Strip=function(a){b.DisplayObjectContainer.call(this);this.texture=a;this.uvs=new b.Float32Array([0,1,1,1,1,0,0,1]);this.verticies=new b.Float32Array([0,0,100,0,100,100,0,100]);this.colors=new b.Float32Array([1,1,1,1]);this.indices=new b.Uint16Array([0,1,2,3]);this.dirty=!0};b.Strip.prototype=Object.create(b.DisplayObjectContainer.prototype);b.Strip.prototype.constructor=b.Strip;b.Strip.prototype._renderWebGL=function(a){!this.visible||
0>=this.alpha||(a.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(a),a.shaderManager.setShader(a.shaderManager.stripShader),this._renderStrip(a),a.spriteBatch.start())};b.Strip.prototype._initWebGL=function(a){a=a.gl;this._vertexBuffer=a.createBuffer();this._indexBuffer=a.createBuffer();this._uvBuffer=a.createBuffer();this._colorBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this._vertexBuffer);a.bufferData(a.ARRAY_BUFFER,this.verticies,a.DYNAMIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,this._uvBuffer);
a.bufferData(a.ARRAY_BUFFER,this.uvs,a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,this._colorBuffer);a.bufferData(a.ARRAY_BUFFER,this.colors,a.STATIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this._indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW)};b.Strip.prototype._renderStrip=function(a){var c=a.gl,f=a.projection,e=a.offset;a=a.shaderManager.stripShader;c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);c.uniformMatrix3fv(a.translationMatrix,!1,this.worldTransform.toArray(!0));c.uniform2f(a.projectionVector,
f.x,-f.y);c.uniform2f(a.offsetVector,-e.x,-e.y);c.uniform1f(a.alpha,1);this.dirty?(this.dirty=!1,c.bindBuffer(c.ARRAY_BUFFER,this._vertexBuffer),c.bufferData(c.ARRAY_BUFFER,this.verticies,c.STATIC_DRAW),c.vertexAttribPointer(a.aVertexPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,this._uvBuffer),c.bufferData(c.ARRAY_BUFFER,this.uvs,c.STATIC_DRAW),c.vertexAttribPointer(a.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,this.texture.baseTexture._glTextures[c.id]||
b.createWebGLTexture(this.texture.baseTexture,c)),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this._indexBuffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.indices,c.STATIC_DRAW)):(c.bindBuffer(c.ARRAY_BUFFER,this._vertexBuffer),c.bufferSubData(c.ARRAY_BUFFER,0,this.verticies),c.vertexAttribPointer(a.aVertexPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,this._uvBuffer),c.vertexAttribPointer(a.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,this.texture.baseTexture._glTextures[c.id]||
b.createWebGLTexture(this.texture.baseTexture,c)),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this._indexBuffer));c.drawElements(c.TRIANGLE_STRIP,this.indices.length,c.UNSIGNED_SHORT,0)};b.Strip.prototype._renderCanvas=function(a){var b=a.context,f=this.worldTransform;a.roundPixels?b.setTransform(f.a,f.c,f.b,f.d,f.tx|0,f.ty|0):b.setTransform(f.a,f.c,f.b,f.d,f.tx,f.ty);a=this.verticies;var f=this.uvs,e=a.length/2;this.count++;for(var h=0;h<e-2;h++){var g=2*h,k=a[g],d=a[g+2],l=a[g+4],m=a[g+1],p=a[g+3],n=a[g+
5],q=(k+d+l)/3,r=(m+p+n)/3,C=k-q,u=m-r,A=Math.sqrt(C*C+u*u),k=q+C/A*(A+3),m=r+u/A*(A+3),C=d-q,u=p-r,A=Math.sqrt(C*C+u*u),d=q+C/A*(A+3),p=r+u/A*(A+3),C=l-q,u=n-r,A=Math.sqrt(C*C+u*u),l=q+C/A*(A+3),n=r+u/A*(A+3),q=f[g]*this.texture.width,r=f[g+2]*this.texture.width,C=f[g+4]*this.texture.width,u=f[g+1]*this.texture.height,A=f[g+3]*this.texture.height,g=f[g+5]*this.texture.height;b.save();b.beginPath();b.moveTo(k,m);b.lineTo(d,p);b.lineTo(l,n);b.closePath();b.clip();var B=q*A+u*C+r*g-A*C-u*r-q*g;b.transform((k*
A+u*l+d*g-A*l-u*d-k*g)/B,(m*A+u*n+p*g-A*n-u*p-m*g)/B,(q*d+k*C+r*l-d*C-k*r-q*l)/B,(q*p+m*C+r*n-p*C-m*r-q*n)/B,(q*A*l+u*d*C+k*r*g-k*A*C-u*r*l-q*d*g)/B,(q*A*n+u*p*C+m*r*g-m*A*C-u*r*n-q*p*g)/B);b.drawImage(this.texture.baseTexture.source,0,0);b.restore()}};b.Strip.prototype.onTextureUpdate=function(){this.updateFrame=!0};b.Rope=function(a,c){b.Strip.call(this,a);this.points=c;this.verticies=new b.Float32Array(4*c.length);this.uvs=new b.Float32Array(4*c.length);this.colors=new b.Float32Array(2*c.length);
this.indices=new b.Uint16Array(2*c.length);this.refresh()};b.Rope.prototype=Object.create(b.Strip.prototype);b.Rope.prototype.constructor=b.Rope;b.Rope.prototype.refresh=function(){var a=this.points;if(!(1>a.length)){var b=this.uvs,f=this.indices,e=this.colors;this.count-=.2;b[0]=0;b[1]=0;b[2]=0;b[3]=1;e[0]=1;e[1]=1;f[0]=0;f[1]=1;for(var a=a.length,h,g,k=1;k<a;k++)h=4*k,g=k/(a-1),b[h]=g,b[h+1]=0,b[h+2]=g,b[h+3]=1,h=2*k,e[h]=1,e[h+1]=1,h=2*k,f[h]=h,f[h+1]=h+1}};b.Rope.prototype.updateTransform=function(){var a=
this.points;if(!(1>a.length)){var c=a[0],f,e=f=0;this.count-=.2;for(var h=this.verticies,g=a.length,k,d,l,m=0;m<g;m++)k=a[m],d=4*m,f=m<a.length-1?a[m+1]:k,e=-(f.x-c.x),f=f.y-c.y,c=Math.sqrt(f*f+e*e),l=this.texture.height/2,f/=c,e/=c,f*=l,e*=l,h[d]=k.x+f,h[d+1]=k.y+e,h[d+2]=k.x-f,h[d+3]=k.y-e,c=k;b.DisplayObjectContainer.prototype.updateTransform.call(this)}};b.Rope.prototype.setTexture=function(a){this.texture=a};b.TilingSprite=function(a,c,f){b.Sprite.call(this,a);this._width=c||100;this._height=
f||100;this.tileScale=new b.Point(1,1);this.tileScaleOffset=new b.Point(1,1);this.tilePosition=new b.Point(0,0);this.renderable=!0;this.tint=16777215;this.blendMode=b.blendModes.NORMAL};b.TilingSprite.prototype=Object.create(b.Sprite.prototype);b.TilingSprite.prototype.constructor=b.TilingSprite;Object.defineProperty(b.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(a){this._width=a}});Object.defineProperty(b.TilingSprite.prototype,"height",{get:function(){return this._height},
set:function(a){this._height=a}});b.TilingSprite.prototype.setTexture=function(a){this.texture!==a&&(this.texture=a,this.refreshTexture=!0,this.cachedTint=16777215)};b.TilingSprite.prototype._renderWebGL=function(a){if(!1!==this.visible&&0!==this.alpha){var c,f;this._mask&&(a.spriteBatch.stop(),a.maskManager.pushMask(this.mask,a),a.spriteBatch.start());this._filters&&(a.spriteBatch.flush(),a.filterManager.pushFilter(this._filterBlock));!this.tilingTexture||this.refreshTexture?(this.generateTilingTexture(!0),
this.tilingTexture&&this.tilingTexture.needsUpdate&&(b.updateWebGLTexture(this.tilingTexture.baseTexture,a.gl),this.tilingTexture.needsUpdate=!1)):a.spriteBatch.renderTilingSprite(this);c=0;for(f=this.children.length;c<f;c++)this.children[c]._renderWebGL(a);a.spriteBatch.stop();this._filters&&a.filterManager.popFilter();this._mask&&a.maskManager.popMask(a);a.spriteBatch.start()}};b.TilingSprite.prototype._renderCanvas=function(a){if(!1!==this.visible&&0!==this.alpha){var c=a.context;this._mask&&a.maskManager.pushMask(this._mask,
c);c.globalAlpha=this.worldAlpha;var f=this.worldTransform;c.setTransform(f.a,f.c,f.b,f.d,f.tx,f.ty);if(!this.__tilePattern||this.refreshTexture)if(this.generateTilingTexture(!1),this.tilingTexture)this.__tilePattern=c.createPattern(this.tilingTexture.baseTexture.source,"repeat");else return;this.blendMode!==a.currentBlendMode&&(a.currentBlendMode=this.blendMode,c.globalCompositeOperation=b.blendModesCanvas[a.currentBlendMode]);var f=this.tilePosition,e=this.tileScale;f.x%=this.tilingTexture.baseTexture.width;
f.y%=this.tilingTexture.baseTexture.height;c.scale(e.x,e.y);c.translate(f.x,f.y);c.fillStyle=this.__tilePattern;c.fillRect(-f.x+this.anchor.x*-this._width,-f.y+this.anchor.y*-this._height,this._width/e.x,this._height/e.y);c.scale(1/e.x,1/e.y);c.translate(-f.x,-f.y);this._mask&&a.maskManager.popMask(a.context);c=0;for(f=this.children.length;c<f;c++)this.children[c]._renderCanvas(a)}};b.TilingSprite.prototype.getBounds=function(){var a=this._width,b=this._height,f=a*(1-this.anchor.x),e=a*-this.anchor.x,
h=b*(1-this.anchor.y),g=b*-this.anchor.y,b=this.worldTransform,k=b.a,d=b.c,l=b.b,m=b.d,p=b.tx,n=b.ty,b=k*e+l*g+p,a=m*g+d*e+n,q=k*f+l*g+p,g=m*g+d*f+n,r=k*f+l*h+p,f=m*h+d*f+n,k=k*e+l*h+p,e=m*h+d*e+n,d=h=-Infinity,l=m=Infinity,m=b<m?b:m,m=q<m?q:m,m=r<m?r:m,m=k<m?k:m,l=a<l?a:l,l=g<l?g:l,l=f<l?f:l,l=e<l?e:l,h=b>h?b:h,h=q>h?q:h,h=r>h?r:h,d=a>d?a:d,d=g>d?g:d,d=f>d?f:d,b=this._bounds;b.x=m;b.width=(k>h?k:h)-m;b.y=l;b.height=(e>d?e:d)-l;return this._currentBounds=b};b.TilingSprite.prototype.onTextureUpdate=
function(){};b.TilingSprite.prototype.generateTilingTexture=function(a){if(this.texture.baseTexture.hasLoaded){var c=this.texture,f=c.frame,e,h,g=f.width!==c.baseTexture.width||f.height!==c.baseTexture.height,k=!1;if(a){if(e=b.getNextPowerOfTwo(f.width),h=b.getNextPowerOfTwo(f.height),f.width!==e||f.height!==h)k=!0}else g&&(e=f.width,h=f.height,k=!0);k?(this.tilingTexture&&this.tilingTexture.isTiling?(a=this.tilingTexture.canvasBuffer,a.resize(e,h),this.tilingTexture.baseTexture.width=e,this.tilingTexture.baseTexture.height=
h,this.tilingTexture.needsUpdate=!0):(a=new b.CanvasBuffer(e,h),this.tilingTexture=b.Texture.fromCanvas(a.canvas),this.tilingTexture.canvasBuffer=a,this.tilingTexture.isTiling=!0),a.context.drawImage(c.baseTexture.source,c.crop.x,c.crop.y,c.crop.width,c.crop.height,0,0,e,h),this.tileScaleOffset.x=f.width/e,this.tileScaleOffset.y=f.height/h):(this.tilingTexture&&this.tilingTexture.isTiling&&this.tilingTexture.destroy(!0),this.tileScaleOffset.x=1,this.tileScaleOffset.y=1,this.tilingTexture=c);this.refreshTexture=
!1;this.tilingTexture.baseTexture._powerOf2=!0}};var l={BoneData:function(a,b){this.name=a;this.parent=b}};l.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1};l.SlotData=function(a,b){this.name=a;this.boneData=b};l.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null};l.Bone=function(a,b){this.data=a;this.parent=b;this.setToSetupPose()};l.Bone.yDown=!1;l.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,
worldScaleY:1,updateWorldTransform:function(a,b){var f=this.parent;null!=f?(this.worldX=this.x*f.m00+this.y*f.m01+f.worldX,this.worldY=this.x*f.m10+this.y*f.m11+f.worldY,this.worldScaleX=f.worldScaleX*this.scaleX,this.worldScaleY=f.worldScaleY*this.scaleY,this.worldRotation=f.worldRotation+this.rotation):(this.worldX=this.x,this.worldY=this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotation);var e=this.worldRotation*Math.PI/180,f=Math.cos(e),e=Math.sin(e);
this.m00=f*this.worldScaleX;this.m10=e*this.worldScaleX;this.m01=-e*this.worldScaleY;this.m11=f*this.worldScaleY;a&&(this.m00=-this.m00,this.m01=-this.m01);b&&(this.m10=-this.m10,this.m11=-this.m11);l.Bone.yDown&&(this.m10=-this.m10,this.m11=-this.m11)},setToSetupPose:function(){var a=this.data;this.x=a.x;this.y=a.y;this.rotation=a.rotation;this.scaleX=a.scaleX;this.scaleY=a.scaleY}};l.Slot=function(a,b,f){this.data=a;this.skeleton=b;this.bone=f;this.setToSetupPose()};l.Slot.prototype={r:1,g:1,b:1,
a:1,_attachmentTime:0,attachment:null,setAttachment:function(a){this.attachment=a;this._attachmentTime=this.skeleton.time},setAttachmentTime:function(a){this._attachmentTime=this.skeleton.time-a},getAttachmentTime:function(){return this.skeleton.time-this._attachmentTime},setToSetupPose:function(){var a=this.data;this.r=a.r;this.g=a.g;this.b=a.b;this.a=a.a;for(var b=this.skeleton.data.slots,f=0,e=b.length;f<e;f++)if(b[f]==a){this.setAttachment(a.attachmentName?this.skeleton.getAttachmentBySlotIndex(f,
a.attachmentName):null);break}}};l.Skin=function(a){this.name=a;this.attachments={}};l.Skin.prototype={addAttachment:function(a,b,f){this.attachments[a+":"+b]=f},getAttachment:function(a,b){return this.attachments[a+":"+b]},_attachAll:function(a,b){for(var f in b.attachments){var e=f.indexOf(":"),h=parseInt(f.substring(0,e),10),g=f.substring(e+1),e=a.slots[h];e.attachment&&e.attachment.name==g&&(h=this.getAttachment(h,g))&&e.setAttachment(h)}}};l.Animation=function(a,b,f){this.name=a;this.timelines=
b;this.duration=f};l.Animation.prototype={apply:function(a,b,f){f&&this.duration&&(b%=this.duration);f=this.timelines;for(var e=0,h=f.length;e<h;e++)f[e].apply(a,b,1)},mix:function(a,b,f,e){f&&this.duration&&(b%=this.duration);f=this.timelines;for(var h=0,g=f.length;h<g;h++)f[h].apply(a,b,e)}};l.binarySearch=function(a,b,f){var e=0,h=Math.floor(a.length/f)-2;if(!h)return f;for(var g=h>>>1;;){a[(g+1)*f]<=b?e=g+1:h=g;if(e==h)return(e+1)*f;g=e+h>>>1}};l.linearSearch=function(a,b,f){for(var e=0,h=a.length-
f;e<=h;e+=f)if(a[e]>b)return e;return-1};l.Curves=function(a){this.curves=[];this.curves.length=6*(a-1)};l.Curves.prototype={setLinear:function(a){this.curves[6*a]=0},setStepped:function(a){this.curves[6*a]=-1},setCurve:function(a,b,f,e,h){var g=.1*.1,k=.1*g,d=3*.1,l=3*g,g=6*g,m=6*k,p=2*-b+e,n=2*-f+h;e=3*(b-e)+1;h=3*(f-h)+1;a*=6;var q=this.curves;q[a]=b*d+p*l+e*k;q[a+1]=f*d+n*l+h*k;q[a+2]=p*g+e*m;q[a+3]=n*g+h*m;q[a+4]=e*m;q[a+5]=h*m},getCurvePercent:function(a,b){b=0>b?0:1<b?1:b;var f=6*a,e=this.curves,
h=e[f];if(!h)return b;if(-1==h)return 0;for(var g=e[f+1],k=e[f+2],d=e[f+3],l=e[f+4],m=e[f+5],f=h,e=g,p=8;;){if(f>=b)return h=f-h,g=e-g,g+(e-g)*(b-h)/(f-h);if(!p)break;p--;h+=k;g+=d;k+=l;d+=m;f+=h;e+=g}return e+(1-e)*(b-f)/(1-f)}};l.RotateTimeline=function(a){this.curves=new l.Curves(a);this.frames=[];this.frames.length=2*a};l.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(a,b,f){a*=2;this.frames[a]=b;this.frames[a+1]=f},apply:function(a,
b,f){var e=this.frames;if(!(b<e[0])){a=a.bones[this.boneIndex];if(b>=e[e.length-2])e=a.data.rotation+e[e.length-1]-a.rotation;else{var h=l.binarySearch(e,b,2),g=e[h-1],k=e[h];b=1-(b-k)/(e[h-2]-k);b=this.curves.getCurvePercent(h/2-1,b);for(e=e[h+1]-g;180<e;)e-=360;for(;-180>e;)e+=360;e=a.data.rotation+(g+e*b)-a.rotation}for(;180<e;)e-=360;for(;-180>e;)e+=360;a.rotation+=e*f}}};l.TranslateTimeline=function(a){this.curves=new l.Curves(a);this.frames=[];this.frames.length=3*a};l.TranslateTimeline.prototype=
{boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(a,b,f,e){a*=3;this.frames[a]=b;this.frames[a+1]=f;this.frames[a+2]=e},apply:function(a,b,f){var e=this.frames;if(!(b<e[0]))if(a=a.bones[this.boneIndex],b>=e[e.length-3])a.x+=(a.data.x+e[e.length-2]-a.x)*f,a.y+=(a.data.y+e[e.length-1]-a.y)*f;else{var h=l.binarySearch(e,b,3),g=e[h-2],k=e[h-1],d=e[h];b=1-(b-d)/(e[h+-3]-d);b=this.curves.getCurvePercent(h/3-1,b);a.x+=(a.data.x+g+(e[h+1]-g)*b-a.x)*f;a.y+=(a.data.y+k+(e[h+
2]-k)*b-a.y)*f}}};l.ScaleTimeline=function(a){this.curves=new l.Curves(a);this.frames=[];this.frames.length=3*a};l.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(a,b,f,e){a*=3;this.frames[a]=b;this.frames[a+1]=f;this.frames[a+2]=e},apply:function(a,b,f){var e=this.frames;if(!(b<e[0]))if(a=a.bones[this.boneIndex],b>=e[e.length-3])a.scaleX+=(a.data.scaleX-1+e[e.length-2]-a.scaleX)*f,a.scaleY+=(a.data.scaleY-1+e[e.length-1]-a.scaleY)*f;else{var h=
l.binarySearch(e,b,3),g=e[h-2],k=e[h-1],d=e[h];b=1-(b-d)/(e[h+-3]-d);b=this.curves.getCurvePercent(h/3-1,b);a.scaleX+=(a.data.scaleX-1+g+(e[h+1]-g)*b-a.scaleX)*f;a.scaleY+=(a.data.scaleY-1+k+(e[h+2]-k)*b-a.scaleY)*f}}};l.ColorTimeline=function(a){this.curves=new l.Curves(a);this.frames=[];this.frames.length=5*a};l.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(a,b,f,e,h,g){a*=5;this.frames[a]=b;this.frames[a+1]=f;this.frames[a+2]=e;this.frames[a+
3]=h;this.frames[a+4]=g},apply:function(a,b,f){var e=this.frames;if(!(b<e[0]))if(a=a.slots[this.slotIndex],b>=e[e.length-5])f=e.length-1,a.r=e[f-3],a.g=e[f-2],a.b=e[f-1],a.a=e[f];else{var h=l.binarySearch(e,b,5),g=e[h-4],k=e[h-3],d=e[h-2],m=e[h-1],p=e[h];b=1-(b-p)/(e[h-5]-p);b=this.curves.getCurvePercent(h/5-1,b);g+=(e[h+1]-g)*b;k+=(e[h+2]-k)*b;d+=(e[h+3]-d)*b;e=m+(e[h+4]-m)*b;1>f?(a.r+=(g-a.r)*f,a.g+=(k-a.g)*f,a.b+=(d-a.b)*f,a.a+=(e-a.a)*f):(a.r=g,a.g=k,a.b=d,a.a=e)}}};l.AttachmentTimeline=function(a){this.curves=
new l.Curves(a);this.frames=[];this.frames.length=a;this.attachmentNames=[];this.attachmentNames.length=a};l.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(a,b,f){this.frames[a]=b;this.attachmentNames[a]=f},apply:function(a,b,f){f=this.frames;b<f[0]||(b=b>=f[f.length-1]?f.length-1:l.binarySearch(f,b,1)-1,b=this.attachmentNames[b],a.slots[this.slotIndex].setAttachment(b?a.getAttachmentBySlotIndex(this.slotIndex,b):null))}};l.SkeletonData=
function(){this.bones=[];this.slots=[];this.skins=[];this.animations=[]};l.SkeletonData.prototype={defaultSkin:null,findBone:function(a){for(var b=this.bones,f=0,e=b.length;f<e;f++)if(b[f].name==a)return b[f];return null},findBoneIndex:function(a){for(var b=this.bones,f=0,e=b.length;f<e;f++)if(b[f].name==a)return f;return-1},findSlot:function(a){for(var b=this.slots,f=0,e=b.length;f<e;f++)if(b[f].name==a)return slot[f];return null},findSlotIndex:function(a){for(var b=this.slots,f=0,e=b.length;f<e;f++)if(b[f].name==
a)return f;return-1},findSkin:function(a){for(var b=this.skins,f=0,e=b.length;f<e;f++)if(b[f].name==a)return b[f];return null},findAnimation:function(a){for(var b=this.animations,f=0,e=b.length;f<e;f++)if(b[f].name==a)return b[f];return null}};l.Skeleton=function(a){this.data=a;this.bones=[];for(var b=0,f=a.bones.length;b<f;b++){var e=a.bones[b],h=e.parent?this.bones[a.bones.indexOf(e.parent)]:null;this.bones.push(new l.Bone(e,h))}this.slots=[];this.drawOrder=[];b=0;for(f=a.slots.length;b<f;b++)e=
a.slots[b],h=this.bones[a.bones.indexOf(e.boneData)],e=new l.Slot(e,this,h),this.slots.push(e),this.drawOrder.push(e)};l.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateWorldTransform:function(){for(var a=this.flipX,b=this.flipY,f=this.bones,e=0,h=f.length;e<h;e++)f[e].updateWorldTransform(a,b)},setToSetupPose:function(){this.setBonesToSetupPose();this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var a=this.bones,b=0,f=a.length;b<f;b++)a[b].setToSetupPose()},
setSlotsToSetupPose:function(){for(var a=this.slots,b=0,f=a.length;b<f;b++)a[b].setToSetupPose(b)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(a){for(var b=this.bones,f=0,e=b.length;f<e;f++)if(b[f].data.name==a)return b[f];return null},findBoneIndex:function(a){for(var b=this.bones,f=0,e=b.length;f<e;f++)if(b[f].data.name==a)return f;return-1},findSlot:function(a){for(var b=this.slots,f=0,e=b.length;f<e;f++)if(b[f].data.name==a)return b[f];return null},findSlotIndex:function(a){for(var b=
this.slots,f=0,e=b.length;f<e;f++)if(b[f].data.name==a)return f;return-1},setSkinByName:function(a){var b=this.data.findSkin(a);if(!b)throw"Skin not found: "+a;this.setSkin(b)},setSkin:function(a){this.skin&&a&&a._attachAll(this,this.skin);this.skin=a},getAttachmentBySlotName:function(a,b){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(a),b)},getAttachmentBySlotIndex:function(a,b){if(this.skin){var f=this.skin.getAttachment(a,b);if(f)return f}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(a,
b):null},setAttachment:function(a,b){for(var f=this.slots,e=0,h=f.size;e<h;e++){var g=f[e];if(g.data.name==a){f=null;if(b&&(f=this.getAttachment(e,b),null==f))throw"Attachment not found: "+b+", for slot: "+a;g.setAttachment(f);return}}throw"Slot not found: "+a;},update:function(a){time+=a}};l.AttachmentType={region:0};l.RegionAttachment=function(){this.offset=[];this.offset.length=8;this.uvs=[];this.uvs.length=8};l.RegionAttachment.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,
rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(a,b,f,e,h){var g=this.uvs;h?(g[2]=a,g[3]=e,g[4]=a,g[5]=b,g[6]=f,g[7]=b,g[0]=f,g[1]=e):(g[0]=a,g[1]=e,g[2]=a,g[3]=b,g[4]=f,g[5]=b,g[6]=f,g[7]=e)},updateOffset:function(){var a=this.width/this.regionOriginalWidth*this.scaleX,b=this.height/this.regionOriginalHeight*this.scaleY,f=-this.width/2*this.scaleX+this.regionOffsetX*a,e=-this.height/2*this.scaleY+this.regionOffsetY*
b,h=f+this.regionWidth*a,a=e+this.regionHeight*b,b=this.rotation*Math.PI/180,g=Math.cos(b),k=Math.sin(b),b=f*g+this.x,f=f*k,d=e*g+this.y,e=e*k,l=h*g+this.x,h=h*k,g=a*g+this.y,a=a*k,k=this.offset;k[0]=b-e;k[1]=d+f;k[2]=b-a;k[3]=g+f;k[4]=l-a;k[5]=g+h;k[6]=l-e;k[7]=d+h},computeVertices:function(a,b,f,e){a+=f.worldX;b+=f.worldY;var h=f.m00,g=f.m01,k=f.m10;f=f.m11;var d=this.offset;e[0]=d[0]*h+d[1]*g+a;e[1]=d[0]*k+d[1]*f+b;e[2]=d[2]*h+d[3]*g+a;e[3]=d[2]*k+d[3]*f+b;e[4]=d[4]*h+d[5]*g+a;e[5]=d[4]*k+d[5]*
f+b;e[6]=d[6]*h+d[7]*g+a;e[7]=d[6]*k+d[7]*f+b}};l.AnimationStateData=function(a){this.skeletonData=a;this.animationToMixTime={}};l.AnimationStateData.prototype={defaultMix:0,setMixByName:function(a,b,f){var e=this.skeletonData.findAnimation(a);if(!e)throw"Animation not found: "+a;a=this.skeletonData.findAnimation(b);if(!a)throw"Animation not found: "+b;this.setMix(e,a,f)},setMix:function(a,b,f){this.animationToMixTime[a.name+":"+b.name]=f},getMix:function(a,b){var f=this.animationToMixTime[a.name+
":"+b.name];return f?f:this.defaultMix}};l.AnimationState=function(a){this.data=a;this.queue=[]};l.AnimationState.prototype={animationSpeed:1,current:null,previous:null,currentTime:0,previousTime:0,currentLoop:!1,previousLoop:!1,mixTime:0,mixDuration:0,update:function(a){this.currentTime+=a*this.animationSpeed;this.previousTime+=a;this.mixTime+=a;0<this.queue.length&&(a=this.queue[0],this.currentTime>=a.delay&&(this._setAnimation(a.animation,a.loop),this.queue.shift()))},apply:function(a){if(this.current)if(this.previous){this.previous.apply(a,
this.previousTime,this.previousLoop);var b=this.mixTime/this.mixDuration;1<=b&&(b=1,this.previous=null);this.current.mix(a,this.currentTime,this.currentLoop,b)}else this.current.apply(a,this.currentTime,this.currentLoop)},clearAnimation:function(){this.current=this.previous=null;this.queue.length=0},_setAnimation:function(a,b){this.previous=null;a&&this.current&&(this.mixDuration=this.data.getMix(this.current,a),0<this.mixDuration&&(this.mixTime=0,this.previous=this.current,this.previousTime=this.currentTime,
this.previousLoop=this.currentLoop));this.current=a;this.currentLoop=b;this.currentTime=0},setAnimationByName:function(a,b){var f=this.data.skeletonData.findAnimation(a);if(!f)throw"Animation not found: "+a;this.setAnimation(f,b)},setAnimation:function(a,b){this.queue.length=0;this._setAnimation(a,b)},addAnimationByName:function(a,b,f){var e=this.data.skeletonData.findAnimation(a);if(!e)throw"Animation not found: "+a;this.addAnimation(e,b,f)},addAnimation:function(a,b,f){var e={};e.animation=a;e.loop=
b;if(!f||0>=f)b=this.queue.length?this.queue[this.queue.length-1].animation:this.current,f=null!=b?b.duration-this.data.getMix(b,a)+(f||0):0;e.delay=f;this.queue.push(e)},isComplete:function(){return!this.current||this.currentTime>=this.current.duration}};l.SkeletonJson=function(a){this.attachmentLoader=a};l.SkeletonJson.prototype={scale:1,readSkeletonData:function(a){for(var b=new l.SkeletonData,f,e=a.bones,h=0,g=e.length;h<g;h++){var k=e[h];f=null;if(k.parent&&(f=b.findBone(k.parent),!f))throw"Parent bone not found: "+
k.parent;f=new l.BoneData(k.name,f);f.length=(k.length||0)*this.scale;f.x=(k.x||0)*this.scale;f.y=(k.y||0)*this.scale;f.rotation=k.rotation||0;f.scaleX=k.scaleX||1;f.scaleY=k.scaleY||1;b.bones.push(f)}e=a.slots;h=0;for(g=e.length;h<g;h++){k=e[h];f=b.findBone(k.bone);if(!f)throw"Slot bone not found: "+k.bone;f=new l.SlotData(k.name,f);var d=k.color;d&&(f.r=l.SkeletonJson.toColor(d,0),f.g=l.SkeletonJson.toColor(d,1),f.b=l.SkeletonJson.toColor(d,2),f.a=l.SkeletonJson.toColor(d,3));f.attachmentName=k.attachment;
b.slots.push(f)}var h=a.skins,m;for(m in h)if(h.hasOwnProperty(m)){g=h[m];f=new l.Skin(m);for(var p in g)if(g.hasOwnProperty(p)){var e=b.findSlotIndex(p),k=g[p],n;for(n in k)k.hasOwnProperty(n)&&(d=this.readAttachment(f,n,k[n]),null!=d&&f.addAttachment(e,n,d))}b.skins.push(f);"default"==f.name&&(b.defaultSkin=f)}a=a.animations;for(var q in a)a.hasOwnProperty(q)&&this.readAnimation(q,a[q],b);return b},readAttachment:function(a,b,f){b=f.name||b;a=l.AttachmentType[f.type||"region"];if(a==l.AttachmentType.region)return a=
new l.RegionAttachment,a.x=(f.x||0)*this.scale,a.y=(f.y||0)*this.scale,a.scaleX=f.scaleX||1,a.scaleY=f.scaleY||1,a.rotation=f.rotation||0,a.width=(f.width||32)*this.scale,a.height=(f.height||32)*this.scale,a.updateOffset(),a.rendererObject={},a.rendererObject.name=b,a.rendererObject.scale={},a.rendererObject.scale.x=a.scaleX,a.rendererObject.scale.y=a.scaleY,a.rendererObject.rotation=-a.rotation*Math.PI/180,a;throw"Unknown attachment type: "+a;},readAnimation:function(a,b,f){var e=[],h=0,g,k,d,m,
p,n,q,r=b.bones,x;for(x in r)if(r.hasOwnProperty(x)){var C=f.findBoneIndex(x);if(-1==C)throw"Bone not found: "+x;var u=r[x];for(d in u)if(u.hasOwnProperty(d))if(p=u[d],"rotate"==d){k=new l.RotateTimeline(p.length);k.boneIndex=C;n=g=0;for(q=p.length;n<q;n++)m=p[n],k.setFrame(g,m.time,m.angle),l.SkeletonJson.readCurve(k,g,m),g++;e.push(k);h=Math.max(h,k.frames[2*k.getFrameCount()-2])}else if("translate"==d||"scale"==d){var A=1;"scale"==d?k=new l.ScaleTimeline(p.length):(k=new l.TranslateTimeline(p.length),
A=this.scale);k.boneIndex=C;n=g=0;for(q=p.length;n<q;n++)m=p[n],k.setFrame(g,m.time,(m.x||0)*A,(m.y||0)*A),l.SkeletonJson.readCurve(k,g,m),g++;e.push(k);h=Math.max(h,k.frames[3*k.getFrameCount()-3])}else throw"Invalid timeline type for a bone: "+d+" ("+x+")";}b=b.slots;for(var B in b)if(b.hasOwnProperty(B))for(d in r=b[B],x=f.findSlotIndex(B),r)if(r.hasOwnProperty(d))if(p=r[d],"color"==d){k=new l.ColorTimeline(p.length);k.slotIndex=x;n=g=0;for(q=p.length;n<q;n++){m=p[n];var y=m.color,C=l.SkeletonJson.toColor(y,
0),u=l.SkeletonJson.toColor(y,1),A=l.SkeletonJson.toColor(y,2),y=l.SkeletonJson.toColor(y,3);k.setFrame(g,m.time,C,u,A,y);l.SkeletonJson.readCurve(k,g,m);g++}e.push(k);h=Math.max(h,k.frames[5*k.getFrameCount()-5])}else if("attachment"==d){k=new l.AttachmentTimeline(p.length);k.slotIndex=x;n=g=0;for(q=p.length;n<q;n++)m=p[n],k.setFrame(g++,m.time,m.name);e.push(k);h=Math.max(h,k.frames[k.getFrameCount()-1])}else throw"Invalid timeline type for a slot: "+d+" ("+B+")";f.animations.push(new l.Animation(a,
e,h))}};l.SkeletonJson.readCurve=function(a,b,f){(f=f.curve)&&("stepped"==f?a.curves.setStepped(b):f instanceof Array&&a.curves.setCurve(b,f[0],f[1],f[2],f[3]))};l.SkeletonJson.toColor=function(a,b){if(8!=a.length)throw"Color hexidecimal length must be 8, recieved: "+a;return parseInt(a.substr(2*b,2),16)/255};l.Atlas=function(a,b){this.textureLoader=b;this.pages=[];this.regions=[];var f=new l.AtlasReader(a),e=[];e.length=4;for(var h=null;;){var g=f.readLine();if(null==g)break;g=f.trim(g);if(g.length)if(h){var k=
new l.AtlasRegion;k.name=g;k.page=h;k.rotate="true"==f.readValue();f.readTuple(e);var g=parseInt(e[0],10),d=parseInt(e[1],10);f.readTuple(e);var m=parseInt(e[0],10),p=parseInt(e[1],10);k.u=g/h.width;k.v=d/h.height;k.rotate?(k.u2=(g+p)/h.width,k.v2=(d+m)/h.height):(k.u2=(g+m)/h.width,k.v2=(d+p)/h.height);k.x=g;k.y=d;k.width=Math.abs(m);k.height=Math.abs(p);4==f.readTuple(e)&&(k.splits=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)],4==f.readTuple(e)&&(k.pads=[parseInt(e[0],
10),parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)],f.readTuple(e)));k.originalWidth=parseInt(e[0],10);k.originalHeight=parseInt(e[1],10);f.readTuple(e);k.offsetX=parseInt(e[0],10);k.offsetY=parseInt(e[1],10);k.index=parseInt(f.readValue(),10);this.regions.push(k)}else h=new l.AtlasPage,h.name=g,h.format=l.Atlas.Format[f.readValue()],f.readTuple(e),h.minFilter=l.Atlas.TextureFilter[e[0]],h.magFilter=l.Atlas.TextureFilter[e[1]],k=f.readValue(),h.uWrap=l.Atlas.TextureWrap.clampToEdge,h.vWrap=
l.Atlas.TextureWrap.clampToEdge,"x"==k?h.uWrap=l.Atlas.TextureWrap.repeat:"y"==k?h.vWrap=l.Atlas.TextureWrap.repeat:"xy"==k&&(h.uWrap=h.vWrap=l.Atlas.TextureWrap.repeat),b.load(h,g),this.pages.push(h);else h=null}};l.Atlas.prototype={findRegion:function(a){for(var b=this.regions,f=0,e=b.length;f<e;f++)if(b[f].name==a)return b[f];return null},dispose:function(){for(var a=this.pages,b=0,f=a.length;b<f;b++)this.textureLoader.unload(a[b].rendererObject)},updateUVs:function(a){for(var b=this.regions,f=
0,e=b.length;f<e;f++){var h=b[f];h.page==a&&(h.u=h.x/a.width,h.v=h.y/a.height,h.rotate?(h.u2=(h.x+h.height)/a.width,h.v2=(h.y+h.width)/a.height):(h.u2=(h.x+h.width)/a.width,h.v2=(h.y+h.height)/a.height))}}};l.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6};l.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6};l.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2};
l.AtlasPage=function(){};l.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0};l.AtlasRegion=function(){};l.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null};l.AtlasReader=function(a){this.lines=a.split(/\r\n|\r|\n/)};l.AtlasReader.prototype={index:0,trim:function(a){return a.replace(/^\s+|\s+$/g,
"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var a=this.readLine(),b=a.indexOf(":");if(-1==b)throw"Invalid line: "+a;return this.trim(a.substring(b+1))},readTuple:function(a){var b=this.readLine(),f=b.indexOf(":");if(-1==f)throw"Invalid line: "+b;for(var e=0,f=f+1;3>e;e++){var h=b.indexOf(",",f);if(-1==h){if(!e)throw"Invalid line: "+b;break}a[e]=this.trim(b.substr(f,h-f));f=h+1}a[e]=this.trim(b.substring(f));return e+1}};l.AtlasAttachmentLoader=
function(a){this.atlas=a};l.AtlasAttachmentLoader.prototype={newAttachment:function(a,b,f){switch(b){case l.AttachmentType.region:a=this.atlas.findRegion(f);if(!a)throw"Region not found in atlas: "+f+" ("+b+")";b=new l.RegionAttachment(f);b.rendererObject=a;b.setUVs(a.u,a.v,a.u2,a.v2,a.rotate);b.regionOffsetX=a.offsetX;b.regionOffsetY=a.offsetY;b.regionWidth=a.width;b.regionHeight=a.height;b.regionOriginalWidth=a.originalWidth;b.regionOriginalHeight=a.originalHeight;return b}throw"Unknown attachment type: "+
b;}};l.Bone.yDown=!0;b.AnimCache={};b.Spine=function(a){b.DisplayObjectContainer.call(this);this.spineData=b.AnimCache[a];if(!this.spineData)throw Error("Spine data must be preloaded using PIXI.SpineLoader or PIXI.AssetLoader: "+a);this.skeleton=new l.Skeleton(this.spineData);this.skeleton.updateWorldTransform();this.stateData=new l.AnimationStateData(this.spineData);this.state=new l.AnimationState(this.stateData);this.slotContainers=[];a=0;for(var c=this.skeleton.drawOrder.length;a<c;a++){var f=
this.skeleton.drawOrder[a],e=f.attachment,h=new b.DisplayObjectContainer;this.slotContainers.push(h);this.addChild(h);if(e instanceof l.RegionAttachment){var g=e.rendererObject.name,e=this.createSprite(f,e.rendererObject);f.currentSprite=e;f.currentSpriteName=g;h.addChild(e)}}};b.Spine.prototype=Object.create(b.DisplayObjectContainer.prototype);b.Spine.prototype.constructor=b.Spine;b.Spine.prototype.updateTransform=function(){this.lastTime=this.lastTime||Date.now();var a=.001*(Date.now()-this.lastTime);
this.lastTime=Date.now();this.state.update(a);this.state.apply(this.skeleton);this.skeleton.updateWorldTransform();for(var a=this.skeleton.drawOrder,c=0,f=a.length;c<f;c++){var e=a[c],h=e.attachment,g=this.slotContainers[c];if(h instanceof l.RegionAttachment){if(h.rendererObject&&(!e.currentSpriteName||e.currentSpriteName!=h.name)){var k=h.rendererObject.name;void 0!==e.currentSprite&&(e.currentSprite.visible=!1);e.sprites=e.sprites||{};if(void 0!==e.sprites[k])e.sprites[k].visible=!0;else{var d=
this.createSprite(e,h.rendererObject);g.addChild(d)}e.currentSprite=e.sprites[k];e.currentSpriteName=k}g.visible=!0;k=e.bone;g.position.x=k.worldX+h.x*k.m00+h.y*k.m01;g.position.y=k.worldY+h.x*k.m10+h.y*k.m11;g.scale.x=k.worldScaleX;g.scale.y=k.worldScaleY;g.rotation=-(e.bone.worldRotation*Math.PI/180);g.alpha=e.a;e.currentSprite.tint=b.rgb2hex([e.r,e.g,e.b])}else g.visible=!1}b.DisplayObjectContainer.prototype.updateTransform.call(this)};b.Spine.prototype.createSprite=function(a,c){var f=new b.Sprite(b.Texture.fromFrame(b.TextureCache[c.name]?
c.name:c.name+".png"));f.scale=c.scale;f.rotation=c.rotation;f.anchor.x=f.anchor.y=.5;a.sprites=a.sprites||{};return a.sprites[c.name]=f};b.BaseTextureCache={};b.texturesToUpdate=[];b.texturesToDestroy=[];b.BaseTextureCacheIdGenerator=0;b.BaseTexture=function(a,c){b.EventTarget.call(this);this.height=this.width=100;this.scaleMode=c||b.scaleModes.DEFAULT;this.hasLoaded=!1;this.source=a;this.id=b.BaseTextureCacheIdGenerator++;this.premultipliedAlpha=!0;this._glTextures=[];this._dirty=[];if(a){if((this.source.complete||
this.source.getContext)&&this.source.width&&this.source.height)this.hasLoaded=!0,this.width=this.source.width,this.height=this.source.height,b.texturesToUpdate.push(this);else{var f=this;this.source.onload=function(){f.hasLoaded=!0;f.width=f.source.width;f.height=f.source.height;for(var a=0;a<f._glTextures.length;a++)f._dirty[a]=!0;f.dispatchEvent({type:"loaded",content:f})};this.source.onerror=function(){f.dispatchEvent({type:"error",content:f})}}this.imageUrl=null;this._powerOf2=!1}};b.BaseTexture.prototype.constructor=
b.BaseTexture;b.BaseTexture.prototype.destroy=function(){this.imageUrl?(delete b.BaseTextureCache[this.imageUrl],delete b.TextureCache[this.imageUrl],this.imageUrl=null,this.source.src=null):this.source&&this.source._pixiId&&delete b.BaseTextureCache[this.source._pixiId];this.source=null;b.texturesToDestroy.push(this)};b.BaseTexture.prototype.updateSourceImage=function(a){this.hasLoaded=!1;this.source.src=null;this.source.src=a};b.BaseTexture.fromImage=function(a,c,f){var e=b.BaseTextureCache[a];
void 0===c&&-1===a.indexOf("data:")&&(c=!0);e||(e=new Image,c&&(e.crossOrigin=""),e.src=a,e=new b.BaseTexture(e,f),e.imageUrl=a,b.BaseTextureCache[a]=e);return e};b.BaseTexture.fromCanvas=function(a,c){a._pixiId||(a._pixiId="canvas_"+b.TextureCacheIdGenerator++);var f=b.BaseTextureCache[a._pixiId];f||(f=new b.BaseTexture(a,c),b.BaseTextureCache[a._pixiId]=f);return f};b.TextureCache={};b.FrameCache={};b.TextureCacheIdGenerator=0;b.Texture=function(a,c){b.EventTarget.call(this);this.noFrame=!1;c||
(this.noFrame=!0,c=new b.Rectangle(0,0,1,1));a instanceof b.Texture&&(a=a.baseTexture);this.baseTexture=a;this.frame=c;this.trim=null;this.valid=!1;this.scope=this;this._uvs=null;this.height=this.width=0;this.crop=new b.Rectangle(0,0,1,1);if(a.hasLoaded)this.noFrame&&(c=new b.Rectangle(0,0,a.width,a.height)),this.setFrame(c);else{var f=this;a.addEventListener("loaded",function(){f.onBaseTextureLoaded()})}};b.Texture.prototype.constructor=b.Texture;b.Texture.prototype.onBaseTextureLoaded=function(){var a=
this.baseTexture;a.removeEventListener("loaded",this.onLoaded);this.noFrame&&(this.frame=new b.Rectangle(0,0,a.width,a.height));this.setFrame(this.frame);this.scope.dispatchEvent({type:"update",content:this})};b.Texture.prototype.destroy=function(a){a&&this.baseTexture.destroy();this.valid=!1};b.Texture.prototype.setFrame=function(a){this.noFrame=!1;this.frame=a;this.width=a.width;this.height=a.height;this.crop.x=a.x;this.crop.y=a.y;this.crop.width=a.width;this.crop.height=a.height;if(!this.trim&&
(a.x+a.width>this.baseTexture.width||a.y+a.height>this.baseTexture.height))throw Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=a&&a.width&&a.height&&this.baseTexture.source&&this.baseTexture.hasLoaded;this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height);this.valid&&b.Texture.frameUpdates.push(this)};b.Texture.prototype._updateWebGLuvs=function(){this._uvs||(this._uvs=
new b.TextureUvs);var a=this.crop,c=this.baseTexture.width,f=this.baseTexture.height;this._uvs.x0=a.x/c;this._uvs.y0=a.y/f;this._uvs.x1=(a.x+a.width)/c;this._uvs.y1=a.y/f;this._uvs.x2=(a.x+a.width)/c;this._uvs.y2=(a.y+a.height)/f;this._uvs.x3=a.x/c;this._uvs.y3=(a.y+a.height)/f};b.Texture.fromImage=function(a,c,f){var e=b.TextureCache[a];e||(e=new b.Texture(b.BaseTexture.fromImage(a,c,f)),b.TextureCache[a]=e);return e};b.Texture.fromFrame=function(a){var c=b.TextureCache[a];if(!c)throw Error('The frameId "'+
a+'" does not exist in the texture cache ');return c};b.Texture.fromCanvas=function(a,c){var f=b.BaseTexture.fromCanvas(a,c);return new b.Texture(f)};b.Texture.addTextureToCache=function(a,c){b.TextureCache[c]=a};b.Texture.removeTextureFromCache=function(a){var c=b.TextureCache[a];delete b.TextureCache[a];delete b.BaseTextureCache[a];return c};b.Texture.frameUpdates=[];b.TextureUvs=function(){this.y3=this.x3=this.y2=this.x2=this.y1=this.x1=this.y0=this.x0=0};b.RenderTexture=function(a,c,f,e){b.EventTarget.call(this);
this.width=a||100;this.height=c||100;this.frame=new b.Rectangle(0,0,this.width,this.height);this.crop=new b.Rectangle(0,0,this.width,this.height);this.baseTexture=new b.BaseTexture;this.baseTexture.width=this.width;this.baseTexture.height=this.height;this.baseTexture._glTextures=[];this.baseTexture.scaleMode=e||b.scaleModes.DEFAULT;this.baseTexture.hasLoaded=!0;this.renderer=f||b.defaultRenderer;this.renderer.type===b.WEBGL_RENDERER?(a=this.renderer.gl,this.textureBuffer=new b.FilterTexture(a,this.width,
this.height,this.baseTexture.scaleMode),this.baseTexture._glTextures[a.id]=this.textureBuffer.texture,this.render=this.renderWebGL,this.projection=new b.Point(this.width/2,-this.height/2)):(this.render=this.renderCanvas,this.textureBuffer=new b.CanvasBuffer(this.width,this.height),this.baseTexture.source=this.textureBuffer.canvas);this.valid=!0;b.Texture.frameUpdates.push(this)};b.RenderTexture.prototype=Object.create(b.Texture.prototype);b.RenderTexture.prototype.constructor=b.RenderTexture;b.RenderTexture.prototype.resize=
function(a,c,f){if(a!==this.width||c!==this.height)this.width=this.frame.width=this.crop.width=a,this.height=this.frame.height=this.crop.height=c,f&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.renderer.type===b.WEBGL_RENDERER&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.textureBuffer.resize(this.width,this.height)};b.RenderTexture.prototype.clear=function(){this.renderer.type===b.WEBGL_RENDERER&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,
this.textureBuffer.frameBuffer);this.textureBuffer.clear()};b.RenderTexture.prototype.renderWebGL=function(a,c,f){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0);e.viewport(0,0,this.width,this.height);e.bindFramebuffer(e.FRAMEBUFFER,this.textureBuffer.frameBuffer);f&&this.textureBuffer.clear();f=a.children;e=a.worldTransform;a.worldTransform=b.RenderTexture.tempMatrix;a.worldTransform.d=-1;a.worldTransform.ty=-2*this.projection.y;c&&(a.worldTransform.tx=c.x,a.worldTransform.ty-=c.y);c=0;for(var h=
f.length;c<h;c++)f[c].updateTransform();b.WebGLRenderer.updateTextures();this.renderer.spriteBatch.dirty=!0;this.renderer.renderDisplayObject(a,this.projection,this.textureBuffer.frameBuffer);a.worldTransform=e;this.renderer.spriteBatch.dirty=!0};b.RenderTexture.prototype.renderCanvas=function(a,c,f){var e=a.children,h=a.worldTransform;a.worldTransform=b.RenderTexture.tempMatrix;c?(a.worldTransform.tx=c.x,a.worldTransform.ty=c.y):(a.worldTransform.tx=0,a.worldTransform.ty=0);c=0;for(var g=e.length;c<
g;c++)e[c].updateTransform();f&&this.textureBuffer.clear();f=this.textureBuffer.context;this.renderer.renderDisplayObject(a,f);f.setTransform(1,0,0,1,0,0);a.worldTransform=h};b.RenderTexture.tempMatrix=new b.Matrix;b.AssetLoader=function(a,c){b.EventTarget.call(this);this.assetURLs=a;this.crossorigin=c;this.loadersByType={jpg:b.ImageLoader,jpeg:b.ImageLoader,png:b.ImageLoader,gif:b.ImageLoader,webp:b.ImageLoader,json:b.JsonLoader,atlas:b.AtlasLoader,anim:b.SpineLoader,xml:b.BitmapFontLoader,fnt:b.BitmapFontLoader}};
b.AssetLoader.prototype.constructor=b.AssetLoader;b.AssetLoader.prototype._getDataType=function(a){if("data:"===a.slice(0,5).toLowerCase()){a=a.slice(5);var b=a.indexOf(",");return-1===b?null:(a=a.slice(0,b).split(";")[0])&&"text/plain"!==a.toLowerCase()?a.split("/").pop().toLowerCase():"txt"}return null};b.AssetLoader.prototype.load=function(){function a(a){b.onAssetLoaded(a.content)}var b=this;this.loadCount=this.assetURLs.length;for(var f=0;f<this.assetURLs.length;f++){var e=this.assetURLs[f],
h=this._getDataType(e);h||(h=e.split("?").shift().split(".").pop().toLowerCase());var g=this.loadersByType[h];if(!g)throw Error(h+" is an unsupported file type");e=new g(e,this.crossorigin);e.addEventListener("loaded",a);e.load()}};b.AssetLoader.prototype.onAssetLoaded=function(a){this.loadCount--;this.dispatchEvent({type:"onProgress",content:this,loader:a});if(this.onProgress)this.onProgress(a);if(!this.loadCount&&(this.dispatchEvent({type:"onComplete",content:this}),this.onComplete))this.onComplete()};
b.JsonLoader=function(a,c){b.EventTarget.call(this);this.url=a;this.crossorigin=c;this.baseUrl=a.replace(/[^\/]*$/,"");this.loaded=!1};b.JsonLoader.prototype.constructor=b.JsonLoader;b.JsonLoader.prototype.load=function(){var a=this;window.XDomainRequest&&a.crossorigin?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3E3,this.ajaxRequest.onerror=function(){a.onError()},this.ajaxRequest.ontimeout=function(){a.onError()},this.ajaxRequest.onprogress=function(){}):this.ajaxRequest=
window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");this.ajaxRequest.onload=function(){a.onJSONLoaded()};this.ajaxRequest.open("GET",this.url,!0);this.ajaxRequest.send()};b.JsonLoader.prototype.onJSONLoaded=function(){if(this.ajaxRequest.responseText)if(this.json=JSON.parse(this.ajaxRequest.responseText),this.json.frames){var a=this,c=new b.ImageLoader(this.baseUrl+this.json.meta.image,this.crossorigin),f=this.json.frames;this.texture=c.texture.baseTexture;
c.addEventListener("loaded",function(){a.onLoaded()});for(var e in f){var h=f[e].frame;if(h&&(b.TextureCache[e]=new b.Texture(this.texture,{x:h.x,y:h.y,width:h.w,height:h.h}),b.TextureCache[e].crop=new b.Rectangle(h.x,h.y,h.w,h.h),f[e].trimmed)){var h=f[e].sourceSize,g=f[e].spriteSourceSize;b.TextureCache[e].trim=new b.Rectangle(g.x,g.y,h.w,h.h)}}c.load()}else this.json.bones&&(c=(new l.SkeletonJson).readSkeletonData(this.json),b.AnimCache[this.url]=c),this.onLoaded();else this.onError()};b.JsonLoader.prototype.onLoaded=
function(){this.loaded=!0;this.dispatchEvent({type:"loaded",content:this})};b.JsonLoader.prototype.onError=function(){this.dispatchEvent({type:"error",content:this})};b.AtlasLoader=function(a,c){b.EventTarget.call(this);this.url=a;this.baseUrl=a.replace(/[^\/]*$/,"");this.crossorigin=c;this.loaded=!1};b.AtlasLoader.constructor=b.AtlasLoader;b.AtlasLoader.prototype.load=function(){this.ajaxRequest=new b.AjaxRequest;this.ajaxRequest.onreadystatechange=this.onAtlasLoaded.bind(this);this.ajaxRequest.open("GET",
this.url,!0);this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/json");this.ajaxRequest.send(null)};b.AtlasLoader.prototype.onAtlasLoaded=function(){if(4===this.ajaxRequest.readyState)if(200===this.ajaxRequest.status||-1===window.location.href.indexOf("http")){this.atlas={meta:{image:[]},frames:[]};for(var a=this.ajaxRequest.responseText.split(/\r?\n/),c=-3,f=0,e=null,h=!1,g=0,k=0,d=this.onLoaded.bind(this),g=0;g<a.length;g++)a[g]=a[g].replace(/^\s+|\s+$/g,""),""===
a[g]&&(h=g+1),0<a[g].length&&(h===g?(this.atlas.meta.image.push(a[g]),f=this.atlas.meta.image.length-1,this.atlas.frames.push({}),c=-3):0<c&&(1===c%7?(null!=e&&(this.atlas.frames[f][e.name]=e),e={name:a[g],frame:{}}):(k=a[g].split(" "),3===c%7?(e.frame.x=Number(k[1].replace(",","")),e.frame.y=Number(k[2])):4===c%7?(e.frame.w=Number(k[1].replace(",","")),e.frame.h=Number(k[2])):5===c%7&&(k={x:0,y:0,w:Number(k[1].replace(",","")),h:Number(k[2])},k.w>e.frame.w||k.h>e.frame.h?(e.trimmed=!0,e.realSize=
k):e.trimmed=!1))),c++);null!=e&&(this.atlas.frames[f][e.name]=e);if(0<this.atlas.meta.image.length){this.images=[];for(k=0;k<this.atlas.meta.image.length;k++)for(g in a=this.atlas.frames[k],this.images.push(new b.ImageLoader(this.baseUrl+this.atlas.meta.image[k],this.crossorigin)),a)if(c=a[g].frame)b.TextureCache[g]=new b.Texture(this.images[k].texture.baseTexture,{x:c.x,y:c.y,width:c.w,height:c.h}),a[g].trimmed&&(b.TextureCache[g].realSize=a[g].realSize,b.TextureCache[g].trim.x=0,b.TextureCache[g].trim.y=
0);for(k=this.currentImageId=0;k<this.images.length;k++)this.images[k].addEventListener("loaded",d);this.images[this.currentImageId].load()}else this.onLoaded()}else this.onError()};b.AtlasLoader.prototype.onLoaded=function(){this.images.length-1>this.currentImageId?(this.currentImageId++,this.images[this.currentImageId].load()):(this.loaded=!0,this.dispatchEvent({type:"loaded",content:this}))};b.AtlasLoader.prototype.onError=function(){this.dispatchEvent({type:"error",content:this})};b.SpriteSheetLoader=
function(a,c){b.EventTarget.call(this);this.url=a;this.crossorigin=c;this.baseUrl=a.replace(/[^\/]*$/,"");this.texture=null;this.frames={}};b.SpriteSheetLoader.prototype.constructor=b.SpriteSheetLoader;b.SpriteSheetLoader.prototype.load=function(){var a=this,c=new b.JsonLoader(this.url,this.crossorigin);c.addEventListener("loaded",function(b){a.json=b.content.json;a.onLoaded()});c.load()};b.SpriteSheetLoader.prototype.onLoaded=function(){this.dispatchEvent({type:"loaded",content:this})};b.ImageLoader=
function(a,c){b.EventTarget.call(this);this.texture=b.Texture.fromImage(a,c);this.frames=[]};b.ImageLoader.prototype.constructor=b.ImageLoader;b.ImageLoader.prototype.load=function(){if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var a=this;this.texture.baseTexture.addEventListener("loaded",function(){a.onLoaded()})}};b.ImageLoader.prototype.onLoaded=function(){this.dispatchEvent({type:"loaded",content:this})};b.ImageLoader.prototype.loadFramedSpriteSheet=function(a,c,f){this.frames=[];
for(var e=Math.floor(this.texture.width/a),h=Math.floor(this.texture.height/c),g=0,k=0;k<h;k++)for(var d=0;d<e;d++,g++){var l=new b.Texture(this.texture,{x:d*a,y:k*c,width:a,height:c});this.frames.push(l);f&&(b.TextureCache[f+"-"+g]=l)}if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var m=this;this.texture.baseTexture.addEventListener("loaded",function(){m.onLoaded()})}};b.BitmapFontLoader=function(a,c){b.EventTarget.call(this);this.url=a;this.crossorigin=c;this.baseUrl=a.replace(/[^\/]*$/,
"");this.texture=null};b.BitmapFontLoader.prototype.constructor=b.BitmapFontLoader;b.BitmapFontLoader.prototype.load=function(){this.ajaxRequest=new b.AjaxRequest;var a=this;this.ajaxRequest.onreadystatechange=function(){a.onXMLLoaded()};this.ajaxRequest.open("GET",this.url,!0);this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/xml");this.ajaxRequest.send(null)};b.BitmapFontLoader.prototype.onXMLLoaded=function(){if(4===this.ajaxRequest.readyState&&(200===this.ajaxRequest.status||
-1===window.location.protocol.indexOf("http"))){var a=this.ajaxRequest.responseXML;if(!a||/MSIE 9/i.test(navigator.userAgent)||navigator.isCocoonJS)if("function"===typeof window.DOMParser)a=(new DOMParser).parseFromString(this.ajaxRequest.responseText,"text/xml");else{var c=document.createElement("div");c.innerHTML=this.ajaxRequest.responseText;a=c}c=this.baseUrl+a.getElementsByTagName("page")[0].getAttribute("file");c=new b.ImageLoader(c,this.crossorigin);this.texture=c.texture.baseTexture;var f=
{},e=a.getElementsByTagName("info")[0],h=a.getElementsByTagName("common")[0];f.font=e.getAttribute("face");f.size=parseInt(e.getAttribute("size"),10);f.lineHeight=parseInt(h.getAttribute("lineHeight"),10);f.chars={};h=a.getElementsByTagName("char");for(e=0;e<h.length;e++){var g=parseInt(h[e].getAttribute("id"),10),k=new b.Rectangle(parseInt(h[e].getAttribute("x"),10),parseInt(h[e].getAttribute("y"),10),parseInt(h[e].getAttribute("width"),10),parseInt(h[e].getAttribute("height"),10));f.chars[g]={xOffset:parseInt(h[e].getAttribute("xoffset"),
10),yOffset:parseInt(h[e].getAttribute("yoffset"),10),xAdvance:parseInt(h[e].getAttribute("xadvance"),10),kerning:{},texture:b.TextureCache[g]=new b.Texture(this.texture,k)}}a=a.getElementsByTagName("kerning");for(e=0;e<a.length;e++)h=parseInt(a[e].getAttribute("first"),10),g=parseInt(a[e].getAttribute("second"),10),k=parseInt(a[e].getAttribute("amount"),10),f.chars[g].kerning[h]=k;b.BitmapText.fonts[f.font]=f;var d=this;c.addEventListener("loaded",function(){d.onLoaded()});c.load()}};b.BitmapFontLoader.prototype.onLoaded=
function(){this.dispatchEvent({type:"loaded",content:this})};b.SpineLoader=function(a,c){b.EventTarget.call(this);this.url=a;this.crossorigin=c;this.loaded=!1};b.SpineLoader.prototype.constructor=b.SpineLoader;b.SpineLoader.prototype.load=function(){var a=this,c=new b.JsonLoader(this.url,this.crossorigin);c.addEventListener("loaded",function(b){a.json=b.content.json;a.onLoaded()});c.load()};b.SpineLoader.prototype.onLoaded=function(){this.loaded=!0;this.dispatchEvent({type:"loaded",content:this})};
b.AbstractFilter=function(a,b){this.passes=[this];this.shaders=[];this.dirty=!0;this.padding=0;this.uniforms=b||{};this.fragmentSrc=a||[]};b.AlphaMaskFilter=function(a){b.AbstractFilter.call(this);this.passes=[this];a.baseTexture._powerOf2=!0;this.uniforms={mask:{type:"sampler2D",value:a},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}};a.baseTexture.hasLoaded?(this.uniforms.mask.value.x=a.width,this.uniforms.mask.value.y=a.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),
a.baseTexture.on("loaded",this.boundLoadedFunction));this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D mask;","uniform sampler2D uSampler;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   mapCords *= dimensions.xy / mapDimensions;",
"   vec4 original =  texture2D(uSampler, vTextureCoord);","   float maskAlpha =  texture2D(mask, mapCords).r;","   original *= maskAlpha;","   gl_FragColor =  original;","}"]};b.AlphaMaskFilter.prototype=Object.create(b.AbstractFilter.prototype);b.AlphaMaskFilter.prototype.constructor=b.AlphaMaskFilter;b.AlphaMaskFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.mask.value.width;this.uniforms.mapDimensions.value.y=this.uniforms.mask.value.height;this.uniforms.mask.value.baseTexture.off("loaded",
this.boundLoadedFunction)};Object.defineProperty(b.AlphaMaskFilter.prototype,"map",{get:function(){return this.uniforms.mask.value},set:function(a){this.uniforms.mask.value=a}});b.ColorMatrixFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}};this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform mat4 matrix;","uniform sampler2D uSampler;",
"void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;","}"]};b.ColorMatrixFilter.prototype=Object.create(b.AbstractFilter.prototype);b.ColorMatrixFilter.prototype.constructor=b.ColorMatrixFilter;Object.defineProperty(b.ColorMatrixFilter.prototype,"matrix",{get:function(){return this.uniforms.matrix.value},set:function(a){this.uniforms.matrix.value=a}});b.GrayFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={gray:{type:"1f",value:1}};this.fragmentSrc=
["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float gray;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);","}"]};b.GrayFilter.prototype=Object.create(b.AbstractFilter.prototype);b.GrayFilter.prototype.constructor=b.GrayFilter;Object.defineProperty(b.GrayFilter.prototype,
"gray",{get:function(){return this.uniforms.gray.value},set:function(a){this.uniforms.gray.value=a}});b.DisplacementFilter=function(a){b.AbstractFilter.call(this);this.passes=[this];a.baseTexture._powerOf2=!0;this.uniforms={displacementMap:{type:"sampler2D",value:a},scale:{type:"2f",value:{x:30,y:30}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}};a.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=a.width,this.uniforms.mapDimensions.value.y=
a.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),a.baseTexture.on("loaded",this.boundLoadedFunction));this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D displacementMap;","uniform sampler2D uSampler;","uniform vec2 scale;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;",
"   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   vec2 matSample = texture2D(displacementMap, mapCords).xy;","   matSample -= 0.5;","   matSample *= scale;","   matSample /= mapDimensions;","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);","   vec2 cord = vTextureCoord;","}"]};b.DisplacementFilter.prototype=Object.create(b.AbstractFilter.prototype);b.DisplacementFilter.prototype.constructor=
b.DisplacementFilter;b.DisplacementFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width;this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height;this.uniforms.displacementMap.value.baseTexture.off("loaded",this.boundLoadedFunction)};Object.defineProperty(b.DisplacementFilter.prototype,"map",{get:function(){return this.uniforms.displacementMap.value},set:function(a){this.uniforms.displacementMap.value=a}});Object.defineProperty(b.DisplacementFilter.prototype,
"scale",{get:function(){return this.uniforms.scale.value},set:function(a){this.uniforms.scale.value=a}});Object.defineProperty(b.DisplacementFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(a){this.uniforms.offset.value=a}});b.PixelateFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={invert:{type:"1f",value:0},dimensions:{type:"4fv",value:new Float32Array([1E4,100,10,10])},pixelSize:{type:"2f",value:{x:10,y:10}}};this.fragmentSrc=
["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 testDim;","uniform vec4 dimensions;","uniform vec2 pixelSize;","uniform sampler2D uSampler;","void main(void) {","   vec2 coord = vTextureCoord;","   vec2 size = dimensions.xy/pixelSize;","   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;","   gl_FragColor = texture2D(uSampler, color);","}"]};b.PixelateFilter.prototype=Object.create(b.AbstractFilter.prototype);b.PixelateFilter.prototype.constructor=
b.PixelateFilter;Object.defineProperty(b.PixelateFilter.prototype,"size",{get:function(){return this.uniforms.pixelSize.value},set:function(a){this.dirty=!0;this.uniforms.pixelSize.value=a}});b.BlurXFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={blur:{type:"1f",value:1/512}};this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);",
"   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;",
"   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;","   gl_FragColor = sum;","}"]};b.BlurXFilter.prototype=Object.create(b.AbstractFilter.prototype);b.BlurXFilter.prototype.constructor=b.BlurXFilter;Object.defineProperty(b.BlurXFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/
(1/7E3)},set:function(a){this.dirty=!0;this.uniforms.blur.value=1/7E3*a}});b.BlurYFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={blur:{type:"1f",value:1/512}};this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;",
"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;",
"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;","   gl_FragColor = sum;","}"]};b.BlurYFilter.prototype=Object.create(b.AbstractFilter.prototype);b.BlurYFilter.prototype.constructor=b.BlurYFilter;Object.defineProperty(b.BlurYFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7E3)},set:function(a){this.uniforms.blur.value=1/7E3*a}});b.BlurFilter=function(){this.blurXFilter=new b.BlurXFilter;this.blurYFilter=new b.BlurYFilter;this.passes=
[this.blurXFilter,this.blurYFilter]};Object.defineProperty(b.BlurFilter.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a}});Object.defineProperty(b.BlurFilter.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a}});Object.defineProperty(b.BlurFilter.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a}});b.InvertFilter=function(){b.AbstractFilter.call(this);
this.passes=[this];this.uniforms={invert:{type:"1f",value:1}};this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);","}"]};b.InvertFilter.prototype=Object.create(b.AbstractFilter.prototype);b.InvertFilter.prototype.constructor=
b.InvertFilter;Object.defineProperty(b.InvertFilter.prototype,"invert",{get:function(){return this.uniforms.invert.value},set:function(a){this.uniforms.invert.value=a}});b.SepiaFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={sepia:{type:"1f",value:1}};this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float sepia;","uniform sampler2D uSampler;","const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);",
"void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);","}"]};b.SepiaFilter.prototype=Object.create(b.AbstractFilter.prototype);b.SepiaFilter.prototype.constructor=b.SepiaFilter;Object.defineProperty(b.SepiaFilter.prototype,"sepia",{get:function(){return this.uniforms.sepia.value},set:function(a){this.uniforms.sepia.value=a}});b.TwistFilter=function(){b.AbstractFilter.call(this);this.passes=
[this];this.uniforms={radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"2f",value:{x:.5,y:.5}}};this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float radius;","uniform float angle;","uniform vec2 offset;","void main(void) {","   vec2 coord = vTextureCoord - offset;","   float distance = length(coord);","   if (distance < radius) {","       float ratio = (radius - distance) / radius;",
"       float angleMod = ratio * ratio * angle;","       float s = sin(angleMod);","       float c = cos(angleMod);","       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);","   }","   gl_FragColor = texture2D(uSampler, coord+offset);","}"]};b.TwistFilter.prototype=Object.create(b.AbstractFilter.prototype);b.TwistFilter.prototype.constructor=b.TwistFilter;Object.defineProperty(b.TwistFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(a){this.dirty=
!0;this.uniforms.offset.value=a}});Object.defineProperty(b.TwistFilter.prototype,"radius",{get:function(){return this.uniforms.radius.value},set:function(a){this.dirty=!0;this.uniforms.radius.value=a}});Object.defineProperty(b.TwistFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(a){this.dirty=!0;this.uniforms.angle.value=a}});b.ColorStepFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={step:{type:"1f",value:5}};this.fragmentSrc=
["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float step;","void main(void) {","   vec4 color = texture2D(uSampler, vTextureCoord);","   color = floor(color * step) / step;","   gl_FragColor = color;","}"]};b.ColorStepFilter.prototype=Object.create(b.AbstractFilter.prototype);b.ColorStepFilter.prototype.constructor=b.ColorStepFilter;Object.defineProperty(b.ColorStepFilter.prototype,"step",{get:function(){return this.uniforms.step.value},
set:function(a){this.uniforms.step.value=a}});b.DotScreenFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}};this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float angle;","uniform float scale;","float pattern() {","   float s = sin(angle), c = cos(angle);","   vec2 tex = vTextureCoord * dimensions.xy;",
"   vec2 point = vec2(","       c * tex.x - s * tex.y,","       s * tex.x + c * tex.y","   ) * scale;","   return (sin(point.x) * sin(point.y)) * 4.0;","}","void main() {","   vec4 color = texture2D(uSampler, vTextureCoord);","   float average = (color.r + color.g + color.b) / 3.0;","   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);","}"]};b.DotScreenFilter.prototype=Object.create(b.AbstractFilter.prototype);b.DotScreenFilter.prototype.constructor=b.DotScreenFilter;Object.defineProperty(b.DotScreenFilter.prototype,
"scale",{get:function(){return this.uniforms.scale.value},set:function(a){this.dirty=!0;this.uniforms.scale.value=a}});Object.defineProperty(b.DotScreenFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(a){this.dirty=!0;this.uniforms.angle.value=a}});b.CrossHatchFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={blur:{type:"1f",value:1/512}};this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;",
"uniform float blur;","uniform sampler2D uSampler;","void main(void) {","    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","    if (lum < 1.00) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.75) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }",
"    }","    if (lum < 0.50) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.3) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","}"]};b.CrossHatchFilter.prototype=Object.create(b.AbstractFilter.prototype);b.CrossHatchFilter.prototype.constructor=b.BlurYFilter;Object.defineProperty(b.CrossHatchFilter.prototype,
"blur",{get:function(){return this.uniforms.blur.value/(1/7E3)},set:function(a){this.uniforms.blur.value=1/7E3*a}});b.RGBSplitFilter=function(){b.AbstractFilter.call(this);this.passes=[this];this.uniforms={red:{type:"2f",value:{x:20,y:20}},green:{type:"2f",value:{x:-20,y:20}},blue:{type:"2f",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}};this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 red;","uniform vec2 green;","uniform vec2 blue;",
"uniform vec4 dimensions;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;","   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;","   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;","   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;","}"]};b.RGBSplitFilter.prototype=Object.create(b.AbstractFilter.prototype);b.RGBSplitFilter.prototype.constructor=b.RGBSplitFilter;
Object.defineProperty(b.RGBSplitFilter.prototype,"angle",{get:function(){return this.uniforms.blur.value/(1/7E3)},set:function(a){this.uniforms.blur.value=1/7E3*a}});"undefined"!==typeof r&&r.exports&&(q=r.exports=b);q.PIXI=b}).call(this)},function(r,q,d){var b,m,n,p,l,a,c,f,e,h,g;g=d(8);p=d(38);a=d(35);e=d(36);h=d(37);c=d(6);f=d(11);m=function(){return function(a,b,c,e){this.resourceType=a;this.routePartialIdx=b;this.capacity=c;this.level=e}}();n=function(){function a(b,e,f,g){this.type=b;this["class"]=
e;this.previousUpdateTime=f;this.boostRemaining=0;this.regeneration=this.baseRegeneration=g.regeneration;this.level=g.initialLevel;switch(this["class"]){case a.Class.SUPPLY:this.forBoost=h.defaultFor(g.boost,void 0),this.boostFactor=h.defaultFor(g.boostFactor,c.gameLogic.DEFAULT_BOOST_FACTOR),this.boostDuration=h.defaultFor(g.boostDuration,c.gameLogic.DEFAULT_BOOST_DURATION)}}a.Type={JAM:"jam",PEOPLE:"people",FOOD:"food"};a.Class={SUPPLY:"supply",DEMAND:"demand"};a.prototype.update=function(a){var b,
c;b=a-this.previousUpdateTime;this.previousUpdateTime=a;b/=6E4;a=0;c=b;0<this.boostRemaining&&(a=Math.min(b,this.boostRemaining),this.boostRemaining-=a,c=b-a);this.level+=a*this.regeneration;0>=this.boostRemaining&&(this.regeneration=this.baseRegeneration);return this.level+=c*this.baseRegeneration};a.prototype.receivedCargo=function(a){var b;b=this._receivedType(a.resourceType,a.level);a.level-=b;return b};a.prototype.receivedResource=function(a){return a.level-=this._receivedType(a.type,a.level)};
a.prototype.fillCargo=function(b){var c;if(this["class"]===a.Class.SUPPLY&&b.resourceType===this.type)return c=b.capacity-b.level,c=Math.min(c,this.level),b.level+=c,this.level-=c};a.prototype._receivedType=function(b,c){var e;null!=this.forBoost&&resource.type===this.forBoost&&(this.boostRemaining=this.boostDuration,this.regeneration=this.baseRegeneration*this.boostFactor);e=0;this["class"]===a.Class.DEMAND&&this.type===b&&(e=Math.min(this.level,c),this.level-=e);return e};return a}();b=function(){function b(c,
f,g,d,l){this.center=c;this.dir=f;this.diagonal=g;this.type=d;l=h.defaultFor(l,1);this.aspectDegree=e.atanDegrees(l);this.corners=this.generateCorners();this.collider=new a.CollisionObject(this,a.CollisionObject.Type.RECT,{corners:this.corners});this.supply=[];this.demand=[];this.id=b.id;b.id+=1}b.Type={RESIDENTIAL:"residential",IMPORT:"import"};b.id=0;b.prototype.generateCorners=function(){return[{x:this.center.x+this.diagonal*e.sinDegrees(+this.aspectDegree+this.dir),y:this.center.y+this.diagonal*
e.cosDegrees(+this.aspectDegree+this.dir)},{x:this.center.x+this.diagonal*e.sinDegrees(-this.aspectDegree+this.dir),y:this.center.y+this.diagonal*e.cosDegrees(-this.aspectDegree+this.dir)},{x:this.center.x+this.diagonal*e.sinDegrees(180+this.aspectDegree+this.dir),y:this.center.y+this.diagonal*e.cosDegrees(180+this.aspectDegree+this.dir)},{x:this.center.x+this.diagonal*e.sinDegrees(180-this.aspectDegree+this.dir),y:this.center.y+this.diagonal*e.cosDegrees(180-this.aspectDegree+this.dir)}]};b.prototype.setCenter=
function(a){this.center=a;this.corners=this.generateCorners();return this.collider.updateCollisionProperties({corners:this.corners})};b.prototype.setDir=function(a){this.dir=a;this.corners=this.generateCorners();return this.collider.updateCollisionProperties({corners:this.corners})};return b}();l=function(b,e){var f,h,d,l,m;l=b.x;m=b.y;h=e.retrieve({x:l-c.gameLogic.DEFAULT_PICKUP_RANGE,y:m-c.gameLogic.DEFAULT_PICKUP_RANGE,width:2*c.gameLogic.DEFAULT_PICKUP_RANGE,height:2*c.gameLogic.DEFAULT_PICKUP_RANGE});
f=[];d=new a.CollisionObject(void 0,a.CollisionObject.Type.CIRCLE,{center:{x:l,y:m},radius:c.gameLogic.DEFAULT_PICKUP_RANGE});g.each(h,function(a){if(null!=a.o.supply&&null!=a.o.demand&&d.collide(a.o.collider))return f.push(a.o)});return f};q=function(){function a(b,c,e){this.id=b;this.vehicle_id=c;this._qTree=e;this.active=!1;this.drawPosition=void 0;this._route=[];this._buildings=[];this._pickups=[];this._supply=[];this._demand=[];this._currentLocation={segment:void 0,fraction:void 0,atTime:void 0,
pathIdx:void 0};this._path=[];this._pathEnd=this._pathStart=void 0;this._routePartialIdx=0}a.WhatShouldBeDropped=function(a,b,c){var e,f,k,h,d,l,m;k=[];a=a.slice(0);h=[];d=b.slice(0);l=0;for(m=a.length;l<m;l++)e=a[l],b=g.findIndex(d,function(a){return a.resourceType===e.resourceType}),f=g.any(c,function(a){return a.type===e.resourceType}),-1===b||f?k.push(e):(h.push(e),d.splice(b,1));return{drops:k,finalCargo:h.concat(d)}};a.prototype.currentPosition=function(){return e.fractionBetween(this._currentLocation.segment.r.start,
this._currentLocation.segment.r.end,this._currentLocation.fraction)};a.prototype.addLocation=function(a,b,c){var f,g,k,h;f=e.fractionBetween(a.o.r.start,a.o.r.end,a.fraction);a={location:f,astarLocation:a};b=null!=b?b:l(f,this._qTree);null!=c&&c<this.path.length?(this._route[c]=a,this._buildings[c]=b,this._pickups[c]=[],b=c):(this._route.push(a),this._buildings.push(b),this._pickups.push([]),this._supply.push([]),this._demand.push([]),b=this._route.length-1);a=[];f=[];h=this._buildings[b];g=0;for(k=
h.length;g<k;g++)c=h[g],a=a.concat(c.supply),f=f.concat(c.demand);this._supply[b]=a;return this._demand[b]=f};a.prototype.setActive=function(a,b){this.active=a;if(!0===a)return this._currentLocation.atTime=b/1E3};a.prototype.update=function(a){var b,e,g,k,h,d,l;a/=1E3;null==this._currentLocation.segment&&0<this._route.length&&(b=this._route[this._routePartialIdx].astarLocation,this._currentLocation.segment=b.o,this._currentLocation.fraction=b.fraction,this._currentLocation.atTime=a,this._currentLocation.pathIdx=
0,this._reachLocation(this._routePartialIdx));b=a-this._currentLocation.atTime;if(this.active&&0<this._route.length){for(l=[];0<b;){g=this._currentLocation.pathIdx;k=this._currentLocation.segment;if(g===this._path.length-1){k=k.endContaining(this._path[g-1]);a:{switch(k){case f.Segment.End.START:g=this._pathEnd.fraction-this._currentLocation.fraction;break a;case f.Segment.End.END:g=1-this._pathEnd.fraction-(1-this._currentLocation.fraction);break a}g=void 0}a:{switch(k){case f.Segment.End.START:k=
1;break a;case f.Segment.End.END:k=-1;break a}k=void 0}}else{k=k.endContaining(this._path[g+1]);a:{switch(k){case f.Segment.End.START:g=this._currentLocation.fraction;break a;case f.Segment.End.END:g=1-this._currentLocation.fraction;break a}g=void 0}a:{switch(k){case f.Segment.End.START:k=-1;break a;case f.Segment.End.END:k=1;break a}k=void 0}}h=this._currentLocation.segment.currentSpeed();d=this._currentLocation.segment.length();e=g*d;e/=h;e=Math.min(e,b);h=e*h/d;this._currentLocation.fraction+=
h*k;g=(g-h)*d;g<c.gameLogic.MIN_LENGTH_FOR_VEHICLE_ARRIVAL&&this._advancePath(this._currentLocation.pathIdx,a);this._currentLocation.atTime=a;l.push(b-=e)}return l}};a.prototype.setPickups=function(a,b){if(a<this._pickups.length)return this._pickups[a]=b};a.prototype.addPickup=function(a,b){return this._pickups[a].push(new m(b,a,c.gameLogic.DEFAULT_CARGO_CAPACITY,0))};a.prototype.removePickup=function(a,b){return this._pickups[a].splice(b,1)};a.prototype.getExpectedDrops=function(b){var c,e;c=[];
b<this._pickups.length&&(c=(b-1+this._route.length)%this._route.length,e=this._pickups[c],c=this._pickups[b],c=a.WhatShouldBeDropped(e,c,this._demand[b]).drops);return c};a.prototype.getPickups=function(a){return this._pickups[a]};a.prototype.getSupply=function(a,b){var c,e,f,g;e=this._supply[a];f=0;for(g=e.length;f<g;f++)c=e[f],c.update(b);return e};a.prototype.getDemand=function(a,b){var c,e,f,g;c=this._demand[a];f=0;for(g=c.length;f<g;f++)e=c[f],e.update(b);return c};a.prototype.getGroupedSupply=
function(a,b){return this._processResources(this._supply[a],b)};a.prototype.getGroupedDemand=function(a,b){return this._processResources(this._demand[a],b)};a.prototype.getAvailableCargo=function(a){var b,c,e,f,k,h;b=g.values(n.Type);e=[];f=[];k=0;for(h=b.length;k<h;k++)c=b[k],g.any(this._supply[a],function(a){return a.type===c})?e.push({type:c,supplied:!0}):f.push({type:c,supplied:!1});return e.concat(f)};a.prototype.cost=function(){return g.reduce(this.path.slice(1,-1),function(a,b){return a+b.cost()},
0)+this.pathStart.o.costTo(this.path[1],this.pathStart.fraction)+this.pathEnd.o.costTo(this.path[this.path.length-2],this.pathEnd.fraction)};a.prototype.length=function(){return this._route.length};a.prototype._advancePath=function(a,b){var c,e;if(a===this._path.length-1&&1<this._route.length)this._reachLocation(this._routePartialIdx),c=0;else{c=a+1;e=this._path[a];var g=this._currentLocation;a:{switch(this._path[c].endContaining(e)){case f.Segment.End.START:e=0;break a;case f.Segment.End.END:e=1;
break a}e=void 0}g.fraction=e}this._currentLocation.segment=this._path[c];this._currentLocation.atTime=b;return this._currentLocation.pathIdx=c};a.prototype._reachLocation=function(a){var b;this._routePartialIdx=(a+1)%this._route.length;b=this._route[this._routePartialIdx];this._setDestination(b.astarLocation.o,b.astarLocation.fraction);if(null!=this.onLocationReached)return this.onLocationReached(this.id,a,this.vehicle_id)};a.prototype._setDestination=function(a,b){this._pathStart=new p.PathLocation(this._currentLocation.segment,
this._currentLocation.fraction);this._pathEnd=new p.PathLocation(a,b);return this._path=p.calc.find(this._pathStart,this._pathEnd)};a.prototype._processResources=function(a,b){var c,e,f,g;c={};f=0;for(g=a.length;f<g;f++)e=a[f],e.update(b),c[e.type]||(c[e.type]=0),c[e.type]+=e.level;return c};return a}();r.exports={Cargo:m,Resource:n,Building:b,TransportRoute:q,buildingFactory:function(){return{fromProbability:function(a){return.4>Math.random()?this.byType(b.Type.IMPORT,a):this.byType(b.Type.RESIDENTIAL,
a)},byType:function(a,c){var f;f=void 0;switch(a){case b.Type.RESIDENTIAL:f=new b({x:0,y:0},0,80,b.Type.RESIDENTIAL,e.randomRange(.5,2));f.supply.push(new n(n.Type.PEOPLE,n.Class.SUPPLY,c,{regeneration:1,initialLevel:3,boost:n.Type.FOOD}));f.demand.push(new n(n.Type.FOOD,n.Class.DEMAND,c,{regeneration:.5,initialLevel:3}));break;case b.Type.IMPORT:f=new b({x:0,y:0},0,150,b.Type.IMPORT,e.randomRange(.5,2)),f.supply.push(new n(n.Type.FOOD,n.Class.SUPPLY,c,{regeneration:1,initialLevel:3,boost:n.Type.PEOPLE})),
f.demand.push(new n(n.Type.PEOPLE,n.Class.DEMAND,c,{regeneration:.5,initialLevel:3}))}return f},aroundSegment:function(a,b,f,g,h){var d,l,m,p,n,q,r,y,G,H,J,z;m=[];for(y=0;y<f;y+=1){d=360*Math.random();l=Math.random()*g;l={x:.5*(b.r.start.x+b.r.end.x)+l*e.sinDegrees(d),y:.5*(b.r.start.y+b.r.end.y)+l*e.cosDegrees(d)};d=a();d.setCenter(l);d.setDir(b.dir());q=!1;p=G=0;for(z=c.mapGeneration.BUILDING_PLACEMENT_LOOP_LIMIT;G<z;p=G+=1){l=0;r=h.retrieve(d.collider.limits());r=r.concat(m);H=0;for(J=r.length;H<
J;H++)if(n=r[H],null!=n.o&&(n=n.o),n=d.collider.collide(n.collider)){l+=1;if(p===c.mapGeneration.BUILDING_PLACEMENT_LOOP_LIMIT-1)break;d.setCenter(e.addPoints(d.center,n))}if(0===l){q=!0;break}}q&&m.push(d)}return m}}}(),buildingsInRangeOf:l}},function(r,q,d){var b,m,n,p,l,a,c,f,e,h,g,k,s,v,t={}.hasOwnProperty,w=function(a,b){function c(){this.constructor=a}for(var e in b)t.call(b,e)&&(a[e]=b[e]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};d(9);v=d(8);g=d(39).noise;
b=d(40).Quadtree;d(41);h=d(36);s=d(37);p=d(35);l=d(6);m=function(a){function b(a,c,e,f){var g;g=this;a=v.cloneDeep(a);c=v.cloneDeep(c);e=s.defaultFor(e,0);f=s.defaultFor(f,{},!0);this.width=f.highway?l.mapGeneration.HIGHWAY_SEGMENT_WIDTH:l.mapGeneration.DEFAULT_SEGMENT_WIDTH;this.collider=new p.CollisionObject(this,p.CollisionObject.Type.LINE,{start:a,end:c,width:this.width});this.roadRevision=0;this.cachedLength=this.cachedDir=this.lengthRevision=this.dirRevision=void 0;this.r={start:a,end:c,setStart:function(a){this.start=
a;g.collider.updateCollisionProperties({start:this.start});return g.roadRevision++},setEnd:function(a){this.end=a;g.collider.updateCollisionProperties({end:this.end});return g.roadRevision++}};this.t=e;this.q=f;this.links={b:[],f:[]};this.users=[];a=f.highway?[1200,12]:[800,6];this.maxSpeed=a[0];this.capacity=a[1]}w(b,a);b.End={START:"start",END:"end"};b.prototype.currentSpeed=function(){return Math.min(l.gameLogic.MIN_SPEED_PROPORTION,1-Math.max(0,this.users.length-1)/this.capacity)*this.maxSpeed};
b.prototype.dir=function(){var a;this.dirRevision!==this.roadRevision&&(this.dirRevision=this.roadRevision,a=h.subtractPoints(this.r.end,this.r.start),this.cachedDir=-1*h.sign(h.crossProduct({x:0,y:1},a))*h.angleBetween({x:0,y:1},a));return this.cachedDir};b.prototype.length=function(){this.lengthRevision!==this.roadRevision&&(this.lengthRevision=this.roadRevision,this.cachedLength=h.length(this.r.start,this.r.end));return this.cachedLength};b.prototype.debugLinks=function(){this.q.color=65280;v.each(this.links.b,
function(a){return a.q.color=16711680});return v.each(this.links.f,function(a){return a.q.color=255})};b.prototype.startIsBackwards=function(){return 0<this.links.b.length?h.equalV(this.links.b[0].r.start,this.r.start)||h.equalV(this.links.b[0].r.end,this.r.start):h.equalV(this.links.f[0].r.start,this.r.end)||h.equalV(this.links.f[0].r.end,this.r.end)};b.prototype.cost=function(){return this.length()/this.currentSpeed()};b.prototype.costTo=function(a,c){var e;e=this.endContaining(a);return this.cost()*
function(){if(null!=c)switch(e){case b.End.START:return c;case b.End.END:return 1-c}else return.5}()};b.prototype.neighbours=function(){return this.links.f.concat(this.links.b)};b.prototype.endContaining=function(a){var c;c=this.startIsBackwards();if(-1!==this.links.b.indexOf(a))return c?b.End.START:b.End.END;if(-1!==this.links.f.indexOf(a))return c?b.End.END:b.End.START};b.prototype.linksForEndContaining=function(a){if(-1!==this.links.b.indexOf(a))return this.links.b;if(-1!==this.links.f.indexOf(a))return this.links.f};
b.prototype.split=function(a,b,c,e){var f,g;g=this.startIsBackwards();f=k.fromExisting(this);n(f,c,e);f.r.setEnd(a);this.r.setStart(a);f.links.b=this.links.b.slice(0);f.links.f=this.links.f.slice(0);g?(a=f,e=this,c=f.links.b):(a=this,e=f,c=f.links.f);v.each(c,function(a){var b;b=a.links.b.indexOf(this);if(-1!==b)return a.links.b[b]=f;b=a.links.f.indexOf(this);return a.links.f[b]=f},this);a.links.f=[];a.links.f.push(b);a.links.f.push(e);e.links.b=[];e.links.b.push(b);e.links.b.push(a);b.links.f.push(a);
return b.links.f.push(e)};return b}(p.CollisionObject);k=function(){return{fromExisting:function(a,b,c,e){b=s.defaultFor(b,a.t);c=s.defaultFor(c,a.r);e=s.defaultFor(e,a.q);return new m(c.start,c.end,b,e)},usingDirection:function(a,b,c,e,f){b=s.defaultFor(b,90);c=s.defaultFor(c,l.mapGeneration.DEFAULT_SEGMENT_LENGTH);b={x:a.x+c*h.sinDegrees(b),y:a.y+c*h.cosDegrees(b)};return new m(a,b,e,f)}}}();f=function(){return{popOnRoad:function(a){return(this.populationAt(a.start.x,a.start.y)+this.populationAt(a.end.x,
a.end.y))/2},populationAt:function(a,b){var c,e,f;c=(g.simplex2(a/1E4,b/1E4)+1)/2;e=(g.simplex2(a/2E4+500,b/2E4+500)+1)/2;f=(g.simplex2(a/2E4+1E3,b/2E4+1E3)+1)/2;return Math.pow((c*e+f)/2,2)}}}();a=function(a,b){return h.doLineSegmentsIntersect(a.start,a.end,b.start,b.end,!0)};e=function(b,c,e,f){var g,k,d,m,p,n,q,r,t;g={priority:0,func:void 0,q:{}};n=e.retrieve(b.collider.limits());d=r=0;for(t=n.length-1;r<=t;d=r+=1)d=n[d].o,4>=g.priority&&(k=a(b.r,d.r))&&(null==g.q.t||k.t<g.q.t)&&(g.q.t=k.t,function(a,
k){g.priority=4;return g.func=function(){if(s.minDegreeDifference(a.dir(),b.dir())<l.mapGeneration.MINIMUM_INTERSECTION_DEVIATION)return!1;a.split(k,b,c,e);b.r.end=k;b.q.severed=!0;null!=f&&(null==f.intersections&&(f.intersections=[]),f.intersections.push({x:k.x,y:k.y}));return!0}}(d,k)),3>=g.priority&&h.length(b.r.end,d.r.end)<=l.mapGeneration.ROAD_SNAP_DISTANCE&&function(a){var c;c=a.r.end;g.priority=3;return g.func=function(){var e;b.r.end=c;b.q.severed=!0;e=a.startIsBackwards()?a.links.f:a.links.b;
if(v.any(e,function(a){return h.equalV(a.r.start,b.r.end)&&h.equalV(a.r.end,b.r.start)||h.equalV(a.r.start,b.r.start)&&h.equalV(a.r.end,b.r.end)}))return!1;v.each(e,function(c){c.linksForEndContaining(a).push(b);return b.links.f.push(c)});e.push(b);b.links.f.push(a);null!=f&&(null==f.snaps&&(f.snaps=[]),f.snaps.push({x:c.x,y:c.y}));return!0}}(d),2>=g.priority&&(m=h.distanceToLine(b.r.end,d.r.start,d.r.end),k=m.distance2,q=m.pointOnLine,p=m.lineProj2,m=m.length2,k<l.mapGeneration.ROAD_SNAP_DISTANCE*
l.mapGeneration.ROAD_SNAP_DISTANCE&&0<=p&&p<=m&&function(a){var k;k=q;g.priority=2;return g.func=function(){b.r.end=k;b.q.severed=!0;if(s.minDegreeDifference(a.dir(),b.dir())<l.mapGeneration.MINIMUM_INTERSECTION_DEVIATION)return!1;a.split(k,b,c,e);null!=f&&(null==f.intersectionsRadius&&(f.intersectionsRadius=[]),f.intersectionsRadius.push({x:k.x,y:k.y}));return!0}}(d));return g.func?g.func():!0};c=function(){return{generate:function(a){var b,c,e,g,h,d,m,s;g=[];a.q.severed||(c=function(b,c,e,f){return k.usingDirection(a.r.end,
b,c,e,f)},s=v.partialRight(c,a.length(),0,a.q),m=v.partialRight(c,l.mapGeneration.DEFAULT_SEGMENT_LENGTH,a.q.highway?l.mapGeneration.NORMAL_BRANCH_TIME_DELAY_FROM_HIGHWAY:0),b=s(a.dir()),c=f.popOnRoad(b.r),a.q.highway?(d=s(a.dir()+l.mapGeneration.RANDOM_STRAIGHT_ANGLE()),h=f.popOnRoad(d.r),e,h>c?(g.push(d),e=h):(g.push(b),e=c),e>l.mapGeneration.HIGHWAY_BRANCH_POPULATION_THRESHOLD&&(Math.random()<l.mapGeneration.HIGHWAY_BRANCH_PROBABILITY?(e=s(a.dir()-90+l.mapGeneration.RANDOM_BRANCH_ANGLE()),g.push(e)):
Math.random()<l.mapGeneration.HIGHWAY_BRANCH_PROBABILITY&&(e=s(a.dir()+90+l.mapGeneration.RANDOM_BRANCH_ANGLE()),g.push(e)))):c>l.mapGeneration.NORMAL_BRANCH_POPULATION_THRESHOLD&&g.push(b),c>l.mapGeneration.NORMAL_BRANCH_POPULATION_THRESHOLD&&(Math.random()<l.mapGeneration.DEFAULT_BRANCH_PROBABILITY?(c=m(a.dir()-90+l.mapGeneration.RANDOM_BRANCH_ANGLE()),g.push(c)):Math.random()<l.mapGeneration.DEFAULT_BRANCH_PROBABILITY&&(c=m(a.dir()+90+l.mapGeneration.RANDOM_BRANCH_ANGLE()),g.push(c))));m=function(b){return b.setupBranchLinks=
function(){v.each(a.links.f,function(b){this.links.b.push(b);return b.linksForEndContaining(a).push(this)},this);a.links.f.push(this);return this.links.b.push(a)}};c=e=0;for(s=g.length-1;e<=s;c=e+=1)m(g[c]);return g}}}();n=function(a,b,c){b.push(a);return c.insert(a.collider.limits())};r.exports={Segment:m,generate:function(a){var h,d,s,p,q,r,t,w,H,J;d={};Math.seedrandom(a);g.seed(Math.random());r=[];(function(){var a,b;b=new m({x:0,y:0},{x:l.mapGeneration.HIGHWAY_SEGMENT_LENGTH,y:0},0,{highway:!0});
a=k.fromExisting(b);a.r.setEnd({x:b.r.start.x-l.mapGeneration.HIGHWAY_SEGMENT_LENGTH,y:a.r.end.y});a.links.b.push(b);b.links.b.push(a);r.push(b);return r.push(a)})();w=[];for(a=new b(l.mapGeneration.QUADTREE_PARAMS,l.mapGeneration.QUADTREE_MAX_OBJECTS,l.mapGeneration.QUADTREE_MAX_LEVELS);0<r.length&&w.length<l.mapGeneration.SEGMENT_COUNT_LIMIT;)if(p=void 0,q=0,v.each(r,function(a,b){if(null==p||a.t<p)return p=a.t,q=b}),s=r.splice(q,1)[0],h=e(s,w,a,d))null!=s.setupBranchLinks&&s.setupBranchLinks(),
n(s,w,a),v.each(c.generate(s),function(a){a.t=s.t+1+a.t;return r.push(a)});H=h=0;for(J=w.length;H<J;H++)t=w[H],t.id=h++;console.log(""+w.length+" segments generated.");return{segments:w,qTree:a,heatmap:f,debugData:d}}}},function(r,q,d){q=d(43);r.exports={ActionTypes:q({VEHICLE_CREATE:null,VEHICLE_SET_CARGO:null,ROUTE_PARTIAL_CREATE:null,ROUTE_SET_ACTIVE:null,ROUTE_ADD_PICKUP:null,ROUTE_REMOVE_PICKUP:null,MAP_GENERATE:null,MAP_FACTOR_TARGET_ZOOM:null}),PayloadSources:q({SERVER_ACTION:null,VIEW_ACTION:null,
LOGIC_ACTION:null}),OverlayModes:q({EDIT_VEHICLE:null,NEW_VEHICLE:null,NEW_ROUTE_PARTIAL_SELECTION:null})}},function(r,q,d){var b,m,n,p,l,a,c,f,e,h,g;l=d(44);p=d(11);q=d(14);b=d(110).EventEmitter;n=d(12);e=[];h={};a=c=f=void 0;g=.05*window.devicePixelRatio;m=l(b.prototype,{get:function(a){return h[a]},getSegments:function(){return e},getQTree:function(){return f},getHeatmap:function(){return c},getDebugData:function(){return a},getTargetZoom:function(){return g},emitChange:function(){return this.emit("change")},
addChangeListener:function(a){return this.on("change",a)},removeChangeListener:function(a){return this.removeListener("change",a)},dispatcherIndex:q.register(function(b){var d,l,q;b=b.action;switch(b.actionType){case n.ActionTypes.MAP_GENERATE:d=p.generate(b.seed);b=d.segments;q=d.qTree;l=d.heatmap;d=d.debugData;e=b;f=q;c=l;a=d;h={};q=0;for(d=b.length;q<d;q++)l=b[q],h[l.id]=l;m.emitChange();break;case n.ActionTypes.MAP_FACTOR_TARGET_ZOOM:g*=b.factor}return!0})});r.exports=m},function(r,q,d){q=d(45);
var b=d(46),m=d(12);d=b(new q,{handleViewAction:function(b){this.dispatch({source:m.PayloadSources.ViewAction,action:b})},handleLogicAction:function(b){this.dispatch({source:m.PayloadSources.LogicAction,action:b})}});r.exports=d},function(r,q,d){(function(b){function m(a,b){return null==b||n.hasBooleanValue[a]&&!b||n.hasNumericValue[a]&&isNaN(b)||n.hasPositiveNumericValue[a]&&1>b||n.hasOverloadedBooleanValue[a]&&!1===b}var n=d(47),p=d(48),l=d(49),a=d(50),c=l(function(a){return p(a)+'="'});if("production"!==
b.env.NODE_ENV)var f={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},e={},h=function(c){if(!(f.hasOwnProperty(c)&&f[c]||e.hasOwnProperty(c)&&e[c])){e[c]=!0;var k=c.toLowerCase(),k=n.isCustomAttribute(k)?k:n.getPossibleStandardName.hasOwnProperty(k)?n.getPossibleStandardName[k]:null;"production"!==b.env.NODE_ENV?a(null==k,"Unknown DOM property "+c+". Did you mean "+k+"?"):null}};r.exports={createMarkupForID:function(a){return c(n.ID_ATTRIBUTE_NAME)+p(a)+'"'},createMarkupForProperty:function(a,
e){if(n.isStandardName.hasOwnProperty(a)&&n.isStandardName[a]){if(m(a,e))return"";var f=n.getAttributeName[a];return n.hasBooleanValue[a]||n.hasOverloadedBooleanValue[a]&&!0===e?p(f):c(f)+p(e)+'"'}if(n.isCustomAttribute(a))return null==e?"":c(a)+p(e)+'"';"production"!==b.env.NODE_ENV&&h(a);return null},setValueForProperty:function(a,c,e){if(n.isStandardName.hasOwnProperty(c)&&n.isStandardName[c]){var f=n.getMutationMethod[c];f?f(a,e):m(c,e)?this.deleteValueForProperty(a,c):n.mustUseAttribute[c]?a.setAttribute(n.getAttributeName[c],
""+e):(f=n.getPropertyName[c],n.hasSideEffects[c]&&a[f]===e||(a[f]=e))}else n.isCustomAttribute(c)?null==e?a.removeAttribute(c):a.setAttribute(c,""+e):"production"!==b.env.NODE_ENV&&h(c)},deleteValueForProperty:function(a,c){if(n.isStandardName.hasOwnProperty(c)&&n.isStandardName[c]){var e=n.getMutationMethod[c];if(e)e(a,void 0);else if(n.mustUseAttribute[c])a.removeAttribute(n.getAttributeName[c]);else{var e=n.getPropertyName[c],f=n.getDefaultValueForProperty(a.nodeName,e);n.hasSideEffects[c]&&a[e]===
f||(a[e]=f)}}else n.isCustomAttribute(c)?a.removeAttribute(c):"production"!==b.env.NODE_ENV&&h(c)}}}).call(q,d(42))},function(r,q,d){(function(b){var m=d(51),n=d(52),p={Mount:null,injectMount:function(a){p.Mount=a;"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?n(a&&a.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode."):n(a&&a.getNode))}},l=m.topLevelTypes,a;"production"!==b.env.NODE_ENV&&(a=function(a){var f=a._dispatchListeners,e=a._dispatchIDs;
a=Array.isArray(f);var h=Array.isArray(e),e=h?e.length:e?1:0,f=a?f.length:f?1:0;"production"!==b.env.NODE_ENV?n(h===a&&e===f,"EventPluginUtils: Invalid `event`."):n(h===a&&e===f)});r.exports={isEndish:function(a){return a===l.topMouseUp||a===l.topTouchEnd||a===l.topTouchCancel},isMoveish:function(a){return a===l.topMouseMove||a===l.topTouchMove},isStartish:function(a){return a===l.topMouseDown||a===l.topTouchStart},executeDirectDispatch:function(c){"production"!==b.env.NODE_ENV&&a(c);var f=c._dispatchListeners,
e=c._dispatchIDs;"production"!==b.env.NODE_ENV?n(!Array.isArray(f),"executeDirectDispatch(...): Invalid `event`."):n(!Array.isArray(f));f=f?f(c,e):null;c._dispatchListeners=null;c._dispatchIDs=null;return f},executeDispatch:function(a,b,e){a.currentTarget=p.Mount.getNode(e);b=b(a,e);a.currentTarget=null;return b},executeDispatchesInOrder:function(c,f){var e=c._dispatchListeners,h=c._dispatchIDs;"production"!==b.env.NODE_ENV&&a(c);if(Array.isArray(e))for(var g=0;g<e.length&&!c.isPropagationStopped();g++)f(c,
e[g],h[g]);else e&&f(c,e,h);c._dispatchListeners=null;c._dispatchIDs=null},executeDispatchesInOrderStopAtTrue:function(c){var f;a:{f=c._dispatchListeners;var e=c._dispatchIDs;"production"!==b.env.NODE_ENV&&a(c);if(Array.isArray(f))for(var h=0;h<f.length&&!c.isPropagationStopped();h++){if(f[h](c,e[h])){f=e[h];break a}}else if(f&&f(c,e)){f=e;break a}f=null}c._dispatchIDs=null;c._dispatchListeners=null;return f},hasDispatches:function(a){return!!a._dispatchListeners},injection:p,useTouchEvents:!1}}).call(q,
d(42))},function(r,q,d){(function(b){function m(a,b){this.forEachFunction=a;this.forEachContext=b}function n(a,b,c,e){a.forEachFunction.call(a.forEachContext,b,e)}function p(a,b,c){this.mapResult=a;this.mapFunction=b;this.mapContext=c}function l(a,c,f,h){var d=a.mapResult,l=!d.hasOwnProperty(f);"production"!==b.env.NODE_ENV?e(l,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",f):
null;l&&(a=a.mapFunction.call(a.mapContext,c,h),d[f]=a)}function a(a,b,c,e){return null}var c=d(53),f=d(54),e=d(50),h=c.threeArgumentPooler;c.addPoolingTo(m,c.twoArgumentPooler);c.addPoolingTo(p,h);r.exports={forEach:function(a,b,c){if(null==a)return a;b=m.getPooled(b,c);f(a,n,b);m.release(b)},map:function(a,b,c){if(null==a)return a;var e={};b=p.getPooled(e,b,c);f(a,l,b);p.release(b);return e},count:function(b,c){return f(b,a,null)}}}).call(q,d(42))},function(r,q,d){(function(b){var m=d(22),n=d(55),
p=d(56),l=d(52),a=d(43),c=d(44),f=a({MOUNTED:null,UNMOUNTED:null}),e=!1,h=null,g=null,k={injection:{injectEnvironment:function(a){"production"!==b.env.NODE_ENV?l(!e,"ReactComponent: injectEnvironment() can only be called once."):l(!e);g=a.mountImageIntoNode;h=a.unmountIDFromEnvironment;k.BackendIDOperations=a.BackendIDOperations;e=!0}},LifeCycle:f,BackendIDOperations:null,Mixin:{isMounted:function(){return this._lifeCycleState===f.MOUNTED},setProps:function(a,b){this.replaceProps(c((this._pendingDescriptor||
this._descriptor).props,a),b)},replaceProps:function(a,c){"production"!==b.env.NODE_ENV?l(this.isMounted(),"replaceProps(...): Can only update a mounted component."):l(this.isMounted());"production"!==b.env.NODE_ENV?l(0===this._mountDepth,"replaceProps(...): You called `setProps` or `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):
l(0===this._mountDepth);this._pendingDescriptor=m.cloneAndReplaceProps(this._pendingDescriptor||this._descriptor,a);p.enqueueUpdate(this,c)},_setPropsInternal:function(a,b){var e=this._pendingDescriptor||this._descriptor;this._pendingDescriptor=m.cloneAndReplaceProps(e,c(e.props,a));p.enqueueUpdate(this,b)},construct:function(a){this.props=a.props;this._owner=a._owner;this._lifeCycleState=f.UNMOUNTED;this._pendingCallbacks=null;this._descriptor=a;this._pendingDescriptor=null},mountComponent:function(a,
c,e){"production"!==b.env.NODE_ENV?l(!this.isMounted(),"mountComponent(%s, ...): Can only mount an unmounted component. Make sure to avoid storing components between renders or reusing a single component instance in multiple places.",a):l(!this.isMounted());c=this._descriptor.props;null!=c.ref&&n.addComponentAsRefTo(this,c.ref,this._descriptor._owner);this._rootNodeID=a;this._lifeCycleState=f.MOUNTED;this._mountDepth=e},unmountComponent:function(){"production"!==b.env.NODE_ENV?l(this.isMounted(),
"unmountComponent(): Can only unmount a mounted component."):l(this.isMounted());var a=this.props;null!=a.ref&&n.removeComponentAsRefFrom(this,a.ref,this._owner);h(this._rootNodeID);this._rootNodeID=null;this._lifeCycleState=f.UNMOUNTED},receiveComponent:function(a,c){"production"!==b.env.NODE_ENV?l(this.isMounted(),"receiveComponent(...): Can only update a mounted component."):l(this.isMounted());this._pendingDescriptor=a;this.performUpdateIfNecessary(c)},performUpdateIfNecessary:function(a){if(null!=
this._pendingDescriptor){var b=this._descriptor,c=this._pendingDescriptor;this._descriptor=c;this.props=c.props;this._owner=c._owner;this._pendingDescriptor=null;this.updateComponent(a,b)}},updateComponent:function(a,b){var c=this._descriptor;if(c._owner!==b._owner||c.props.ref!==b.props.ref)null!=b.props.ref&&n.removeComponentAsRefFrom(this,b.props.ref,b._owner),null!=c.props.ref&&n.addComponentAsRefTo(this,c.props.ref,c._owner)},mountComponentIntoNode:function(a,b,c){var e=p.ReactReconcileTransaction.getPooled();
e.perform(this._mountComponentIntoNode,this,a,b,e,c);p.ReactReconcileTransaction.release(e)},_mountComponentIntoNode:function(a,b,c,e){a=this.mountComponent(a,c,0);g(a,b,e)},isOwnedBy:function(a){return this._owner===a},getSiblingByRef:function(a){var b=this._owner;return b&&b.refs?b.refs[a]:null}}};r.exports=k}).call(q,d(42))},function(r,q,d){(function(b){function m(a,c,e){for(var f in c)c.hasOwnProperty(f)&&("production"!==b.env.NODE_ENV?u("function"==typeof c[f],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",
a.displayName||"ReactCompositeComponent",F[e],f):u("function"==typeof c[f]))}function n(c,e){"production"!==b.env.NODE_ENV?u(!h.isValidFactory(e),"ReactCompositeComponent: You're attempting to use a component class as a mixin. Instead, just use a regular object."):u(!h.isValidFactory(e));"production"!==b.env.NODE_ENV?u(!h.isValidDescriptor(e),"ReactCompositeComponent: You're attempting to use a component as a mixin. Instead, just use a regular object."):u(!h.isValidDescriptor(e));var f=c.prototype,
g;for(g in e){var k=e[g];if(e.hasOwnProperty(g)){var d=f,m=g,p=L.hasOwnProperty(m)?L[m]:null;ga.hasOwnProperty(m)&&("production"!==b.env.NODE_ENV?u(p===D.OVERRIDE_BASE,"ReactCompositeComponentInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",m):u(p===D.OVERRIDE_BASE));d.hasOwnProperty(m)&&("production"!==b.env.NODE_ENV?u(p===D.DEFINE_MANY||p===D.DEFINE_MANY_MERGED,"ReactCompositeComponentInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",
m):u(p===D.DEFINE_MANY||p===D.DEFINE_MANY_MERGED));if(N.hasOwnProperty(g))N[g](c,k);else d=L.hasOwnProperty(g),m=f.hasOwnProperty(g),p=k&&k.__reactDontBind,"function"!==typeof k||d||m||p?m?(m=L[g],"production"!==b.env.NODE_ENV?u(d&&(m===D.DEFINE_MANY_MERGED||m===D.DEFINE_MANY),"ReactCompositeComponent: Unexpected spec policy %s for key %s when mixing in component specs.",m,g):u(d&&(m===D.DEFINE_MANY_MERGED||m===D.DEFINE_MANY)),m===D.DEFINE_MANY_MERGED?f[g]=l(f[g],k):m===D.DEFINE_MANY&&(f[g]=a(f[g],
k))):(f[g]=k,"production"!==b.env.NODE_ENV&&"function"===typeof k&&e.displayName&&(f[g].displayName=e.displayName+"_"+g)):(f.__reactAutoBindMap||(f.__reactAutoBindMap={}),f.__reactAutoBindMap[g]=k,f[g]=k)}}}function p(a,c){"production"!==b.env.NODE_ENV?u(a&&c&&"object"===typeof a&&"object"===typeof c,"mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects"):u(a&&c&&"object"===typeof a&&"object"===typeof c);H(c,function(c,e){"production"!==b.env.NODE_ENV?u(void 0===a[e],"mergeObjectsWithNoDuplicateKeys(): Tried to merge two objects with the same key: %s",
e):u(void 0===a[e]);a[e]=c});return a}function l(a,b){return function(){var c=a.apply(this,arguments),e=b.apply(this,arguments);return null==c?e:null==e?c:p(c,e)}}function a(a,b){return function(){a.apply(this,arguments);b.apply(this,arguments)}}var c=d(18),f=d(20),e=d(21),h=d(22),g=d(57),k=d(58),s=d(59),q=d(55),t=d(29),w=d(60),E=d(61),F=d(62),x=d(56),C=d(63),u=d(52),A=d(43),B=d(44),y=d(64),G=d(65),H=d(66),J=d(67),z=d(50),D=A({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),
K=[],L={mixins:D.DEFINE_MANY,statics:D.DEFINE_MANY,propTypes:D.DEFINE_MANY,contextTypes:D.DEFINE_MANY,childContextTypes:D.DEFINE_MANY,getDefaultProps:D.DEFINE_MANY_MERGED,getInitialState:D.DEFINE_MANY_MERGED,getChildContext:D.DEFINE_MANY_MERGED,render:D.DEFINE_ONCE,componentWillMount:D.DEFINE_MANY,componentDidMount:D.DEFINE_MANY,componentWillReceiveProps:D.DEFINE_MANY,shouldComponentUpdate:D.DEFINE_ONCE,componentWillUpdate:D.DEFINE_MANY,componentDidUpdate:D.DEFINE_MANY,componentWillUnmount:D.DEFINE_MANY,
updateComponent:D.OVERRIDE_BASE},N={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)n(a,b[c])},childContextTypes:function(a,b){m(a,b,E.childContext);a.childContextTypes=B(a.childContextTypes,b)},contextTypes:function(a,b){m(a,b,E.context);a.contextTypes=B(a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps=a.getDefaultProps?l(a.getDefaultProps,b):b},propTypes:function(a,b){m(a,b,E.prop);a.propTypes=B(a.propTypes,b)},statics:function(c,
e){if(e)for(var f in e){var g=e[f];if(e.hasOwnProperty(f)){var h=g;if(f in c){var h=c[f],k=typeof h,d=typeof g;"production"!==b.env.NODE_ENV?u("function"===k&&"function"===d,"ReactCompositeComponent: You are attempting to define `%s` on your component more than once, but that is only supported for functions, which are chained together. This conflict may be due to a mixin.",f):u("function"===k&&"function"===d);h=a(h,g)}c[f]=h}}}},I=A({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null,RECEIVING_STATE:null}),
ga={construct:function(a){c.Mixin.construct.apply(this,arguments);q.Mixin.construct.apply(this,arguments);this._compositeLifeCycleState=this.context=this._pendingState=this.state=null},isMounted:function(){return c.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==I.MOUNTING},mountComponent:t.measure("ReactCompositeComponent","mountComponent",function(a,e,f){c.Mixin.mountComponent.call(this,a,e,f);this._compositeLifeCycleState=I.MOUNTING;this.__reactAutoBindMap&&this._bindAutoBindMethods();
this.context=this._processContext(this._descriptor._context);this.props=this._processProps(this.props);this.state=this.getInitialState?this.getInitialState():null;"production"!==b.env.NODE_ENV?u("object"===typeof this.state&&!Array.isArray(this.state),"%s.getInitialState(): must return an object or null",this.constructor.displayName||"ReactCompositeComponent"):u("object"===typeof this.state&&!Array.isArray(this.state));this._pendingState=null;this._pendingForceUpdate=!1;this.componentWillMount&&(this.componentWillMount(),
this._pendingState&&(this.state=this._pendingState,this._pendingState=null));this._renderedComponent=C(this._renderValidatedComponent());this._compositeLifeCycleState=null;a=this._renderedComponent.mountComponent(a,e,f+1);this.componentDidMount&&e.getReactMountReady().enqueue(this.componentDidMount,this);return a}),unmountComponent:function(){this._compositeLifeCycleState=I.UNMOUNTING;this.componentWillUnmount&&this.componentWillUnmount();this._compositeLifeCycleState=null;this._renderedComponent.unmountComponent();
this._renderedComponent=null;c.Mixin.unmountComponent.call(this)},setState:function(a,c){"production"!==b.env.NODE_ENV?u("object"===typeof a||null==a,"setState(...): takes an object of state variables to update."):u("object"===typeof a||null==a);"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?z(null!=a,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null);this.replaceState(B(this._pendingState||this.state,a),c)},replaceState:function(a,c){var e=
this._compositeLifeCycleState;"production"!==b.env.NODE_ENV?u(this.isMounted()||e===I.MOUNTING,"replaceState(...): Can only update a mounted or mounting component."):u(this.isMounted()||e===I.MOUNTING);"production"!==b.env.NODE_ENV?u(e!==I.RECEIVING_STATE,"replaceState(...): Cannot update during an existing state transition (such as within `render`). This could potentially cause an infinite loop so it is forbidden."):u(e!==I.RECEIVING_STATE);"production"!==b.env.NODE_ENV?u(e!==I.UNMOUNTING,"replaceState(...): Cannot update while unmounting component. This usually means you called setState() on an unmounted component."):
u(e!==I.UNMOUNTING);this._pendingState=a;this._compositeLifeCycleState!==I.MOUNTING&&x.enqueueUpdate(this,c)},_processContext:function(a){var c=null,e=this.constructor.contextTypes;if(e){var c={},f;for(f in e)c[f]=a[f];"production"!==b.env.NODE_ENV&&this._checkPropTypes(e,c,E.context)}return c},_processChildContext:function(a){var c=this.getChildContext&&this.getChildContext(),e=this.constructor.displayName||"ReactCompositeComponent";if(c){"production"!==b.env.NODE_ENV?u("object"===typeof this.constructor.childContextTypes,
"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",e):u("object"===typeof this.constructor.childContextTypes);"production"!==b.env.NODE_ENV&&this._checkPropTypes(this.constructor.childContextTypes,c,E.childContext);for(var f in c)"production"!==b.env.NODE_ENV?u(f in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',e,f):u(f in this.constructor.childContextTypes);return B(a,c)}return a},_processProps:function(a){var c=
this.constructor.defaultProps;if(c){a=B(a);for(var e in c)"undefined"===typeof a[e]&&(a[e]=c[e])}"production"!==b.env.NODE_ENV&&(c=this.constructor.propTypes)&&this._checkPropTypes(c,a,E.prop);return a},_checkPropTypes:function(a,c,e){var f=this.constructor.displayName,g;for(g in a)if(a.hasOwnProperty(g)){var h=a[g](c,g,f,e);if(h instanceof Error){var k;k=(k=this._owner||null)&&k.constructor&&k.constructor.displayName?" Check the render method of `"+k.constructor.displayName+"`.":"";"production"!==
b.env.NODE_ENV?z(!1,h.message+k):null}}},performUpdateIfNecessary:function(a){var c=this._compositeLifeCycleState;if(c!==I.MOUNTING&&c!==I.RECEIVING_PROPS&&(null!=this._pendingDescriptor||null!=this._pendingState||this._pendingForceUpdate)){var c=this.context,e=this.props,f=this._descriptor;null!=this._pendingDescriptor&&(f=this._pendingDescriptor,c=this._processContext(f._context),e=this._processProps(f.props),this._pendingDescriptor=null,this._compositeLifeCycleState=I.RECEIVING_PROPS,this.componentWillReceiveProps&&
this.componentWillReceiveProps(e,c));this._compositeLifeCycleState=I.RECEIVING_STATE;var g=this._pendingState||this.state;this._pendingState=null;try{var h=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(e,g,c);"production"!==b.env.NODE_ENV&&"undefined"===typeof h&&console.warn((this.constructor.displayName||"ReactCompositeComponent")+".shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.");h?(this._pendingForceUpdate=
!1,this._performComponentUpdate(f,e,g,c,a)):(this._descriptor=f,this.props=e,this.state=g,this.context=c,this._owner=f._owner)}finally{this._compositeLifeCycleState=null}}},_performComponentUpdate:function(a,b,c,e,f){var g=this._descriptor,h=this.props,k=this.state,d=this.context;this.componentWillUpdate&&this.componentWillUpdate(b,c,e);this._descriptor=a;this.props=b;this.state=c;this.context=e;this._owner=a._owner;this.updateComponent(f,g);this.componentDidUpdate&&f.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,
h,k,d),this)},receiveComponent:function(a,b){a===this._descriptor&&null!=a._owner||c.Mixin.receiveComponent.call(this,a,b)},updateComponent:t.measure("ReactCompositeComponent","updateComponent",function(a,b){c.Mixin.updateComponent.call(this,a,b);var e=this._renderedComponent,f=e._descriptor,g=this._renderValidatedComponent();if(J(f,g))e.receiveComponent(g,a);else{var h=this._rootNodeID,f=e._rootNodeID;e.unmountComponent();this._renderedComponent=C(g);e=this._renderedComponent.mountComponent(h,a,
this._mountDepth+1);c.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(f,e)}}),forceUpdate:function(a){var c=this._compositeLifeCycleState;"production"!==b.env.NODE_ENV?u(this.isMounted()||c===I.MOUNTING,"forceUpdate(...): Can only force an update on mounted or mounting components."):u(this.isMounted()||c===I.MOUNTING);"production"!==b.env.NODE_ENV?u(c!==I.RECEIVING_STATE&&c!==I.UNMOUNTING,"forceUpdate(...): Cannot force an update while unmounting component or during an existing state transition (such as within `render`)."):
u(c!==I.RECEIVING_STATE&&c!==I.UNMOUNTING);this._pendingForceUpdate=!0;x.enqueueUpdate(this,a)},_renderValidatedComponent:t.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var a,c=f.current;f.current=this._processChildContext(this._descriptor._context);e.current=this;try{a=this.render(),null===a||!1===a?(a=k.getEmptyComponent(),k.registerNullComponentID(this._rootNodeID)):k.deregisterNullComponentID(this._rootNodeID)}finally{f.current=c,e.current=null}"production"!==b.env.NODE_ENV?
u(h.isValidDescriptor(a),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.constructor.displayName||"ReactCompositeComponent"):u(h.isValidDescriptor(a));return a}),_bindAutoBindMethods:function(){for(var a in this.__reactAutoBindMap)this.__reactAutoBindMap.hasOwnProperty(a)&&(this[a]=this._bindAutoBindMethod(s.guard(this.__reactAutoBindMap[a],this.constructor.displayName+"."+a)))},_bindAutoBindMethod:function(a){var c=
this,e=function(){return a.apply(c,arguments)};if("production"!==b.env.NODE_ENV){e.__reactBoundContext=c;e.__reactBoundMethod=a;e.__reactBoundArguments=null;var f=c.constructor.displayName,g=e.bind;e.bind=function(b){var h=Array.prototype.slice.call(arguments,1);if(b!==c&&null!==b)G("react_bind_warning",{component:f}),console.warn("bind(): React component methods may only be bound to the component instance. See "+f);else if(!h.length)return G("react_bind_warning",{component:f}),console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+
f),e;var k=g.apply(e,arguments);k.__reactBoundContext=c;k.__reactBoundMethod=a;k.__reactBoundArguments=h;return k}}return e}},M=function(){};y(M,c.Mixin);y(M,q.Mixin);y(M,w.Mixin);y(M,ga);r.exports={LifeCycle:I,Base:M,createClass:function(a){var c=function(a,b){this.construct(a,b)};c.prototype=new M;c.prototype.constructor=c;K.forEach(n.bind(null,c));n(c,a);c.getDefaultProps&&(c.defaultProps=c.getDefaultProps());"production"!==b.env.NODE_ENV?u(c.prototype.render,"createClass(...): Class specification must implement a `render` method."):
u(c.prototype.render);"production"!==b.env.NODE_ENV&&c.prototype.componentShouldUpdate&&(G("react_component_should_update_warning",{component:a.displayName}),console.warn((a.displayName||"A component")+" has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value."));for(var e in L)c.prototype[e]||(c.prototype[e]=null);a=h.createFactory(c);return"production"!==b.env.NODE_ENV?g.createFactory(a,
c.propTypes,c.contextTypes):a},injection:{injectMixin:function(a){K.push(a)}}}}).call(q,d(42))},function(r,q,d){var b=d(44),m={current:{},withContext:function(d,p){var l,a=m.current;m.current=b(a,d);try{l=p()}finally{m.current=a}return l}};r.exports=m},function(r,q,d){r.exports={current:null}},function(r,q,d){(function(b){function m(a,c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[c]:null},set:function(a){"production"!==b.env.NODE_ENV?f(!1,
"Don't set the "+c+" property of the component. Mutate the existing props object instead."):null;this._store[c]=a}})}function n(a){try{var b={props:!0},c;for(c in b)m(a,c);e=!0}catch(f){}}function p(a,b){if("function"===typeof b)for(var c in b)if(b.hasOwnProperty(c)){var e=b[c];if("function"===typeof e){var f=e.bind(b),h;for(h in e)e.hasOwnProperty(h)&&(f[h]=e[h]);a[c]=f}else a[c]=e}}var l=d(20),a=d(21),c=d(44),f=d(50),e=!1,h=function(){};"production"!==b.env.NODE_ENV&&n(h.prototype);h.createFactory=
function(f){var k=Object.create(h.prototype),d=function(f,g){null==f?f={}:"object"===typeof f&&(f=c(f));var h=arguments.length-1;if(1===h)f.children=g;else if(1<h){for(var d=Array(h),m=0;m<h;m++)d[m]=arguments[m+1];f.children=d}h=Object.create(k);h._owner=a.current;h._context=l.current;if("production"!==b.env.NODE_ENV&&(h._store={validated:!1,props:f},e))return Object.freeze(h),h;h.props=f;return h};d.prototype=k;d.type=f;k.type=f;p(d,f);return k.constructor=d};h.cloneAndReplaceProps=function(a,c){var f=
Object.create(a.constructor.prototype);f._owner=a._owner;f._context=a._context;if("production"!==b.env.NODE_ENV&&(f._store={validated:a._store.validated,props:c},e))return Object.freeze(f),f;f.props=c;return f};h.isValidFactory=function(a){return"function"===typeof a&&a.prototype instanceof h};h.isValidDescriptor=function(a){return a instanceof h};r.exports=h}).call(q,d(42))},function(r,q,d){(function(b){var m=d(22),n=d(57),p=d(24),l=d(68),a=d(66)({a:!1,abbr:!1,address:!1,area:!0,article:!1,aside:!1,
audio:!1,b:!1,base:!0,bdi:!1,bdo:!1,big:!1,blockquote:!1,body:!1,br:!0,button:!1,canvas:!1,caption:!1,cite:!1,code:!1,col:!0,colgroup:!1,data:!1,datalist:!1,dd:!1,del:!1,details:!1,dfn:!1,div:!1,dl:!1,dt:!1,em:!1,embed:!0,fieldset:!1,figcaption:!1,figure:!1,footer:!1,form:!1,h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,head:!1,header:!1,hr:!0,html:!1,i:!1,iframe:!1,img:!0,input:!0,ins:!1,kbd:!1,keygen:!0,label:!1,legend:!1,li:!1,link:!0,main:!1,map:!1,mark:!1,menu:!1,menuitem:!1,meta:!0,meter:!1,nav:!1,noscript:!1,
object:!1,ol:!1,optgroup:!1,option:!1,output:!1,p:!1,param:!0,pre:!1,progress:!1,q:!1,rp:!1,rt:!1,ruby:!1,s:!1,samp:!1,script:!1,section:!1,select:!1,small:!1,source:!0,span:!1,strong:!1,style:!1,sub:!1,summary:!1,sup:!1,table:!1,tbody:!1,td:!1,textarea:!1,tfoot:!1,th:!1,thead:!1,time:!1,title:!1,tr:!1,track:!0,u:!1,ul:!1,"var":!1,video:!1,wbr:!0,circle:!1,defs:!1,ellipse:!1,g:!1,line:!1,linearGradient:!1,mask:!1,path:!1,pattern:!1,polygon:!1,polyline:!1,radialGradient:!1,rect:!1,stop:!1,svg:!1,text:!1,
tspan:!1},function(a,f){var e=function(a){this.construct(a)};e.prototype=new p(f,a);e.prototype.constructor=e;e.displayName=f;e=m.createFactory(e);return"production"!==b.env.NODE_ENV?n.createFactory(e):e});a.injection={injectComponentClasses:function(b){l(a,b)}};r.exports=a}).call(q,d(42))},function(r,q,d){(function(b){function m(a){a&&("production"!==b.env.NODE_ENV?t(null==a.children||null==a.dangerouslySetInnerHTML,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):t(null==a.children||
null==a.dangerouslySetInnerHTML),"production"!==b.env.NODE_ENV?t(null==a.style||"object"===typeof a.style,"The `style` prop expects a mapping from style properties to values, not a string."):t(null==a.style||"object"===typeof a.style))}function n(a,b,c,e){var f=g.findReactContainerForID(a);f&&C(b,1===f.nodeType?f.ownerDocument:f);e.getPutListenerQueue().enqueuePutListener(a,b,c)}function p(a,b){this._tagOpen="<"+a;this._tagClose=b?"":"</"+a+">";this.tagName=a.toUpperCase()}var l=d(69),a=d(47),c=d(15),
f=d(70),e=d(18),h=d(71),g=d(27),k=d(28),s=d(29),q=d(48),t=d(52),w=d(72),E=d(44),F=d(64),x=h.deleteListener,C=h.listenTo,u=h.registrationNameModules,A={string:!0,number:!0},B=w({style:null});p.Mixin={mountComponent:s.measure("ReactDOMComponent","mountComponent",function(a,b,c){e.Mixin.mountComponent.call(this,a,b,c);m(this.props);return this._createOpenTagMarkupAndPutListeners(b)+this._createContentMarkup(b)+this._tagClose}),_createOpenTagMarkupAndPutListeners:function(a){var b=this.props,e=this._tagOpen,
f;for(f in b)if(b.hasOwnProperty(f)){var g=b[f];null!=g&&(u.hasOwnProperty(f)?n(this._rootNodeID,f,g,a):(f===B&&(g&&(g=b.style=E(b.style)),g=l.createMarkupForStyles(g)),(g=c.createMarkupForProperty(f,g))&&(e+=" "+g)))}if(a.renderToStaticMarkup)return e+">";a=c.createMarkupForID(this._rootNodeID);return e+" "+a+">"},_createContentMarkup:function(a){var b=this.props.dangerouslySetInnerHTML;if(null!=b){if(null!=b.__html)return b.__html}else{var b=A[typeof this.props.children]?this.props.children:null,
c=null!=b?null:this.props.children;if(null!=b)return q(b);if(null!=c)return this.mountChildren(c,a).join("")}return""},receiveComponent:function(a,b){a===this._descriptor&&null!=a._owner||e.Mixin.receiveComponent.call(this,a,b)},updateComponent:s.measure("ReactDOMComponent","updateComponent",function(a,b){m(this._descriptor.props);e.Mixin.updateComponent.call(this,a,b);this._updateDOMProperties(b.props,a);this._updateDOMChildren(b.props,a)}),_updateDOMProperties:function(b,c){var f=this.props,g,h,
k;for(g in b)if(!f.hasOwnProperty(g)&&b.hasOwnProperty(g))if(g===B){var d=b[g];for(h in d)d.hasOwnProperty(h)&&(k=k||{},k[h]="")}else u.hasOwnProperty(g)?x(this._rootNodeID,g):(a.isStandardName[g]||a.isCustomAttribute(g))&&e.BackendIDOperations.deletePropertyByID(this._rootNodeID,g);for(g in f){var d=f[g],l=b[g];if(f.hasOwnProperty(g)&&d!==l)if(g===B)if(d&&(d=f.style=E(d)),l){for(h in l)!l.hasOwnProperty(h)||d&&d.hasOwnProperty(h)||(k=k||{},k[h]="");for(h in d)d.hasOwnProperty(h)&&l[h]!==d[h]&&(k=
k||{},k[h]=d[h])}else k=d;else u.hasOwnProperty(g)?n(this._rootNodeID,g,d,c):(a.isStandardName[g]||a.isCustomAttribute(g))&&e.BackendIDOperations.updatePropertyByID(this._rootNodeID,g,d)}k&&e.BackendIDOperations.updateStylesByID(this._rootNodeID,k)},_updateDOMChildren:function(a,b){var c=this.props,f=A[typeof a.children]?a.children:null,g=A[typeof c.children]?c.children:null,h=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,k=c.dangerouslySetInnerHTML&&c.dangerouslySetInnerHTML.__html,
c=null!=g?null:c.children,d=null!=f||null!=h,l=null!=g||null!=k;null!=(null!=f?null:a.children)&&null==c?this.updateChildren(null,b):d&&!l&&this.updateTextContent("");null!=g?f!==g&&this.updateTextContent(""+g):null!=k?h!==k&&e.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,k):null!=c&&this.updateChildren(c,b)},unmountComponent:function(){this.unmountChildren();h.deleteAllListeners(this._rootNodeID);e.Mixin.unmountComponent.call(this)}};F(p,e.Mixin);F(p,p.Mixin);F(p,k.Mixin);F(p,f);r.exports=
p}).call(q,d(42))},function(r,q,d){(function(b){var m=d(73),n=d(74),p=d(75),l=d(76),a=d(77),c=d(78),f=d(34),e=d(79),h=d(80),g=d(70),k=d(81),s=d(82),q=d(23),t=d(83),w=d(84),E=d(85),F=d(86),x=d(87),C=d(88),u=d(89),A=d(90),B=d(91),y=d(26),G=d(27),H=d(92),J=d(93),z=d(94),D=d(95),K=d(96);r.exports={inject:function(){B.EventEmitter.injectReactEventListener(A);B.EventPluginHub.injectEventPluginOrder(a);B.EventPluginHub.injectInstanceHandle(y);B.EventPluginHub.injectMount(G);B.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:z,
EnterLeaveEventPlugin:c,ChangeEventPlugin:n,CompositionEventPlugin:l,MobileSafariClickEventPlugin:h,SelectEventPlugin:H,BeforeInputEventPlugin:m});B.DOM.injectComponentClasses({button:t,form:w,img:E,input:F,option:x,select:C,textarea:u,html:K(q.html),head:K(q.head),body:K(q.body)});B.CompositeComponent.injectMixin(g);B.DOMProperty.injectDOMPropertyConfig(e);B.DOMProperty.injectDOMPropertyConfig(D);B.EmptyComponent.injectEmptyComponent(q.noscript);B.Updates.injectReconcileTransaction(k.ReactReconcileTransaction);
B.Updates.injectBatchingStrategy(s);B.RootIndex.injectCreateReactRootIndex(f.canUseDOM?p.createReactRootIndex:J.createReactRootIndex);B.Component.injectEnvironment(k);"production"!==b.env.NODE_ENV&&/[?&]react_perf\b/.test(f.canUseDOM&&window.location.href||"")&&d(97).start()}}}).call(q,d(42))},function(r,q,d){(function(b){function m(a,b){return"."===a.charAt(b)||b===a.length}function n(a){return""===a||"."===a.charAt(0)&&"."!==a.charAt(a.length-1)}function p(a,b){return 0===b.indexOf(a)&&m(b,a.length)}
function l(a){return a?a.substr(0,a.lastIndexOf(".")):""}function a(a,c){"production"!==b.env.NODE_ENV?h(n(a)&&n(c),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",a,c):h(n(a)&&n(c));"production"!==b.env.NODE_ENV?h(p(a,c),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",a,c):h(p(a,c));if(a===c)return a;for(var e=a.length+1;e<c.length&&!m(c,e);e++);return c.substr(0,e)}function c(a,c){var e=Math.min(a.length,
c.length);if(0===e)return"";for(var f=0,d=0;d<=e;d++)if(m(a,d)&&m(c,d))f=d;else if(a.charAt(d)!==c.charAt(d))break;e=a.substr(0,f);"production"!==b.env.NODE_ENV?h(n(e),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",a,c,e):h(n(e));return e}function f(c,e,f,d,m,n){c=c||"";e=e||"";"production"!==b.env.NODE_ENV?h(c!==e,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",c):h(c!==e);var q=p(e,c);"production"!==b.env.NODE_ENV?h(q||p(c,e),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",
c,e):h(q||p(c,e));for(var r=0,x=q?l:a,C=c;;C=x(C,e)){var u;m&&C===c||n&&C===e||(u=f(C,q,d));if(!1===u||C===e)break;"production"!==b.env.NODE_ENV?h(100>r++,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",c,e):h(100>r++)}}var e=d(98),h=d(52);r.exports={createReactRootID:function(){return"."+e.createReactRootIndex().toString(36)},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&
"."===a.charAt(0)&&1<a.length){var b=a.indexOf(".",1);return-1<b?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,e,h,d){var l=c(a,b);l!==a&&f(a,l,e,h,!1,!0);l!==b&&f(l,b,e,d,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(f("",a,b,c,!0,!1),f(a,"",b,c,!1,!0))},traverseAncestors:function(a,b,c){f("",a,b,c,!0,!1)},_getFirstCommonAncestorID:c,_getNextDescendantID:a,isAncestorIDOf:p,SEPARATOR:"."}}).call(q,d(42))},function(r,q,d){(function(b){function m(a){return(a=s(a))&&H.getID(a)}function n(a){return a&&
a.getAttribute&&a.getAttribute(x)||""}function p(a,c){if(a){"production"!==b.env.NODE_ENV?t(n(a)===c,"ReactMount: Unexpected modification of `%s`",x):t(n(a)===c);var e=H.findReactContainerForID(c);if(e&&k(e,a))return!0}return!1}function l(a){var b=C[a];if(b&&p(b,a))G=b;else return!1}var a=d(47),c=d(71),f=d(21),e=d(22),h=d(26),g=d(29),k=d(99),s=d(100),q=d(63),t=d(52),w=d(67),E=d(50),F=h.SEPARATOR,x=a.ID_ATTRIBUTE_NAME,C={},u={},A={};if("production"!==b.env.NODE_ENV)var B={};var y=[],G=null,H={_instancesByReactRootID:u,
scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,c,e,f){var g=c.props;H.scrollMonitor(e,function(){a.replaceProps(g,f)});"production"!==b.env.NODE_ENV&&(B[m(e)]=s(e));return a},_registerComponent:function(a,e){"production"!==b.env.NODE_ENV?t(e&&(1===e.nodeType||9===e.nodeType),"_registerComponent(...): Target container is not a DOM element."):t(e&&(1===e.nodeType||9===e.nodeType));c.ensureScrollValueMonitoring();var f=H.registerContainer(e);u[f]=a;return f},_renderNewRootComponent:g.measure("ReactMount",
"_renderNewRootComponent",function(a,c,e){"production"!==b.env.NODE_ENV?E(null==f.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;a=q(a);var g=H._registerComponent(a,c);a.mountComponentIntoNode(g,c,e);"production"!==b.env.NODE_ENV&&(B[g]=s(c));return a}),renderComponent:function(a,c,f){"production"!==b.env.NODE_ENV?t(e.isValidDescriptor(a),
"renderComponent(): Invalid component descriptor.%s",e.isValidFactory(a)?" Instead of passing a component class, make sure to instantiate it first by calling it with props.":"undefined"!==typeof a.props?" This may be caused by unintentionally loading two independent copies of React.":""):t(e.isValidDescriptor(a));var g=u[m(c)];if(g){if(w(g._descriptor,a))return H._updateRootComponent(g,a,c,f);H.unmountComponentAtNode(c)}var h=s(c),g=h&&H.isRenderedByReact(h)&&!g;a=H._renderNewRootComponent(a,c,g);
f&&f.call(a);return a},constructAndRenderComponent:function(a,b,c){return H.renderComponent(a(b),c)},constructAndRenderComponentByID:function(a,c,e){var f=document.getElementById(e);"production"!==b.env.NODE_ENV?t(f,'Tried to get element with id of "%s" but it is not present on the page.',e):t(f);return H.constructAndRenderComponent(a,c,f)},registerContainer:function(a){var b=m(a);b&&(b=h.getReactRootIDFromNodeID(b));b||(b=h.createReactRootID());A[b]=a;return b},unmountComponentAtNode:function(a){"production"!==
b.env.NODE_ENV?E(null==f.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;var c=m(a),e=u[c];if(!e)return!1;H.unmountComponentFromNode(e,a);delete u[c];delete A[c];"production"!==b.env.NODE_ENV&&delete B[c];return!0},unmountComponentFromNode:function(a,b){a.unmountComponent();9===b.nodeType&&(b=b.documentElement);for(;b.lastChild;)b.removeChild(b.lastChild)},
findReactContainerForID:function(a){a=h.getReactRootIDFromNodeID(a);var c=A[a];if("production"!==b.env.NODE_ENV){var e=B[a];if(e&&e.parentNode!==c){"production"!==b.env.NODE_ENV?t(n(e)===a,"ReactMount: Root element ID differed from reactRootID."):t(n(e)===a);var f=c.firstChild;f&&a===n(f)?B[a]=f:console.warn("ReactMount: Root element has been removed from its original container. New container:",e.parentNode)}}return c},findReactNodeByID:function(a){var b=H.findReactContainerForID(a);return H.findComponentRoot(b,
a)},isRenderedByReact:function(a){return 1!==a.nodeType?!1:(a=H.getID(a))?a.charAt(0)===F:!1},getFirstReactDOM:function(a){for(;a&&a.parentNode!==a;){if(H.isRenderedByReact(a))return a;a=a.parentNode}return null},findComponentRoot:function(a,c){var e=0;G=null;h.traverseAncestors(c,l);var f=G;G=null;y[0]=(f||a).firstChild;for(y.length=1;e<y.length;){for(var f=y[e++],g;f;){var d=H.getID(f);d?c===d?g=f:h.isAncestorIDOf(d,c)&&(y.length=e=0,y.push(f.firstChild)):y.push(f.firstChild);f=f.nextSibling}if(g)return y.length=
0,g}y.length=0;"production"!==b.env.NODE_ENV?t(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting <p> or <a> tags, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",c,H.getID(a)):t(!1)},getReactRootID:m,getID:function(a){var c=n(a);if(c)if(C.hasOwnProperty(c)){var e=C[c];e!==a&&("production"!==
b.env.NODE_ENV?t(!p(e,c),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",x,c):t(!p(e,c)),C[c]=a)}else C[c]=a;return c},setID:function(a,b){var c=n(a);c!==b&&delete C[c];a.setAttribute(x,b);C[b]=a},getNode:function(a){C.hasOwnProperty(a)&&p(C[a],a)||(C[a]=H.findReactNodeByID(a));return C[a]},purgeID:function(a){delete C[a]}};r.exports=H}).call(q,d(42))},function(r,q,d){function b(){e.length&&(n.BackendIDOperations.dangerouslyProcessChildrenUpdates(e,h),m())}function m(){e.length=0;
h.length=0}var n=d(18),p=d(101),l=d(102),a=d(63),c=d(67),f=0,e=[],h=[];r.exports={Mixin:{mountChildren:function(b,c){var e=l(b),f=[],h=0;this._renderedChildren=e;for(var d in e){var m=e[d];if(e.hasOwnProperty(d)){m=a(m);e[d]=m;var p=m.mountComponent(this._rootNodeID+d,c,this._mountDepth+1);m._mountIndex=h;f.push(p);h++}}return f},updateTextContent:function(a){f++;var c=!0;try{var e=this._renderedChildren,h;for(h in e)e.hasOwnProperty(h)&&this._unmountChildByName(e[h],h);this.setTextContent(a);c=!1}finally{f--,
f||(c?m():b())}},updateChildren:function(a,c){f++;var e=!0;try{this._updateChildren(a,c),e=!1}finally{f--,f||(e?m():b())}},_updateChildren:function(b,e){var f=l(b),h=this._renderedChildren;if(f||h){var d,m=0,p=0;for(d in f)if(f.hasOwnProperty(d)){var n=h&&h[d],q=f[d];c(n&&n._descriptor,q)?(this.moveChild(n,p,m),m=Math.max(n._mountIndex,m),n.receiveComponent(q,e),n._mountIndex=p):(n&&(m=Math.max(n._mountIndex,m),this._unmountChildByName(n,d)),n=a(q),this._mountChildByNameAtIndex(n,d,p,e));p++}for(d in h)!h.hasOwnProperty(d)||
f&&f[d]||this._unmountChildByName(h[d],d)}},unmountChildren:function(){var a=this._renderedChildren,b;for(b in a){var c=a[b];c.unmountComponent&&c.unmountComponent()}this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&e.push({parentID:this._rootNodeID,parentNode:null,type:p.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:a._mountIndex,toIndex:b})},createChild:function(a,b){var c=a._mountIndex;e.push({parentID:this._rootNodeID,parentNode:null,type:p.INSERT_MARKUP,markupIndex:h.push(b)-
1,textContent:null,fromIndex:null,toIndex:c})},removeChild:function(a){e.push({parentID:this._rootNodeID,parentNode:null,type:p.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:a._mountIndex,toIndex:null})},setTextContent:function(a){e.push({parentID:this._rootNodeID,parentNode:null,type:p.TEXT_CONTENT,markupIndex:null,textContent:a,fromIndex:null,toIndex:null})},_mountChildByNameAtIndex:function(a,b,c,e){e=a.mountComponent(this._rootNodeID+b,e,this._mountDepth+1);a._mountIndex=c;this.createChild(a,
e);this._renderedChildren=this._renderedChildren||{};this._renderedChildren[b]=a},_unmountChildByName:function(a,b){this.removeChild(a);a._mountIndex=null;a.unmountComponent();delete this._renderedChildren[b]}}}},function(r,q,d){(function(b){var d={enableMeasure:!1,storedMeasure:function(b,d,l){return l},measure:function(n,p,l){if("production"!==b.env.NODE_ENV){var a=null;return function(){return d.enableMeasure?(a||(a=d.storedMeasure(n,p,l)),a.apply(this,arguments)):l.apply(this,arguments)}}return l},
injection:{injectMeasure:function(b){d.storedMeasure=b}}};r.exports=d}).call(q,d(42))},function(r,q,d){function b(b){function f(e,f,d,l,m){l=l||"<<anonymous>>";if(null==f[d]){if(f=a[m],e)return Error("Required "+f+" `"+d+"` was not specified in "+("`"+l+"`."))}else return b(f,d,l,m)}var e=f.bind(null,!1);e.isRequired=f.bind(null,!0);return e}function m(c){return b(function(b,e,h,g){b=b[e];if(p(b)!==c){g=a[g];a:{var d=p(b);if("object"===d)if(b instanceof Date){b="date";break a}else if(b instanceof
RegExp){b="regexp";break a}b=d}return Error("Invalid "+g+" `"+e+"` of type `"+b+"` "+("supplied to `"+h+"`, expected `"+c+"`."))}})}function n(a){switch(typeof a){case "number":case "string":return!0;case "boolean":return!a;case "object":if(Array.isArray(a))return a.every(n);if(l.isValidDescriptor(a))return!0;for(var b in a)if(!n(a[b]))return!1;return!0;default:return!1}}function p(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":b}var l=d(22),a=d(62);q=d(103);q={array:m("array"),
bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),any:b(q.thatReturns()),arrayOf:function(c){return b(function(b,e,h,g){b=b[e];if(!Array.isArray(b))return g=a[g],b=p(b),Error("Invalid "+g+" `"+e+"` of type "+("`"+b+"` supplied to `"+h+"`, expected an array."));for(e=0;e<b.length;e++){var d=c(b,e,h,g);if(d instanceof Error)return d}})},component:function(){return b(function(b,f,e,h){if(!l.isValidDescriptor(b[f]))return Error("Invalid "+a[h]+" `"+f+"` supplied to "+
("`"+e+"`, expected a React component."))})}(),instanceOf:function(c){return b(function(b,e,h,g){if(!(b[e]instanceof c))return Error("Invalid "+a[g]+" `"+e+"` supplied to "+("`"+h+"`, expected instance of `"+(c.name||"<<anonymous>>")+"`."))})},objectOf:function(c){return b(function(b,e,h,g){b=b[e];var d=p(b);if("object"!==d)return Error("Invalid "+a[g]+" `"+e+"` of type "+("`"+d+"` supplied to `"+h+"`, expected an object."));for(var l in b)if(b.hasOwnProperty(l)&&(e=c(b,l,h,g),e instanceof Error))return e})},
oneOf:function(c){return b(function(b,e,h,g){b=b[e];for(var d=0;d<c.length;d++)if(b===c[d])return;g=a[g];d=JSON.stringify(c);return Error("Invalid "+g+" `"+e+"` of value `"+b+"` "+("supplied to `"+h+"`, expected one of "+d+"."))})},oneOfType:function(c){return b(function(b,e,h,g){for(var d=0;d<c.length;d++)if(null==(0,c[d])(b,e,h,g))return;return Error("Invalid "+a[g]+" `"+e+"` supplied to "+("`"+h+"`."))})},renderable:function(){return b(function(b,f,e,h){if(!n(b[f]))return Error("Invalid "+a[h]+
" `"+f+"` supplied to "+("`"+e+"`, expected a renderable prop."))})}(),shape:function(c){return b(function(b,e,h,g){b=b[e];var d=p(b);if("object"!==d)return Error("Invalid "+a[g]+" `"+e+"` of type `"+d+"` "+("supplied to `"+h+"`, expected `object`."));for(var l in c)if(e=c[l])if(e=e(b,l,h,g))return e},"expected `object`")}};r.exports=q},function(r,q,d){(function(b){var m=d(22),n=d(26),p=d(104),l=d(105),a=d(63),c=d(52);r.exports={renderComponentToString:function(f){"production"!==b.env.NODE_ENV?c(m.isValidDescriptor(f),
"renderComponentToString(): You must pass a valid ReactComponent."):c(m.isValidDescriptor(f));"production"!==b.env.NODE_ENV?c(!(2===arguments.length&&"function"===typeof arguments[1]),"renderComponentToString(): This function became synchronous and now returns the generated markup. Please remove the second parameter."):c(!(2===arguments.length&&"function"===typeof arguments[1]));var e;try{var h=n.createReactRootID();e=l.getPooled(!1);return e.perform(function(){var b=a(f).mountComponent(h,e,0);return p.addChecksumToMarkup(b)},
null)}finally{l.release(e)}},renderComponentToStaticMarkup:function(f){"production"!==b.env.NODE_ENV?c(m.isValidDescriptor(f),"renderComponentToStaticMarkup(): You must pass a valid ReactComponent."):c(m.isValidDescriptor(f));var e;try{var h=n.createReactRootID();e=l.getPooled(!0);return e.perform(function(){return a(f).mountComponent(h,e,0)},null)}finally{l.release(e)}}}}).call(q,d(42))},function(r,q,d){var b=d(15);q=d(70);var m=d(18),n=d(22),p=d(48);d=d(64);var l=function(a){this.construct(a)};
d(l,m.Mixin);d(l,q);d(l,{mountComponent:function(a,c,f){m.Mixin.mountComponent.call(this,a,c,f);f=p(this.props);return c.renderToStaticMarkup?f:"<span "+b.createMarkupForID(a)+">"+f+"</span>"},receiveComponent:function(a,b){var f=a.props;f!==this.props&&(this.props=f,m.BackendIDOperations.updateTextContentByID(this._rootNodeID,f))}});r.exports=n.createFactory(l)},function(r,q,d){(function(b){var m=d(22),n=d(52);r.exports=function(d){"production"!==b.env.NODE_ENV?n(m.isValidDescriptor(d),"onlyChild must be passed a children with exactly one child."):
n(m.isValidDescriptor(d));return d}}).call(q,d(42))},function(r,q,d){q=!("undefined"===typeof window||!window.document||!window.document.createElement);r.exports={canUseDOM:q,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:q&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:q&&!!window.screen,isInWorker:!q}},function(r,q,d){var b,m,n;n=d(8);b=d(36);m=d(37);r.exports={CollisionObject:function(){function d(b,a,c){this.o=b;this.collisionType=a;this.collisionProperties=c;
this.collisionRevision=0;this.cachedLimits=this.limitsRevision=void 0}d.Type={RECT:"rect",LINE:"line",CIRCLE:"circle"};d.prototype.updateCollisionProperties=function(b){this.collisionRevision++;return this.collisionProperties=n.assign(this.collisionProperties,b)};d.prototype.limits=function(){var b,a;this.collisionRevision!==this.limitsRevision&&(this.limitsRevision=this.collisionRevision,this.cachedLimits=function(){switch(this.collisionType){case d.Type.RECT:return b=n.min(this.collisionProperties.corners,
"x").x,a=n.min(this.collisionProperties.corners,"y").y,this.cachedLimits={x:b,y:a,width:n.max(this.collisionProperties.corners,"x").x-b,height:n.max(this.collisionProperties.corners,"y").y-a,o:this.o};case d.Type.LINE:return{x:Math.min(this.collisionProperties.start.x,this.collisionProperties.end.x),y:Math.min(this.collisionProperties.start.y,this.collisionProperties.end.y),width:Math.abs(this.collisionProperties.start.x-this.collisionProperties.end.x),height:Math.abs(this.collisionProperties.start.y-
this.collisionProperties.end.y),o:this.o};case d.Type.CIRCLE:return{x:this.collisionProperties.center.x-this.collisionProperties.radius,y:this.collisionProperties.center.y-this.collisionProperties.radius,width:2*this.collisionProperties.radius,height:2*this.collisionProperties.radius,o:this.o}}}.call(this));return this.cachedLimits};d.prototype.collide=function(b){var a,c;a=this.limits();c=b.limits();if(null!=a&&null!=c&&(a.x+a.width<c.x||c.x+c.width<a.x)&&(a.y+a.height<c.y||c.y+c.height<a.y))return!1;
switch(this.collisionType){case d.Type.CIRCLE:switch(b.collisionType){case d.Type.RECT:return this.rectCircleCollision(b.collisionProperties,this.collisionProperties)}break;case d.Type.RECT:switch(b.collisionType){case d.Type.RECT:return this.rectRectIntersection(this.collisionProperties,b.collisionProperties);case d.Type.LINE:return this.rectRectIntersection(this.collisionProperties,this.rectPropsFromLine(b.collisionProperties));case d.Type.CIRCLE:return this.rectCircleCollision(this.collisionProperties,
b.collisionProperties)}break;case d.Type.LINE:switch(b.collisionType){case d.Type.RECT:return this.rectRectIntersection(this.rectPropsFromLine(this.collisionProperties),b.collisionProperties);case d.Type.LINE:return this.rectRectIntersection(this.rectPropsFromLine(this.collisionProperties),this.rectPropsFromLine(b.collisionProperties))}}};d.prototype.rectCircleCollision=function(d,a){var c,f,e,h,g,k;f=d.corners;e=c=0;for(k=f.length;c<k;e=c+=1)if(b.length2(f[e],a.center)<=a.radius*a.radius)return!0;
e=c=0;for(k=f.length;c<k;e=c+=1)if(g=f[e],e=f[(e+1)%f.length],h=b.distanceToLine(a.center,g,e),e=h.distance2,g=h.lineProj2,h=h.length2,0<g&&g<h&&e<=a.radius*a.radius)return!0;c=[b.subtractPoints(f[3],f[0]),b.subtractPoints(f[3],f[2])];f=[b.project(b.subtractPoints(a.center,f[0]),c[0]),b.project(b.subtractPoints(a.center,f[2]),c[1])];return 0>f[0].dotProduct||b.lengthV2(f[0].projected)>b.lengthV2(c[0])||0>f[1].dotProduct||b.lengthV2(f[1].projected)>b.lengthV2(c[1])?!1:!0};d.prototype.rectPropsFromLine=
function(d){var a;a=b.subtractPoints(d.end,d.start);a={x:-a.y,y:a.x};a=b.multVScalar(a,.5*d.width/b.lengthV(a));return{corners:[b.addPoints(d.start,a),b.subtractPoints(d.start,a),b.subtractPoints(d.end,a),b.addPoints(d.end,a)]}};d.prototype.rectRectIntersection=function(d,a){var c,f,e,h,g,k,p,q,r,w,E,F,x,C,u,A;h=d.corners;g=a.corners;c=[b.subtractPoints(h[3],h[0]),b.subtractPoints(h[3],h[2]),b.subtractPoints(g[0],g[1]),b.subtractPoints(g[0],g[3])];e=[];u=0;for(A=c.length;u<A;u++){f=c[u];p=[];C=[];
q=0;for(E=h.length;q<E;q++)k=h[q],p.push(b.project(k,f).projected);q=0;for(E=g.length;q<E;q++)k=g[q],C.push(b.project(k,f).projected);E=[];k=[];F=0;for(r=p.length;F<r;F++)q=p[F],E.push(b.dotProduct(q,f));r=0;for(F=C.length;r<F;r++)q=C[r],k.push(b.dotProduct(q,f));q=m.extendedMax(E);f=q[0];q=q[1];F=m.extendedMin(E);E=F[0];F=F[1];w=m.extendedMax(k);r=w[0];w=w[1];x=m.extendedMin(k);k=x[0];x=x[1];if(f<k||r<E)return!1;k=b.subtractPoints(p[q],C[x]);p=b.subtractPoints(C[w],p[F]);b.lengthV2(k)<b.lengthV2(p)?
e.push(k):e.push(b.multVScalar(p,-1))}c=n.min(e,function(a){return b.lengthV2(a)});return b.multVScalar(c,-1)};return d}()}},function(r,q,d){r.exports={doLineSegmentsIntersect:function(b,d,n,p,l){d=this.subtractPoints(d,b);p=this.subtractPoints(p,n);var a=this.crossProduct(this.subtractPoints(n,b),d),c=this.crossProduct(d,p);if(0==a&&0==c||0==c)return!1;a/=c;n=this.crossProduct(this.subtractPoints(n,b),p)/c;return(l=l?.001<n&&.999>n&&.001<a&&.999>a:0<=n&&1>=n&&0<=a&&1>=a)?{x:b.x+n*d.x,y:b.y+n*d.y,
t:n}:l},crossProduct:function(b,d){return b.x*d.y-b.y*d.x},subtractPoints:function(b,d){var n={};n.x=b.x-d.x;n.y=b.y-d.y;return n},equalV:function(b,d){var n=this.subtractPoints(b,d);return 1E-8>this.lengthV2(n)},addPoints:function(b,d){var n={};n.x=b.x+d.x;n.y=b.y+d.y;return n},dotProduct:function(b,d){return b.x*d.x+b.y*d.y},length:function(b,d){var n=this.subtractPoints(d,b);return this.lengthV(n)},length2:function(b,d){var n=this.subtractPoints(d,b);return this.lengthV2(n)},lengthV:function(b){return Math.sqrt(this.lengthV2(b))},
lengthV2:function(b){return b.x*b.x+b.y*b.y},angleBetween:function(b,d){angleRad=Math.acos((b.x*d.x+b.y*d.y)/(this.lengthV(b)*this.lengthV(d)));return angleDeg=180*angleRad/Math.PI},sign:function(b){return 0<b?1:0>b?-1:0},fractionBetween:function(b,d,n){d=this.subtractPoints(d,b);return{x:b.x+d.x*n,y:b.y+d.y*n}},sinDegrees:function(b){return Math.sin(b*Math.PI/180)},cosDegrees:function(b){return Math.cos(b*Math.PI/180)},atanDegrees:function(b){return 180*Math.atan(b)/Math.PI},randomRange:function(b,
d){return Math.random()*(d-b)+b},multVScalar:function(b,d){return{x:b.x*d,y:b.y*d}},divVScalar:function(b,d){return{x:b.x/d,y:b.y/d}},oldDistanceToLine:function(b,d,n){var p=this.subtractPoints(n,d);n=this.lengthV(p);var l=this.divVScalar(p,n),p=this.dotProduct(this.subtractPoints(d,b),l),l=this.multVScalar(l,p);d=this.subtractPoints(this.subtractPoints(d,b),l);return{distance:this.lengthV(d),pointOnLine:this.addPoints(b,d),lineProj:-p,length:n}},newDistanceToLine:function(b,d,n){var p=this.subtractPoints(b,
d);n=this.subtractPoints(n,d);var p=this.project(p,n),l=p.projected;d=this.addPoints(d,l);return{distance:this.length(d,b),pointOnLine:d,lineProj:this.sign(p.dotProduct)*this.lengthV(l),length:this.lengthV(n)}},distanceToLine:function(b,d,n){var p=this.subtractPoints(b,d);n=this.subtractPoints(n,d);var p=this.project(p,n),l=p.projected;d=this.addPoints(d,l);return{distance2:this.length2(d,b),pointOnLine:d,lineProj2:this.sign(p.dotProduct)*this.lengthV2(l),length2:this.lengthV2(n)}},project:function(b,
d){var n=this.dotProduct(b,d);return{dotProduct:n,projected:this.multVScalar(d,n/this.lengthV2(d))}}}},function(r,q,d){var b;b=d(8);r.exports={defaultFor:function(d,n,p){var l;l=p?b.cloneDeep(d):d;n=p?b.cloneDeep(n):n;return"undefined"!==typeof d?l:n},joinArrayGeneric:function(b,d){var p,l,a,c;p=b.slice(0);l=a=1;for(c=2*p.length-1;a<c;l=a+=2)p.splice(l,0,d);return p},addArrayPushListener:function(b,d){return b.push=function(){var b,l,a;b=l=0;for(a=arguments.length-1;l<=a;b=l+=1)this[this.length]=
arguments[b],d();return this.length}},minDegreeDifference:function(b,d){var p;p=Math.abs(b-d)%180;return Math.min(p,Math.abs(p-180))},extendedMin:function(d,n){var p,l;null==n&&(n=function(a){return a});p=void 0;l=0;b.each(d,function(a,b){if(null==p||n(a)<n(p))return p=a,l=b});return[p,l]},extendedMax:function(d,n){var p,l;null==n&&(n=function(a){return a});p=void 0;l=0;b.each(d,function(a,b){if(null==p||n(a)>n(p))return p=a,l=b});return[p,l]},PriorityQueue:function(){function d(){this.list=[]}d.prototype.put=
function(d,m){var l,a;a={item:d,priority:m};l=b.findIndex(this.list,function(b){return b.priority>a.priority});return-1===l?this.list.push(a):this.list.splice(l,0,a)};d.prototype.get=function(){return this.list.shift().item};d.prototype.length=function(){return this.list.length};return d}()}},function(r,q,d){var b,m;m=d(37);b=d(107);r.exports={PathLocation:function(){return function(b,d){this.o=b;this.fraction=d}}(),calc:function(){var d;d=function(b,d,a,c){var f,e;e=f=void 0;if(a.o===c.o)return d=
Math.abs(a.fraction-c.fraction),d*b.cost();b===a.o&&(f=a.fraction);d===c.o&&(e=c.fraction);return b.costTo(d,f)+d.costTo(b,e)};return{find:function(p,l){var a,c,f,e,h,g,k,s,q;e=new m.PriorityQueue;e.put(p.o,0);a=new b;a.put(p.o,null);c=new b;for(c.put(p.o,0);0<e.length();){f=e.get();if(f===l.o)break;q=f.neighbours();k=0;for(s=q.length;k<s;k++)if(g=q[k],h=c.get(f)+d(f,g,p,l),null==c.get(g)||h<c.get(g))c.put(g,h),e.put(g,h),a.put(g,f)}console.log("path cost: "+c.get(l.o));f=l.o;for(c=[f];f!==p.o;)f=
a.get(f),c.unshift(f);return c}}}()}},function(r,q,d){(function(b){function d(a,b,c){this.x=a;this.y=b;this.z=c}function n(a){return a*a*a*(a*(6*a-15)+10)}function p(a,b,c){return(1-c)*a+c*b}b=b.noise={};d.prototype.dot2=function(a,b){return this.x*a+this.y*b};d.prototype.dot3=function(a,b,c){return this.x*a+this.y*b+this.z*c};var l=[new d(1,1,0),new d(-1,1,0),new d(1,-1,0),new d(-1,-1,0),new d(1,0,1),new d(-1,0,1),new d(1,0,-1),new d(-1,0,-1),new d(0,1,1),new d(0,-1,1),new d(0,1,-1),new d(0,-1,-1)],
a=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,
85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],c=Array(512),f=Array(512);b.seed=function(b){0<b&&1>b&&(b*=65536);b=Math.floor(b);256>
b&&(b|=b<<8);for(var e=0;256>e;e++){var d;d=e&1?a[e]^b&255:a[e]^b>>8&255;c[e]=c[e+256]=d;f[e]=f[e+256]=l[d%12]}};b.seed(0);var e=.5*(Math.sqrt(3)-1),h=(3-Math.sqrt(3))/6,g=1/3,k=1/6;b.simplex2=function(a,b){var d,g,k;k=(a+b)*e;var l=Math.floor(a+k),m=Math.floor(b+k);k=(l+m)*h;d=a-l+k;var p=b-m+k,n,q;d>p?(n=1,q=0):(n=0,q=1);g=d-n+h;var r=p-q+h;k=d-1+2*h;var y=p-1+2*h,l=l&255,m=m&255,G=f[l+c[m]];n=f[l+n+c[m+q]];l=f[l+1+c[m+1]];m=.5-d*d-p*p;0>m?d=0:(m*=m,d=m*m*G.dot2(d,p));p=.5-g*g-r*r;0>p?g=0:(p*=p,
g=p*p*n.dot2(g,r));r=.5-k*k-y*y;0>r?k=0:(r*=r,k=r*r*l.dot2(k,y));return 70*(d+g+k)};b.simplex3=function(a,b,e){var d,h,l=(a+b+e)*g,m=Math.floor(a+l);d=Math.floor(b+l);var p=Math.floor(e+l),l=(m+d+p)*k;h=a-m+l;var n=b-d+l,q=e-p+l,r,y,G,H,J,z;h>=n?n>=q?(r=1,G=y=0,J=H=1,z=0):(h>=q?(r=1,G=y=0):(y=r=0,G=1),H=1,J=0,z=1):n<q?(y=r=0,G=1,H=0,z=J=1):h<q?(r=0,y=1,H=G=0,z=J=1):(r=0,y=1,G=0,J=H=1,z=0);var D=h-r+k,K=n-y+k,L=q-G+k;a=h-H+2*k;var N=n-J+2*k,I=q-z+2*k;e=h-1+3*k;b=n-1+3*k;l=q-1+3*k;m&=255;d&=255;var p=
p&255,ga=f[m+c[d+c[p]]];r=f[m+r+c[d+y+c[p+G]]];H=f[m+H+c[d+J+c[p+z]]];m=f[m+1+c[d+1+c[p+1]]];d=.6-h*h-n*n-q*q;0>d?d=0:(d*=d,d=d*d*ga.dot3(h,n,q));h=.6-D*D-K*K-L*L;0>h?h=0:(h*=h,h=h*h*r.dot3(D,K,L));p=.6-a*a-N*N-I*I;0>p?a=0:(p*=p,a=p*p*H.dot3(a,N,I));N=.6-e*e-b*b-l*l;0>N?e=0:(N*=N,e=N*N*m.dot3(e,b,l));return 32*(d+h+a+e)};b.perlin2=function(a,b){var e=Math.floor(a),d=Math.floor(b);a-=e;b-=d;var e=e&255,d=d&255,g=f[e+c[d]].dot2(a,b),h=f[e+c[d+1]].dot2(a,b-1),k=f[e+1+c[d]].dot2(a-1,b),e=f[e+1+c[d+1]].dot2(a-
1,b-1),d=n(a);return p(p(g,k,d),p(h,e,d),n(b))};b.perlin3=function(a,b,e){var d=Math.floor(a),g=Math.floor(b),h=Math.floor(e);a-=d;b-=g;e-=h;var d=d&255,g=g&255,h=h&255,k=f[d+c[g+c[h]]].dot3(a,b,e),l=f[d+c[g+c[h+1]]].dot3(a,b,e-1),m=f[d+c[g+1+c[h]]].dot3(a,b-1,e),q=f[d+c[g+1+c[h+1]]].dot3(a,b-1,e-1),r=f[d+1+c[g+c[h]]].dot3(a-1,b,e),y=f[d+1+c[g+c[h+1]]].dot3(a-1,b,e-1),G=f[d+1+c[g+1+c[h]]].dot3(a-1,b-1,e),d=f[d+1+c[g+1+c[h+1]]].dot3(a-1,b-1,e-1);a=n(a);b=n(b);e=n(e);return p(p(p(k,r,a),p(l,y,a),e),
p(p(m,G,a),p(q,d,a),e),b)}})(r.exports)},function(r,q,d){(function(b,d){function n(b,d,a,c){this.max_objects=d||10;this.max_levels=a||4;this.level=c||0;this.bounds=b;this.objects=[];this.nodes=[]}n.prototype.split=function(){var b=this.level+1,l=d.round(this.bounds.width/2),a=d.round(this.bounds.height/2),c=d.round(this.bounds.x),f=d.round(this.bounds.y);this.nodes[0]=new n({x:c+l,y:f,width:l,height:a},this.max_objects,this.max_levels,b);this.nodes[1]=new n({x:c,y:f,width:l,height:a},this.max_objects,
this.max_levels,b);this.nodes[2]=new n({x:c,y:f+a,width:l,height:a},this.max_objects,this.max_levels,b);this.nodes[3]=new n({x:c+l,y:f+a,width:l,height:a},this.max_objects,this.max_levels,b)};n.prototype.getIndex=function(b){var d=-1,a=this.bounds.x+this.bounds.width/2,c=this.bounds.y+this.bounds.height/2,f=b.y<c&&b.y+b.height<c,c=b.y>c;b.x<a&&b.x+b.width<a?f?d=1:c&&(d=2):b.x>a&&(f?d=0:c&&(d=3));return d};n.prototype.insert=function(b){var d=0,a;if("undefined"!==typeof this.nodes[0]&&(a=this.getIndex(b),
-1!==a)){this.nodes[a].insert(b);return}this.objects.push(b);if(this.objects.length>this.max_objects&&this.level<this.max_levels)for("undefined"===typeof this.nodes[0]&&this.split();d<this.objects.length;)a=this.getIndex(this.objects[d]),-1!==a?this.nodes[a].insert(this.objects.splice(d,1)[0]):d+=1};n.prototype.retrieve=function(b){var d=this.getIndex(b),a=this.objects;if("undefined"!==typeof this.nodes[0])if(-1!==d)a=a.concat(this.nodes[d].retrieve(b));else for(d=0;d<this.nodes.length;d+=1)a=a.concat(this.nodes[d].retrieve(b));
return a};n.prototype.clear=function(){this.objects=[];for(var b=0;b<this.nodes.length;b+=1)"undefined"!==typeof this.nodes[b]&&(this.nodes[b].clear(),delete this.nodes[b])};b.Quadtree=n})(r.exports,Math)},function(r,q,d){var b;(function(m){(function(m,p,l,a,c,f,e,h,g){function k(b){var c,e=b.length,f=this,d=0,g=f.i=f.j=0,h=f.S=[];for(e||(b=[e++]);d<a;)h[d]=d++;for(d=0;d<a;d++)h[d]=h[g=C&g+b[d%e]+(c=h[d])],h[g]=c;(f.g=function(b){for(var c,e=0,d=f.i,g=f.j,h=f.S;b--;)c=h[d=C&d+1],e=e*a+h[C&(h[d]=h[g=
C&g+c])+(h[g]=c)];f.i=d;f.j=g;return e})(a)}function s(a,b){var c=[],e=typeof a,f;if(b&&"object"==e)for(f in a)try{c.push(s(a[f],b-1))}catch(d){}return c.length?c:"string"==e?a:a+"\x00"}function r(a,b){for(var c=a+"",e,f=0;f<c.length;)b[C&f]=C&(e^=19*b[C&f])+c.charCodeAt(f++);return w(b)}function t(b){try{return m.crypto.getRandomValues(b=new Uint8Array(a)),w(b)}catch(c){return[+new Date,m,(b=m.navigator)&&b.plugins,m.screen,w(p)]}}function w(a){return String.fromCharCode.apply(0,a)}var E=l.pow(a,
c),F=l.pow(2,f),x=2*F,C=a-1,u=l["seed"+g]=function(b,e,f){var d=[];e=1==e?{entropy:!0}:e||{};b=r(s(e.entropy?[b,w(p)]:null==b?t():b,3),d);var h=new k(d);r(w(h.S),p);return(e.pass||f||function(a,b,c){return c?(l[g]=a,b):a})(function(){for(var b=h.g(c),e=E,f=0;b<F;)b=(b+f)*a,e*=a,f=h.g(1);for(;b>=x;)b/=2,e/=2,f>>>=1;return(b+f)/e},b,"global"in e?e.global:this==l)};r(l[g](),p);e&&e.exports?e.exports=u:d(108)&&d(109)&&!(b=function(){return u}.call(q,d,q,e),void 0!==b&&(e.exports=b))})(this,[],Math,256,
6,52,"object"==typeof m&&m,d(108),"random")}).call(q,d(106)(r))},function(r,q,d){function b(){}r=r.exports={};r.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(b){return window.setImmediate(b)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var b=[];window.addEventListener("message",function(d){var p=d.source;p!==window&&null!==p||"process-tick"!==d.data||(d.stopPropagation(),0<b.length&&b.shift()())},!0);return function(d){b.push(d);
window.postMessage("process-tick","*")}}return function(b){setTimeout(b,0)}}();r.title="browser";r.browser=!0;r.env={};r.argv=[];r.on=b;r.addListener=b;r.once=b;r.off=b;r.removeListener=b;r.removeAllListeners=b;r.emit=b;r.binding=function(b){throw Error("process.binding is not supported");};r.cwd=function(){return"/"};r.chdir=function(b){throw Error("process.chdir is not supported");}},function(r,q,d){(function(b){var m=d(52);r.exports=function(d){var p={},l;"production"!==b.env.NODE_ENV?m(d instanceof
Object&&!Array.isArray(d),"keyMirror(...): Argument must be an object."):m(d instanceof Object&&!Array.isArray(d));for(l in d)d.hasOwnProperty(l)&&(p[l]=l);return p}}).call(q,d(42))},function(r,q,d){var b=d(68);r.exports=function(d,n){var p={};b(p,d);b(p,n);return p}},function(r,q,d){function b(){this.$Dispatcher_callbacks={};this.$Dispatcher_isPending={};this.$Dispatcher_isHandled={};this.$Dispatcher_isDispatching=!1;this.$Dispatcher_pendingPayload=null}var m=d(111),n=1;b.prototype.register=function(b){var d=
"ID_"+n++;this.$Dispatcher_callbacks[d]=b;return d};b.prototype.unregister=function(b){m(this.$Dispatcher_callbacks[b],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",b);delete this.$Dispatcher_callbacks[b]};b.prototype.waitFor=function(b){m(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var d=0;d<b.length;d++){var a=b[d];this.$Dispatcher_isPending[a]?m(this.$Dispatcher_isHandled[a],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",
a):(m(this.$Dispatcher_callbacks[a],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",a),this.$Dispatcher_invokeCallback(a))}};b.prototype.dispatch=function(b){m(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this.$Dispatcher_startDispatching(b);try{for(var d in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[d]||this.$Dispatcher_invokeCallback(d)}finally{this.$Dispatcher_stopDispatching()}};b.prototype.isDispatching=
function(){return this.$Dispatcher_isDispatching};b.prototype.$Dispatcher_invokeCallback=function(b){this.$Dispatcher_isPending[b]=!0;this.$Dispatcher_callbacks[b](this.$Dispatcher_pendingPayload);this.$Dispatcher_isHandled[b]=!0};b.prototype.$Dispatcher_startDispatching=function(b){for(var d in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[d]=!1,this.$Dispatcher_isHandled[d]=!1;this.$Dispatcher_pendingPayload=b;this.$Dispatcher_isDispatching=!0};b.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=
null;this.$Dispatcher_isDispatching=!1};r.exports=b},function(r,q,d){(function(b){r.exports=function(d,n,p,l,a,c,f){d=d||{};if("production"!==b.env.NODE_ENV&&f)throw Error("Too many arguments passed to copyProperties");n=[n,p,l,a,c];for(p=0;n[p];){l=n[p++];for(var e in l)d[e]=l[e];l.hasOwnProperty&&l.hasOwnProperty("toString")&&"undefined"!=typeof l.toString&&d.toString!==l.toString&&(d.toString=l.toString)}return d}}).call(q,d(42))},function(r,q,d){(function(b){var m=d(52),n={MUST_USE_ATTRIBUTE:1,
MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var c=a.Properties||{},f=a.DOMAttributeNames||{},e=a.DOMPropertyNames||{},d=a.DOMMutationMethods||{};a.isCustomAttribute&&l._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var g in c)"production"!==b.env.NODE_ENV?m(!l.isStandardName.hasOwnProperty(g),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",
g):m(!l.isStandardName.hasOwnProperty(g)),l.isStandardName[g]=!0,a=g.toLowerCase(),l.getPossibleStandardName[a]=g,f.hasOwnProperty(g)&&(a=f[g],l.getPossibleStandardName[a]=g),l.getAttributeName[g]=a,l.getPropertyName[g]=e.hasOwnProperty(g)?e[g]:g,d.hasOwnProperty(g)?l.getMutationMethod[g]=d[g]:l.getMutationMethod[g]=null,a=c[g],l.mustUseAttribute[g]=a&n.MUST_USE_ATTRIBUTE,l.mustUseProperty[g]=a&n.MUST_USE_PROPERTY,l.hasSideEffects[g]=a&n.HAS_SIDE_EFFECTS,l.hasBooleanValue[g]=a&n.HAS_BOOLEAN_VALUE,
l.hasNumericValue[g]=a&n.HAS_NUMERIC_VALUE,l.hasPositiveNumericValue[g]=a&n.HAS_POSITIVE_NUMERIC_VALUE,l.hasOverloadedBooleanValue[g]=a&n.HAS_OVERLOADED_BOOLEAN_VALUE,"production"!==b.env.NODE_ENV?m(!l.mustUseAttribute[g]||!l.mustUseProperty[g],"DOMProperty: Cannot require using both attribute and property: %s",g):m(!l.mustUseAttribute[g]||!l.mustUseProperty[g]),"production"!==b.env.NODE_ENV?m(l.mustUseProperty[g]||!l.hasSideEffects[g],"DOMProperty: Properties that have side effects must use property: %s",
g):m(l.mustUseProperty[g]||!l.hasSideEffects[g]),"production"!==b.env.NODE_ENV?m(1>=!!l.hasBooleanValue[g]+!!l.hasNumericValue[g]+!!l.hasOverloadedBooleanValue[g],"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",g):m(1>=!!l.hasBooleanValue[g]+!!l.hasNumericValue[g]+!!l.hasOverloadedBooleanValue[g])}},p={},l={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},
mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<l._isCustomAttributeFunctions.length;b++)if((0,l._isCustomAttributeFunctions[b])(a))return!0;return!1},getDefaultValueForProperty:function(a,b){var f=p[a],e;f||(p[a]=f={});b in f||(e=document.createElement(a),f[b]=e[b]);return f[b]},injection:n};r.exports=l}).call(q,d(42))},
function(r,q,d){function b(b){return m[b]}var m={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},n=/[&><"']/g;r.exports=function(d){return(""+d).replace(n,b)}},function(r,q,d){r.exports=function(b){var d={};return function(n){return d.hasOwnProperty(n)?d[n]:d[n]=b.call(this,n)}}},function(r,q,d){(function(b){var m=d(103);"production"!==b.env.NODE_ENV&&(m=function(b,d){var l=Array.prototype.slice.call(arguments,2);if(void 0===d)throw Error("`warning(condition, format, ...args)` requires a warning message argument");
if(!b){var a=0;console.warn("Warning: "+d.replace(/%s/g,function(){return l[a++]}))}});r.exports=m}).call(q,d(42))},function(r,q,d){q=d(43);d=q({bubbled:null,captured:null});q={topLevelTypes:q({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,
topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),PropagationPhases:d};r.exports=q},function(r,q,d){(function(b){r.exports=function(d,n,p,l,a,c,f,e){if("production"!==b.env.NODE_ENV&&
void 0===n)throw Error("invariant requires an error message argument");if(!d){if(void 0===n)d=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[p,l,a,c,f,e],g=0;d=Error("Invariant Violation: "+n.replace(/%s/g,function(){return h[g++]}))}d.framesToPop=1;throw d;}}}).call(q,d(42))},function(r,q,d){(function(b){var m=d(52),n=function(b){if(this.instancePool.length){var a=this.instancePool.pop();this.call(a,
b);return a}return new this(b)},p=function(d){"production"!==b.env.NODE_ENV?m(d instanceof this,"Trying to release an instance into a pool of a different type."):m(d instanceof this);d.destructor&&d.destructor();this.instancePool.length<this.poolSize&&this.instancePool.push(d)};r.exports={addPoolingTo:function(b,a){b.instancePool=[];b.getPooled=a||n;b.poolSize||(b.poolSize=10);b.release=p;return b},oneArgumentPooler:n,twoArgumentPooler:function(b,a){if(this.instancePool.length){var c=this.instancePool.pop();
this.call(c,b,a);return c}return new this(b,a)},threeArgumentPooler:function(b,a,c){if(this.instancePool.length){var f=this.instancePool.pop();this.call(f,b,a,c);return f}return new this(b,a,c)},fiveArgumentPooler:function(b,a,c,f,e){if(this.instancePool.length){var d=this.instancePool.pop();this.call(d,b,a,c,f,e);return d}return new this(b,a,c,f,e)}}}).call(q,d(42))},function(r,q,d){(function(b){function m(a){return f[a]}function n(a,b){return a&&a.props&&null!=a.props.key?"$"+(""+a.props.key).replace(e,
m):b.toString(36)}var p=d(26),l=d(32),a=d(52),c=p.SEPARATOR,f={"=":"=0",".":"=1",":":"=2"},e=/[=.:]/g,h=function(f,d,p,q,r){var w=0;if(Array.isArray(f))for(var E=0;E<f.length;E++)var F=f[E],x=d+(d?":":c)+n(F,E),w=w+h(F,x,p+w,q,r);else if(F=typeof f,E=""===d?c+n(f,0):d,null==f||"boolean"===F)q(r,null,E,p),w=1;else if(f.type&&f.type.prototype&&f.type.prototype.mountComponentIntoNode)q(r,f,E,p),w=1;else if("object"===F)for(x in"production"!==b.env.NODE_ENV?a(!f||1!==f.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components."):
a(!f||1!==f.nodeType),f)f.hasOwnProperty(x)&&(w+=h(f[x],d+(d?":":c)+("$"+(""+x).replace(e,m))+":"+n(f[x],0),p+w,q,r));else"string"===F?(f=l(f),q(r,f,E,p),w+=1):"number"===F&&(f=l(""+f),q(r,f,E,p),w+=1);return w};r.exports=function(a,b,c){return null==a?0:h(a,"",0,b,c)}}).call(q,d(42))},function(r,q,d){(function(b){var m=d(112),n=d(52),p={isValidOwner:function(b){return!(!b||"function"!==typeof b.attachRef||"function"!==typeof b.detachRef)},addComponentAsRefTo:function(d,a,c){"production"!==b.env.NODE_ENV?
n(p.isValidOwner(c),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):n(p.isValidOwner(c));c.attachRef(a,d)},removeComponentAsRefFrom:function(d,a,c){"production"!==b.env.NODE_ENV?n(p.isValidOwner(c),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):
n(p.isValidOwner(c));c.refs[a]===d&&c.detachRef(a)},Mixin:{construct:function(){this.refs=m},attachRef:function(d,a){"production"!==b.env.NODE_ENV?n(a.isOwnedBy(this),"attachRef(%s, ...): Only a component's owner can store a ref to it.",d):n(a.isOwnedBy(this));(this.refs===m?this.refs={}:this.refs)[d]=a},detachRef:function(b){delete this.refs[b]}}};r.exports=p}).call(q,d(42))},function(r,q,d){(function(b){function m(){"production"!==b.env.NODE_ENV?k(x.ReactReconcileTransaction&&w,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):
k(x.ReactReconcileTransaction&&w)}function n(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=c.getPooled(null);this.reconcileTransaction=x.ReactReconcileTransaction.getPooled()}function p(a,b){return a._mountDepth-b._mountDepth}function l(a){var c=a.dirtyComponentsLength;"production"!==b.env.NODE_ENV?k(c===t.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",c,t.length):k(c===t.length);t.sort(p);
for(var e=0;e<c;e++){var f=t[e];if(f.isMounted()){var d=f._pendingCallbacks;f._pendingCallbacks=null;f.performUpdateIfNecessary(a.reconcileTransaction);if(d)for(var g=0;g<d.length;g++)a.callbackQueue.enqueue(d[g],f)}}}function a(c,f){"production"!==b.env.NODE_ENV?k(!f||"function"===typeof f,"enqueueUpdate(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):k(!f||"function"===typeof f);m();"production"!==b.env.NODE_ENV?q(null==
e.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;w.isBatchingUpdates?(t.push(c),f&&(c._pendingCallbacks?c._pendingCallbacks.push(f):c._pendingCallbacks=[f])):w.batchedUpdates(a,c,f)}var c=d(113),f=d(53),e=d(21),h=d(29),g=d(114),k=d(52),s=d(64),q=d(50),t=[],w=null,E=[{initialize:function(){this.dirtyComponentsLength=t.length},close:function(){this.dirtyComponentsLength!==
t.length?(t.splice(0,this.dirtyComponentsLength),F()):t.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];s(n,g.Mixin);s(n,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null;c.release(this.callbackQueue);this.callbackQueue=null;x.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null},perform:function(a,b,c){return g.Mixin.perform.call(this,this.reconcileTransaction.perform,
this.reconcileTransaction,a,b,c)}});f.addPoolingTo(n);var F=h.measure("ReactUpdates","flushBatchedUpdates",function(){for(;t.length;){var a=n.getPooled();a.perform(l,null,a);n.release(a)}}),x={ReactReconcileTransaction:null,batchedUpdates:function(a,b,c){m();w.batchedUpdates(a,b,c)},enqueueUpdate:a,flushBatchedUpdates:F,injection:{injectReconcileTransaction:function(a){"production"!==b.env.NODE_ENV?k(a,"ReactUpdates: must provide a reconcile transaction class"):k(a);x.ReactReconcileTransaction=a},
injectBatchingStrategy:function(a){"production"!==b.env.NODE_ENV?k(a,"ReactUpdates: must provide a batching strategy"):k(a);"production"!==b.env.NODE_ENV?k("function"===typeof a.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"):k("function"===typeof a.batchedUpdates);"production"!==b.env.NODE_ENV?k("boolean"===typeof a.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):k("boolean"===typeof a.isBatchingUpdates);w=a}}};r.exports=x}).call(q,
d(42))},function(r,q,d){function b(){var b=a.current;return b&&b.constructor.displayName||void 0}function m(e,d,g,h){var l=b(),m=h.displayName;h=l||m;var p=f[e];p.hasOwnProperty(h)||(p[h]=!0,d+=l?" Check the render method of "+l+".":" Check the renderComponent call using <"+m+">.",l=null,g._owner&&g._owner!==a.current&&(l=g._owner.constructor.displayName,d+=" It was passed a child from "+l+"."),d+=" See http://fb.me/react-warning-keys for more information.",c(e,{component:h,componentOwner:l}),console.warn(d))}
function n(a,b,e,f){for(var d in b)if(b.hasOwnProperty(d)){var g;try{g=b[d](e,d,a,f)}catch(l){g=l}g instanceof Error&&!(g.message in h)&&(h[g.message]=!0,c("react_failed_descriptor_type_check",{message:g.message}))}}var p=d(22),l=d(61),a=d(21),c=d(65),f={react_key_warning:{},react_numeric_key_warning:{}},e={},h={},g=/^\d+$/;r.exports={createFactory:function(a,f,d){var h=function(h,q){for(var r=a.apply(this,arguments),t=1;t<arguments.length;t++){var w=arguments[t],A=r.type;if(Array.isArray(w))for(var B=
0;B<w.length;B++){var y=w[B];if(p.isValidDescriptor(y)){var G=A;y._store.validated||null!=y.props.key||(y._store.validated=!0,m("react_key_warning",'Each child in an array should have a unique "key" prop.',y,G))}}else if(p.isValidDescriptor(w))w._store.validated=!0;else if(w&&"object"===typeof w)for(B in B=b()||"",e.hasOwnProperty(B)||(e[B]=!0,c("react_object_map_children")),B=void 0,w)y=w[B],G=A,g.test(B)&&m("react_numeric_key_warning","Child objects should have non-numeric keys so ordering is preserved.",
y,G)}t=r.type.displayName;f&&n(t,f,r.props,l.prop);d&&n(t,d,r._context,l.context);return r};h.prototype=a.prototype;h.type=a.type;for(var q in a)a.hasOwnProperty(q)&&(h[q]=a[q]);return h}}},function(r,q,d){(function(b){var m=d(52),n,p={};r.exports={deregisterNullComponentID:function(b){delete p[b]},getEmptyComponent:function(){"production"!==b.env.NODE_ENV?m(n,"Trying to return null from a render, but no null placeholder component was injected."):m(n);return n()},injection:{injectEmptyComponent:function(b){n=
b}},isNullComponentID:function(b){return p[b]},registerNullComponentID:function(b){p[b]=!0}}}).call(q,d(42))},function(r,q,d){r.exports={guard:function(b,d){return b}}},function(r,q,d){(function(b){function m(a){return function(b,c,e){b.hasOwnProperty(c)?b[c]=a(b[c],e):b[c]=e}}function n(a,b){for(var c in b)if(b.hasOwnProperty(c)){var f=e[c];f&&e.hasOwnProperty(c)?f(a,c,b[c]):a.hasOwnProperty(c)||(a[c]=b[c])}return a}var p=d(103),l=d(52),a=d(115),c=d(44),f=m(function(a,b){return c(b,a)}),e={children:p,
className:m(a),key:p,ref:p,style:f};r.exports={TransferStrategies:e,mergeProps:function(a,b){return n(c(a),b)},Mixin:{transferPropsTo:function(a){"production"!==b.env.NODE_ENV?l(a._owner===this,"%s: You can't call transferPropsTo() on a component that you don't own, %s. This usually means you are calling transferPropsTo() on a component passed in as props or children.",this.constructor.displayName,a.type.displayName):l(a._owner===this);n(a.props,this.props);return a}}}}).call(q,d(42))},function(r,
q,d){q=d(43)({prop:null,context:null,childContext:null});r.exports=q},function(r,q,d){(function(b){var d={};"production"!==b.env.NODE_ENV&&(d={prop:"prop",context:"context",childContext:"child context"});r.exports=d}).call(q,d(42))},function(r,q,d){(function(b){function m(b){return b&&"function"===typeof b.type&&"function"===typeof b.type.prototype.mountComponent&&"function"===typeof b.type.prototype.receiveComponent}var n=d(52);r.exports=function(d){"production"!==b.env.NODE_ENV?n(m(d),"Only React Components are valid for mounting."):
n(m(d));return new d.type(d)}}).call(q,d(42))},function(r,q,d){r.exports=function(b,d){for(var n in d)d.hasOwnProperty(n)&&(b.prototype[n]=d[n])}},function(r,q,d){(function(b){var m=d(52);r.exports=function(d,p){"production"!==b.env.NODE_ENV?m(d&&!/[^a-z0-9_]/.test(d),"You must provide an eventName using only the characters [a-z0-9_]"):m(d&&!/[^a-z0-9_]/.test(d))}}).call(q,d(42))},function(r,q,d){r.exports=function(b,d,n){if(!b)return null;var p=0,l={},a;for(a in b)b.hasOwnProperty(a)&&(l[a]=d.call(n,
b[a],a,p++));return l}},function(r,q,d){r.exports=function(b,d){return b&&d&&b.type===d.type&&(b.props&&b.props.key)===(d.props&&d.props.key)&&b._owner===d._owner?!0:!1}},function(r,q,d){q=d(116);var b=q.checkMergeObjectArg,m=q.checkMergeIntoObjectArg;r.exports=function(d,p){m(d);if(null!=p){b(p);for(var l in p)p.hasOwnProperty(l)&&(d[l]=p[l])}}},function(r,q,d){var b=d(117),m=d(118),n=d(119),p=d(49)(function(b){return n(b)});r.exports={createMarkupForStyles:function(b){var a="",c;for(c in b)if(b.hasOwnProperty(c)){var f=
b[c];null!=f&&(a+=p(c)+":",a+=m(c,f)+";")}return a||null},setValueForStyles:function(d,a){var c=d.style,f;for(f in a)if(a.hasOwnProperty(f)){var e=m(f,a[f]);if(e)c[f]=e;else if(e=b.shorthandPropertyExpansions[f])for(var h in e)c[h]="";else c[f]=""}}}},function(r,q,d){(function(b){var m=d(58),n=d(27),p=d(52);r.exports={getDOMNode:function(){"production"!==b.env.NODE_ENV?p(this.isMounted(),"getDOMNode(): A component must be mounted to have a DOM node."):p(this.isMounted());return m.isNullComponentID(this._rootNodeID)?
null:n.getNode(this._rootNodeID)}}}).call(q,d(42))},function(r,q,d){var b=d(51);q=d(120);var m=d(121),n=d(122),p=d(123),l=d(124);d=d(44);var a={},c=!1,f=0,e={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",
topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},h="_reactListenersID"+
String(Math.random()).slice(2),g=d(n,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(g.handleTopLevel);g.ReactEventListener=a}},setEnabled:function(a){g.ReactEventListener&&g.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(c,d){var p;Object.prototype.hasOwnProperty.call(d,h)||(d[h]=f++,a[d[h]]={});p=a[d[h]];for(var n=m.registrationNameDependencies[c],q=b.topLevelTypes,
r=0,F=n.length;r<F;r++){var x=n[r];p.hasOwnProperty(x)&&p[x]||(x===q.topWheel?l("wheel")?g.ReactEventListener.trapBubbledEvent(q.topWheel,"wheel",d):l("mousewheel")?g.ReactEventListener.trapBubbledEvent(q.topWheel,"mousewheel",d):g.ReactEventListener.trapBubbledEvent(q.topWheel,"DOMMouseScroll",d):x===q.topScroll?l("scroll",!0)?g.ReactEventListener.trapCapturedEvent(q.topScroll,"scroll",d):g.ReactEventListener.trapBubbledEvent(q.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):x===q.topFocus||
x===q.topBlur?(l("focus",!0)?(g.ReactEventListener.trapCapturedEvent(q.topFocus,"focus",d),g.ReactEventListener.trapCapturedEvent(q.topBlur,"blur",d)):l("focusin")&&(g.ReactEventListener.trapBubbledEvent(q.topFocus,"focusin",d),g.ReactEventListener.trapBubbledEvent(q.topBlur,"focusout",d)),p[q.topBlur]=!0,p[q.topFocus]=!0):e.hasOwnProperty(x)&&g.ReactEventListener.trapBubbledEvent(x,e[x],d),p[x]=!0)}},trapBubbledEvent:function(a,b,c){return g.ReactEventListener.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,
b,c){return g.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){c||(g.ReactEventListener.monitorScrollValue(p.refreshScrollValues),c=!0)},eventNameDispatchConfigs:q.eventNameDispatchConfigs,registrationNameModules:q.registrationNameModules,putListener:q.putListener,getListener:q.getListener,deleteListener:q.deleteListener,deleteAllListeners:q.deleteAllListeners});r.exports=g},function(r,q,d){r.exports=function(b){for(var d in b)if(b.hasOwnProperty(d))return d;return null}},
function(r,q,d){function b(){var a=window.opera;return"object"===typeof a&&"function"===typeof a.version&&12>=parseInt(a.version(),10)}q=d(51);var m=d(125),n=d(34),p=d(126);d=d(72);var l=n.canUseDOM&&"TextEvent"in window&&!("documentMode"in document||b()),a=String.fromCharCode(32),c=q.topLevelTypes,f={beforeInput:{phasedRegistrationNames:{bubbled:d({onBeforeInput:null}),captured:d({onBeforeInputCapture:null})},dependencies:[c.topCompositionEnd,c.topKeyPress,c.topTextInput,c.topPaste]}},e=null;r.exports=
{eventTypes:f,extractEvents:function(b,d,k,n){if(l)switch(b){case c.topKeyPress:b=n.which;if(32!==b)return;b=String.fromCharCode(b);break;case c.topTextInput:b=n.data;if(b===a)return;break;default:return}else{switch(b){case c.topPaste:e=null;break;case c.topKeyPress:n.which&&(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey)&&(e=String.fromCharCode(n.which));break;case c.topCompositionEnd:e=n.data}if(null===e)return;b=e}if(b)return k=p.getPooled(f.beforeInput,k,n),k.data=b,e=null,m.accumulateTwoPhaseDispatches(k),
k}}},function(r,q,d){function b(a){a=w.getPooled(C.change,A,a);s.accumulateTwoPhaseDispatches(a);t.batchedUpdates(m,a)}function m(a){k.enqueueEvents(a);k.processEventQueue()}function n(){u&&(u.detachEvent("onchange",b),A=u=null)}function p(a,b,c){if(a===x.topChange)return c}function l(a,c,e){a===x.topFocus?(n(),u=c,A=e,u.attachEvent("onchange",b)):a===x.topBlur&&n()}function a(){u&&(delete u.value,u.detachEvent("onpropertychange",c),y=B=A=u=null)}function c(a){if("value"===a.propertyName){var c=a.srcElement.value;
c!==B&&(B=c,b(a))}}function f(a,b,c){if(a===x.topInput)return c}function e(b,e,f){b===x.topFocus?(a(),u=e,A=f,B=e.value,y=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(u,"value",J),u.attachEvent("onpropertychange",c)):b===x.topBlur&&a()}function h(a,b,c){if((a===x.topSelectionChange||a===x.topKeyUp||a===x.topKeyDown)&&u&&u.value!==B)return B=u.value,A}function g(a,b,c){if(a===x.topClick)return c}q=d(51);var k=d(120),s=d(125),v=d(34),t=d(56),w=d(127),E=d(124),
F=d(128);d=d(72);var x=q.topLevelTypes,C={change:{phasedRegistrationNames:{bubbled:d({onChange:null}),captured:d({onChangeCapture:null})},dependencies:[x.topBlur,x.topChange,x.topClick,x.topFocus,x.topInput,x.topKeyDown,x.topKeyUp,x.topSelectionChange]}},u=null,A=null,B=null,y=null,G=!1;v.canUseDOM&&(G=E("change")&&(!("documentMode"in document)||8<document.documentMode));var H=!1;v.canUseDOM&&(H=E("input")&&(!("documentMode"in document)||9<document.documentMode));var J={get:function(){return y.get.call(this)},
set:function(a){B=""+a;y.set.call(this,a)}};r.exports={eventTypes:C,extractEvents:function(a,b,c,d){var k,m;"SELECT"===b.nodeName||"INPUT"===b.nodeName&&"file"===b.type?G?k=p:m=l:F(b)?H?k=f:(k=h,m=e):"INPUT"!==b.nodeName||"checkbox"!==b.type&&"radio"!==b.type||(k=g);if(k&&(k=k(a,b,c)))return a=w.getPooled(C.change,k,d),s.accumulateTwoPhaseDispatches(a),a;m&&m(a,b,c)}}},function(r,q,d){var b=0;r.exports={createReactRootIndex:function(){return b++}}},function(r,q,d){function b(a,b){switch(a){case g.topKeyUp:return-1!==
f.indexOf(b.keyCode);case g.topKeyDown:return 229!==b.keyCode;case g.topKeyPress:case g.topMouseDown:case g.topBlur:return!0;default:return!1}}function m(a){this.root=a;this.startSelection=l.getSelection(a);this.startValue=this.getText()}q=d(51);var n=d(125),p=d(34),l=d(129),a=d(130),c=d(131);d=d(72);var f=[9,13,27,32],e=p.canUseDOM&&"CompositionEvent"in window,h=!e||"documentMode"in document&&8<document.documentMode&&11>=document.documentMode,g=q.topLevelTypes,k=null,s={compositionEnd:{phasedRegistrationNames:{bubbled:d({onCompositionEnd:null}),
captured:d({onCompositionEndCapture:null})},dependencies:[g.topBlur,g.topCompositionEnd,g.topKeyDown,g.topKeyPress,g.topKeyUp,g.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:d({onCompositionStart:null}),captured:d({onCompositionStartCapture:null})},dependencies:[g.topBlur,g.topCompositionStart,g.topKeyDown,g.topKeyPress,g.topKeyUp,g.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:d({onCompositionUpdate:null}),captured:d({onCompositionUpdateCapture:null})},dependencies:[g.topBlur,
g.topCompositionUpdate,g.topKeyDown,g.topKeyPress,g.topKeyUp,g.topMouseDown]}};m.prototype.getText=function(){return this.root.value||this.root[c()]};m.prototype.getData=function(){var a=this.getText(),b=this.startSelection.start;return a.substr(b,a.length-(this.startValue.length-this.startSelection.end)-b)};r.exports={eventTypes:s,extractEvents:function(c,f,d,l){var p,q;if(e)a:{switch(c){case g.topCompositionStart:p=s.compositionStart;break a;case g.topCompositionEnd:p=s.compositionEnd;break a;case g.topCompositionUpdate:p=
s.compositionUpdate;break a}p=void 0}else k?b(c,l)&&(p=s.compositionEnd):c===g.topKeyDown&&229===l.keyCode&&(p=s.compositionStart);h&&(k||p!==s.compositionStart?p===s.compositionEnd&&k&&(q=k.getData(),k=null):k=new m(f));if(p)return c=a.getPooled(p,d,l),q&&(c.data=q),n.accumulateTwoPhaseDispatches(c),c}}},function(r,q,d){q=d(72);q=[q({ResponderEventPlugin:null}),q({SimpleEventPlugin:null}),q({TapEventPlugin:null}),q({EnterLeaveEventPlugin:null}),q({ChangeEventPlugin:null}),q({SelectEventPlugin:null}),
q({CompositionEventPlugin:null}),q({BeforeInputEventPlugin:null}),q({AnalyticsEventPlugin:null}),q({MobileSafariClickEventPlugin:null})];r.exports=q},function(r,q,d){q=d(51);var b=d(125),m=d(132),n=d(27);d=d(72);var p=q.topLevelTypes,l=n.getFirstReactDOM,a={mouseEnter:{registrationName:d({onMouseEnter:null}),dependencies:[p.topMouseOut,p.topMouseOver]},mouseLeave:{registrationName:d({onMouseLeave:null}),dependencies:[p.topMouseOut,p.topMouseOver]}},c=[null,null];r.exports={eventTypes:a,extractEvents:function(f,
e,d,g){if(f===p.topMouseOver&&(g.relatedTarget||g.fromElement)||f!==p.topMouseOut&&f!==p.topMouseOver)return null;d=e.window===e?e:(d=e.ownerDocument)?d.defaultView||d.parentWindow:window;f===p.topMouseOut?(f=e,e=l(g.relatedTarget||g.toElement)||d):f=d;if(f===e)return null;d=f?n.getID(f):"";var k=e?n.getID(e):"",q=m.getPooled(a.mouseLeave,d,g);q.type="mouseleave";q.target=f;q.relatedTarget=e;g=m.getPooled(a.mouseEnter,k,g);g.type="mouseenter";g.target=e;g.relatedTarget=f;b.accumulateEnterLeaveDispatches(q,
g,d,k);c[0]=q;c[1]=g;return c}}},function(r,q,d){var b=d(47),m=d(34);d=b.injection.MUST_USE_ATTRIBUTE;q=b.injection.MUST_USE_PROPERTY;var n=b.injection.HAS_BOOLEAN_VALUE,p=b.injection.HAS_SIDE_EFFECTS,l=b.injection.HAS_NUMERIC_VALUE,a=b.injection.HAS_POSITIVE_NUMERIC_VALUE,b=b.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c;m.canUseDOM&&(c=(c=document.implementation)&&c.hasFeature&&c.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));c={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),
Properties:{accept:null,accessKey:null,action:null,allowFullScreen:d|n,allowTransparency:d,alt:null,async:n,autoComplete:null,autoPlay:n,cellPadding:null,cellSpacing:null,charSet:d,checked:q|n,className:c?d:q,cols:d|a,colSpan:null,content:null,contentEditable:null,contextMenu:d,controls:q|n,coords:null,crossOrigin:null,data:null,dateTime:d,defer:n,dir:null,disabled:d|n,download:b,draggable:null,encType:null,form:d,formNoValidate:n,frameBorder:d,height:d,hidden:d|n,href:null,hrefLang:null,htmlFor:null,
httpEquiv:null,icon:null,id:q,label:null,lang:null,list:null,loop:q|n,max:null,maxLength:d,mediaGroup:null,method:null,min:null,multiple:q|n,muted:q|n,name:null,noValidate:n,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:q|n,rel:null,required:n,role:d,rows:d|a,rowSpan:null,sandbox:null,scope:null,scrollLeft:q,scrolling:null,scrollTop:q,seamless:d|n,selected:q|n,shape:null,size:d|a,span:a,spellCheck:null,src:null,srcDoc:q,srcSet:null,start:l,step:null,style:null,tabIndex:null,
target:null,title:null,type:null,useMap:null,value:q|p,width:d,wmode:d,autoCapitalize:null,autoCorrect:null,itemProp:d,itemScope:d|n,itemType:d,property:null},DOMAttributeNames:{className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};r.exports=
c},function(r,q,d){q=d(51);var b=d(103),m=q.topLevelTypes;r.exports={eventTypes:null,extractEvents:function(d,p,l,a){d===m.topTouchStart&&(d=a.target)&&!d.onclick&&(d.onclick=b)}}},function(r,q,d){(function(b){var m=d(133),n=d(104),p=d(27),l=d(29),a=d(134),c=d(100),f=d(52),e=d(135),m={ReactReconcileTransaction:a,BackendIDOperations:m,unmountIDFromEnvironment:function(a){p.purgeID(a)},mountImageIntoNode:l.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(a,d,k){"production"!==
b.env.NODE_ENV?f(d&&(1===d.nodeType||9===d.nodeType),"mountComponentIntoNode(...): Target container is not valid."):f(d&&(1===d.nodeType||9===d.nodeType));if(k){if(n.canReuseMarkup(a,c(d)))return;"production"!==b.env.NODE_ENV?f(9!==d.nodeType,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side."):
f(9!==d.nodeType);"production"!==b.env.NODE_ENV&&console.warn("React attempted to use reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server.")}"production"!==b.env.NODE_ENV?
f(9!==d.nodeType,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See renderComponentToString() for server rendering."):f(9!==d.nodeType);e(d,a)})};r.exports=m}).call(q,d(42))},function(r,q,d){function b(){this.reinitializeTransaction()}q=d(56);var m=d(114),n=d(103);d=d(64);var p={initialize:n,close:function(){c.isBatchingUpdates=!1}},l=[{initialize:n,close:q.flushBatchedUpdates.bind(q)},
p];d(b,m.Mixin);d(b,{getTransactionWrappers:function(){return l}});var a=new b,c={isBatchingUpdates:!1,batchedUpdates:function(b,e,d){var g=c.isBatchingUpdates;c.isBatchingUpdates=!0;g?b(e,d):a.perform(b,null,e,d)}};r.exports=c},function(r,q,d){q=d(136);var b=d(70),m=d(19),n=d(23);d=d(43);var p=n.button,l=d({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0});d=m.createClass({displayName:"ReactDOMButton",
mixins:[q,b],render:function(){var a={},b;for(b in this.props)!this.props.hasOwnProperty(b)||this.props.disabled&&l[b]||(a[b]=this.props[b]);return p(a,this.props.children)}});r.exports=d},function(r,q,d){var b=d(51);q=d(137);var m=d(70),n=d(19),p=d(23).form;d=n.createClass({displayName:"ReactDOMForm",mixins:[m,q],render:function(){return this.transferPropsTo(p(null,this.props.children))},componentDidMount:function(){this.trapBubbledEvent(b.topLevelTypes.topReset,"reset");this.trapBubbledEvent(b.topLevelTypes.topSubmit,
"submit")}});r.exports=d},function(r,q,d){var b=d(51);q=d(137);var m=d(70),n=d(19),p=d(23).img;d=n.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[m,q],render:function(){return p(this.props)},componentDidMount:function(){this.trapBubbledEvent(b.topLevelTypes.topLoad,"load");this.trapBubbledEvent(b.topLevelTypes.topError,"error")}});r.exports=d},function(r,q,d){(function(b){var m=d(136),n=d(15),p=d(138),l=d(70),a=d(19),c=d(23),f=d(27),e=d(52),h=d(44),g=c.input,k={},m=a.createClass({displayName:"ReactDOMInput",
mixins:[m,p.Mixin,l],getInitialState:function(){var a=this.props.defaultValue;return{checked:this.props.defaultChecked||!1,value:null!=a?a:null}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var a=h(this.props);a.defaultChecked=null;a.defaultValue=null;var b=p.getValue(this);a.value=null!=b?b:this.state.value;b=p.getChecked(this);a.checked=null!=b?b:this.state.checked;a.onChange=this._handleChange;return g(a,this.props.children)},componentDidMount:function(){var a=f.getID(this.getDOMNode());
k[a]=this},componentWillUnmount:function(){var a=this.getDOMNode(),a=f.getID(a);delete k[a]},componentDidUpdate:function(a,b,c){a=this.getDOMNode();null!=this.props.checked&&n.setValueForProperty(a,"checked",this.props.checked||!1);b=p.getValue(this);null!=b&&n.setValueForProperty(a,"value",""+b)},_handleChange:function(a){var c,d=p.getOnChange(this);d&&(this._isChanging=!0,c=d.call(this,a),this._isChanging=!1);this.setState({checked:a.target.checked,value:a.target.value});d=this.props.name;if("radio"===
this.props.type&&null!=d){for(var g=a=this.getDOMNode();g.parentNode;)g=g.parentNode;for(var d=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),g=0,h=d.length;g<h;g++){var l=d[g];if(l!==a&&l.form===a.form){l=f.getID(l);"production"!==b.env.NODE_ENV?e(l,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):e(l);var m=k[l];"production"!==b.env.NODE_ENV?e(m,"ReactDOMInput: Unknown radio button ID %s.",l):e(m);m.setState({checked:!1})}}}return c}});
r.exports=m}).call(q,d(42))},function(r,q,d){(function(b){var m=d(70),n=d(19),p=d(23),l=d(50),a=p.option,m=n.createClass({displayName:"ReactDOMOption",mixins:[m],componentWillMount:function(){"production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?l(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):null)},render:function(){return a(this.props,this.props.children)}});r.exports=m}).call(q,d(42))},function(r,q,d){function b(a,
b,c){if(null!=a[b])if(a.multiple){if(!Array.isArray(a[b]))return Error("The `"+b+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(a[b]))return Error("The `"+b+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function m(a,b){var c=a.props.multiple,f=null!=b?b:a.state.value,d=a.getDOMNode().options,l,m,p;if(c)for(l={},m=0,p=f.length;m<p;++m)l[""+f[m]]=!0;else l=""+f;m=0;for(p=d.length;m<p;m++)f=c?l.hasOwnProperty(d[m].value):d[m].value===
l,f!==d[m].selected&&(d[m].selected=f)}q=d(136);var n=d(138),p=d(70),l=d(19),a=d(23),c=d(44),f=a.select;d=l.createClass({displayName:"ReactDOMSelect",mixins:[q,n.Mixin,p],propTypes:{defaultValue:b,value:b},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillReceiveProps:function(a){!this.props.multiple&&a.multiple?this.setState({value:[this.state.value]}):this.props.multiple&&!a.multiple&&this.setState({value:this.state.value[0]})},shouldComponentUpdate:function(){return!this._isChanging},
render:function(){var a=c(this.props);a.onChange=this._handleChange;a.value=null;return f(a,this.props.children)},componentDidMount:function(){m(this,n.getValue(this))},componentDidUpdate:function(a){var b=n.getValue(this);a=!!a.multiple;var c=!!this.props.multiple;null==b&&a===c||m(this,b)},_handleChange:function(a){var b,c=n.getOnChange(this);c&&(this._isChanging=!0,b=c.call(this,a),this._isChanging=!1);if(this.props.multiple){c=[];a=a.target.options;for(var f=0,d=a.length;f<d;f++)a[f].selected&&
c.push(a[f].value)}else c=a.target.value;this.setState({value:c});return b}});r.exports=d},function(r,q,d){(function(b){var m=d(136),n=d(15),p=d(138),l=d(70),a=d(19),c=d(23),f=d(52),e=d(44),h=d(50),g=c.textarea,m=a.createClass({displayName:"ReactDOMTextarea",mixins:[m,p.Mixin,l],getInitialState:function(){var a=this.props.defaultValue,c=this.props.children;null!=c&&("production"!==b.env.NODE_ENV&&("production"!==b.env.NODE_ENV?h(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):
null),"production"!==b.env.NODE_ENV?f(null==a,"If you supply `defaultValue` on a <textarea>, do not pass children."):f(null==a),Array.isArray(c)&&("production"!==b.env.NODE_ENV?f(1>=c.length,"<textarea> can only have at most one child."):f(1>=c.length),c=c[0]),a=""+c);null==a&&(a="");c=p.getValue(this);return{initialValue:""+(null!=c?c:a)}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var a=e(this.props);"production"!==b.env.NODE_ENV?f(null==a.dangerouslySetInnerHTML,
"`dangerouslySetInnerHTML` does not make sense on <textarea>."):f(null==a.dangerouslySetInnerHTML);a.defaultValue=null;a.value=null;a.onChange=this._handleChange;return g(a,this.state.initialValue)},componentDidUpdate:function(a,b,c){a=p.getValue(this);null!=a&&(b=this.getDOMNode(),n.setValueForProperty(b,"value",""+a))},_handleChange:function(a){var b,c=p.getOnChange(this);c&&(this._isChanging=!0,b=c.call(this,a),this._isChanging=!1);this.setState({value:a.target.value});return b}});r.exports=m}).call(q,
d(42))},function(r,q,d){function b(a,b){this.topLevelType=a;this.nativeEvent=b;this.ancestors=[]}function m(b){for(var f=c.getFirstReactDOM(e(b.nativeEvent))||window;f;)b.ancestors.push(f),f=c.getID(f),f=a.getReactRootIDFromNodeID(f),f=c.findReactContainerForID(f),f=c.getFirstReactDOM(f);for(var d=0,h=b.ancestors.length;d<h;d++){var f=b.ancestors[d],l=c.getID(f)||"";g._handleTopLevel(b.topLevelType,f,l,b.nativeEvent)}}function n(a){var b=h(window);a(b)}var p=d(139);q=d(34);var l=d(53),a=d(26),c=d(27),
f=d(56),e=d(140),h=d(141);d(64)(b,{destructor:function(){this.nativeEvent=this.topLevelType=null;this.ancestors.length=0}});l.addPoolingTo(b,l.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:q.canUseDOM?window:null,setHandleTopLevel:function(a){g._handleTopLevel=a},setEnabled:function(a){g._enabled=!!a},isEnabled:function(){return g._enabled},trapBubbledEvent:function(a,b,c){if(c)return p.listen(c,b,g.dispatchEvent.bind(null,a))},trapCapturedEvent:function(a,b,c){if(c)return p.capture(c,
b,g.dispatchEvent.bind(null,a))},monitorScrollValue:function(a){a=n.bind(null,a);p.listen(window,"scroll",a);p.listen(window,"resize",a)},dispatchEvent:function(a,c){if(g._enabled){var e=b.getPooled(a,c);try{f.batchedUpdates(m,e)}finally{b.release(e)}}}};r.exports=g},function(r,q,d){q=d(47);var b=d(120),m=d(18),n=d(19),p=d(23),l=d(58),a=d(71),c=d(29),f=d(98);d=d(56);r.exports={Component:m.injection,CompositeComponent:n.injection,DOMProperty:q.injection,EmptyComponent:l.injection,EventPluginHub:b.injection,
DOM:p.injection,EventEmitter:a.injection,Perf:c.injection,RootIndex:f.injection,Updates:d.injection}},function(r,q,d){function b(a){if(!v&&null!=g&&g==l()){var b;b=g;"selectionStart"in b&&n.hasSelectionCapabilities(b)?b={start:b.selectionStart,end:b.selectionEnd}:document.selection?(b=document.selection.createRange(),b={parentElement:b.parentElement(),text:b.text,top:b.boundingTop,left:b.boundingLeft}):(b=window.getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,
focusOffset:b.focusOffset});if(!s||!f(s,b))return s=b,a=p.getPooled(h.select,k,a),a.type="select",a.target=g,m.accumulateTwoPhaseDispatches(a),a}}q=d(51);var m=d(125),n=d(129),p=d(127),l=d(142),a=d(128),c=d(72),f=d(143),e=q.topLevelTypes,h={select:{phasedRegistrationNames:{bubbled:c({onSelect:null}),captured:c({onSelectCapture:null})},dependencies:[e.topBlur,e.topContextMenu,e.topFocus,e.topKeyDown,e.topMouseDown,e.topMouseUp,e.topSelectionChange]}},g=null,k=null,s=null,v=!1;r.exports={eventTypes:h,
extractEvents:function(c,f,d,h){switch(c){case e.topFocus:if(a(f)||"true"===f.contentEditable)g=f,k=d,s=null;break;case e.topBlur:s=k=g=null;break;case e.topMouseDown:v=!0;break;case e.topContextMenu:case e.topMouseUp:return v=!1,b(h);case e.topSelectionChange:case e.topKeyDown:case e.topKeyUp:return b(h)}}}},function(r,q,d){var b=Math.pow(2,53);r.exports={createReactRootIndex:function(){return Math.ceil(Math.random()*b)}}},function(r,q,d){(function(b){var m=d(51),n=d(16),p=d(125),l=d(144),a=d(127),
c=d(145),f=d(146),e=d(132),h=d(147),g=d(148),k=d(149),q=d(150),v=d(52),t=d(72),w=m.topLevelTypes,m={blur:{phasedRegistrationNames:{bubbled:t({onBlur:!0}),captured:t({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:t({onClick:!0}),captured:t({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:t({onContextMenu:!0}),captured:t({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:t({onCopy:!0}),captured:t({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:t({onCut:!0}),
captured:t({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:t({onDoubleClick:!0}),captured:t({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:t({onDrag:!0}),captured:t({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:t({onDragEnd:!0}),captured:t({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:t({onDragEnter:!0}),captured:t({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:t({onDragExit:!0}),captured:t({onDragExitCapture:!0})}},
dragLeave:{phasedRegistrationNames:{bubbled:t({onDragLeave:!0}),captured:t({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:t({onDragOver:!0}),captured:t({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:t({onDragStart:!0}),captured:t({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:t({onDrop:!0}),captured:t({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:t({onFocus:!0}),captured:t({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:t({onInput:!0}),
captured:t({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:t({onKeyDown:!0}),captured:t({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:t({onKeyPress:!0}),captured:t({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:t({onKeyUp:!0}),captured:t({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:t({onLoad:!0}),captured:t({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:t({onError:!0}),captured:t({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:t({onMouseDown:!0}),
captured:t({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:t({onMouseMove:!0}),captured:t({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:t({onMouseOut:!0}),captured:t({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:t({onMouseOver:!0}),captured:t({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:t({onMouseUp:!0}),captured:t({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:t({onPaste:!0}),captured:t({onPasteCapture:!0})}},
reset:{phasedRegistrationNames:{bubbled:t({onReset:!0}),captured:t({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:t({onScroll:!0}),captured:t({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:t({onSubmit:!0}),captured:t({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:t({onTouchCancel:!0}),captured:t({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:t({onTouchEnd:!0}),captured:t({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:t({onTouchMove:!0}),
captured:t({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:t({onTouchStart:!0}),captured:t({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:t({onWheel:!0}),captured:t({onWheelCapture:!0})}}},E={topBlur:m.blur,topClick:m.click,topContextMenu:m.contextMenu,topCopy:m.copy,topCut:m.cut,topDoubleClick:m.doubleClick,topDrag:m.drag,topDragEnd:m.dragEnd,topDragEnter:m.dragEnter,topDragExit:m.dragExit,topDragLeave:m.dragLeave,topDragOver:m.dragOver,topDragStart:m.dragStart,
topDrop:m.drop,topError:m.error,topFocus:m.focus,topInput:m.input,topKeyDown:m.keyDown,topKeyPress:m.keyPress,topKeyUp:m.keyUp,topLoad:m.load,topMouseDown:m.mouseDown,topMouseMove:m.mouseMove,topMouseOut:m.mouseOut,topMouseOver:m.mouseOver,topMouseUp:m.mouseUp,topPaste:m.paste,topReset:m.reset,topScroll:m.scroll,topSubmit:m.submit,topTouchCancel:m.touchCancel,topTouchEnd:m.touchEnd,topTouchMove:m.touchMove,topTouchStart:m.touchStart,topWheel:m.wheel},F;for(F in E)E[F].dependencies=[F];r.exports={eventTypes:m,
executeDispatch:function(a,b,c){!1===n.executeDispatch(a,b,c)&&(a.stopPropagation(),a.preventDefault())},extractEvents:function(d,m,n,r){m=E[d];if(!m)return null;var t;switch(d){case w.topInput:case w.topLoad:case w.topError:case w.topReset:case w.topSubmit:t=a;break;case w.topKeyPress:if(0===r.charCode)return null;case w.topKeyDown:case w.topKeyUp:t=f;break;case w.topBlur:case w.topFocus:t=c;break;case w.topClick:if(2===r.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:t=
e;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:t=h;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:t=g;break;case w.topScroll:t=k;break;case w.topWheel:t=q;break;case w.topCopy:case w.topCut:case w.topPaste:t=l}"production"!==b.env.NODE_ENV?v(t,"SimpleEventPlugin: Unhandled event type, `%s`.",d):v(t);d=t.getPooled(m,n,r);p.accumulateTwoPhaseDispatches(d);
return d}}}).call(q,d(42))},function(r,q,d){q=d(47).injection.MUST_USE_ATTRIBUTE;r.exports={Properties:{cx:q,cy:q,d:q,dx:q,dy:q,fill:q,fillOpacity:q,fontFamily:q,fontSize:q,fx:q,fy:q,gradientTransform:q,gradientUnits:q,markerEnd:q,markerMid:q,markerStart:q,offset:q,opacity:q,patternContentUnits:q,patternUnits:q,points:q,preserveAspectRatio:q,r:q,rx:q,ry:q,spreadMethod:q,stopColor:q,stopOpacity:q,stroke:q,strokeDasharray:q,strokeLinecap:q,strokeOpacity:q,strokeWidth:q,textAnchor:q,transform:q,version:q,
viewBox:q,x1:q,x2:q,x:q,y1:q,y2:q,y:q},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",
strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}}},function(r,q,d){(function(b){var m=d(19),n=d(52);r.exports=function(d){return m.createClass({displayName:"ReactFullPageComponent"+(d.type.displayName||""),componentWillUnmount:function(){"production"!==b.env.NODE_ENV?n(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",
this.constructor.displayName):n(!1)},render:function(){return this.transferPropsTo(d(null,this.props.children))}})}}).call(q,d(42))},function(r,q,d){function b(a){return Math.floor(100*a)/100}function m(a,b,c){a[b]=(a[b]||0)+c}var n=d(47),p=d(151),l=d(27),a=d(29),c=d(152),f={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){f._injected||a.injection.injectMeasure(f.measure);f._allMeasurements.length=0;a.enableMeasure=!0},stop:function(){a.enableMeasure=!1},getLastMeasurements:function(){return f._allMeasurements},
printExclusive:function(a){a=a||f._allMeasurements;a=p.getExclusiveSummary(a);console.table(a.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":b(a.inclusive),"Exclusive mount time (ms)":b(a.exclusive),"Exclusive render time (ms)":b(a.render),"Mount time per instance (ms)":b(a.exclusive/a.count),"Render time per instance (ms)":b(a.render/a.count),Instances:a.count}}))},printInclusive:function(a){a=a||f._allMeasurements;var c=p.getInclusiveSummary(a);console.table(c.map(function(a){return{"Owner > component":a.componentName,
"Inclusive time (ms)":b(a.time),Instances:a.count}}));console.log("Total time:",p.getTotalTime(a).toFixed(2)+" ms")},printWasted:function(a){a=a||f._allMeasurements;var b=p.getInclusiveSummary(a,!0);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}}));console.log("Total time:",p.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||f._allMeasurements;var b=p.getDOMSummary(a);console.table(b.map(function(a){var b={};b[n.ID_ATTRIBUTE_NAME]=
a.id;b.type=a.type;b.args=JSON.stringify(a.args);return b}));console.log("Total time:",p.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var l=f._allMeasurements[f._allMeasurements.length-1].writes;l[a]=l[a]||[];l[a].push({type:b,time:c,args:d})},measure:function(a,b,d){return function(){var k=Array.prototype.slice.call(arguments,0),p,n,q;if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return f._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},
displayNames:{},totalTime:0}),q=c(),n=d.apply(this,k),f._allMeasurements[f._allMeasurements.length-1].totalTime=c()-q,n;if("ReactDOMIDOperations"===a||"ReactComponentBrowserEnvironment"===a){q=c();n=d.apply(this,k);p=c()-q;if("mountImageIntoNode"===b){var r=l.getID(k[1]);f._recordWrite(r,b,p,k[0])}else"dangerouslyProcessChildrenUpdates"===b?k[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex);null!==a.toIndex&&(b.toIndex=a.toIndex);null!==a.textContent&&(b.textContent=a.textContent);
null!==a.markupIndex&&(b.markup=k[1][a.markupIndex]);f._recordWrite(a.parentID,a.type,p,b)}):f._recordWrite(k[0],b,p,Array.prototype.slice.call(k,1));return n}if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b)return d.apply(this,k);var r="mountComponent"===b?k[0]:this._rootNodeID,E="_renderValidatedComponent"===b,F="mountComponent"===b,x=f._mountStack,C=f._allMeasurements[f._allMeasurements.length-1];E?m(C.counts,r,1):F&&x.push(0);q=c();
n=d.apply(this,k);p=c()-q;E?m(C.render,r,p):(F&&(q=x.pop(),x[x.length-1]+=p,m(C.exclusive,r,p-q)),m(C.inclusive,r,p));C.displayNames[r]={current:this.constructor.displayName,owner:this._owner?this._owner.constructor.displayName:"<root>"};return n}}};r.exports=f},function(r,q,d){var b={createReactRootIndex:null,injection:{injectCreateReactRootIndex:function(d){b.createReactRootIndex=d}}};r.exports=b},function(r,q,d){function b(d,p){return d&&p?d===p?!0:m(d)?!1:m(p)?b(d,p.parentNode):d.contains?d.contains(p):
d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}var m=d(153);r.exports=b},function(r,q,d){r.exports=function(b){return b?9===b.nodeType?b.documentElement:b.firstChild:null}},function(r,q,d){q=d(43)({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});r.exports=q},function(r,q,d){(function(b){function m(d,a,c){var f=!d.hasOwnProperty(c);"production"!==b.env.NODE_ENV?p(f,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",
c):null;f&&null!=a&&(d[c]=a)}var n=d(54),p=d(50);r.exports=function(b){if(null==b)return b;var a={};n(b,m,a);return a}}).call(q,d(42))},function(r,q,d){function b(b){return function(){return b}}function m(){}d(46)(m,{thatReturns:b,thatReturnsFalse:b(!1),thatReturnsTrue:b(!0),thatReturnsNull:b(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(b){return b}});r.exports=m},function(r,q,d){var b=d(154),m={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(d){var p=
b(d);return d.replace(">"," "+m.CHECKSUM_ATTR_NAME+'="'+p+'">')},canReuseMarkup:function(d,p){var l=p.getAttribute(m.CHECKSUM_ATTR_NAME),l=l&&parseInt(l,10);return b(d)===l}};r.exports=m},function(r,q,d){function b(a){this.reinitializeTransaction();this.renderToStaticMarkup=a;this.reactMountReady=m.getPooled(null);this.putListenerQueue=n.getPooled()}q=d(53);var m=d(113),n=d(155),p=d(114),l=d(103);d=d(64);var a=[{initialize:function(){this.putListenerQueue.reset()},close:l},{initialize:function(){this.reactMountReady.reset()},
close:l}];d(b,p.Mixin);d(b,{getTransactionWrappers:function(){return a},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){m.release(this.reactMountReady);this.reactMountReady=null;n.release(this.putListenerQueue);this.putListenerQueue=null}});q.addPoolingTo(b);r.exports=b},function(r,q,d){r.exports=function(b){b.webpackPolyfill||(b.deprecate=function(){},b.paths=[],b.children=[],b.webpackPolyfill=1);return b}},
function(r,q,d){function b(b){this.current=void 0;this.size=0;!1===b&&this.disableLinking()}b.noop=function(){return this};b.illegal=function(){throw Error("illegal operation for maps without linking");};b.from=function(d,n){var p=new b,l;for(l in d)(n||d.hasOwnProperty(l))&&p.put(l,d[l]);return p};b.prototype.disableLinking=function(){this.disableLinking=this.unlink=this.link=b.noop;this.removeAll=this.value=this.key=this.next=b.illegal;return this};b.prototype.hash=function(b){return typeof b+" "+
(b instanceof Object?b.__hash||(b.__hash=++arguments.callee.current):b.toString())};b.prototype.hash.current=0;b.prototype.get=function(b){b=this[this.hash(b)];return void 0===b?void 0:b.value};b.prototype.put=function(b,d){var p=this.hash(b);if(void 0===this[p]){var l={key:b,value:d};this[p]=l;this.link(l);++this.size}else this[p].value=d;return this};b.prototype.remove=function(b){b=this.hash(b);var d=this[b];void 0!==d&&(--this.size,this.unlink(d),delete this[b]);return this};b.prototype.removeAll=
function(){for(;this.size;)this.remove(this.key());return this};b.prototype.link=function(b){0==this.size?(b.prev=b,this.current=b.next=b):(b.prev=this.current.prev,b.prev.next=b,b.next=this.current,this.current.prev=b)};b.prototype.unlink=function(b){0==this.size?this.current=void 0:(b.prev.next=b.next,b.next.prev=b.prev,b===this.current&&(this.current=b.next))};b.prototype.next=function(){this.current=this.current.next};b.prototype.key=function(){return this.current.key};b.prototype.value=function(){return this.current.value};
r.exports=b},function(r,q,d){r.exports=function(){throw Error("define cannot be used indirect");}},function(r,q,d){(function(b){r.exports=b}).call(q,{})},function(r,q,d){function b(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function m(b){return"function"===typeof b}function n(b){return"object"===typeof b&&null!==b}r.exports=b;b.EventEmitter=b;b.prototype._events=void 0;b.prototype._maxListeners=void 0;b.defaultMaxListeners=10;b.prototype.setMaxListeners=function(b){if("number"!==
typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};b.prototype.emit=function(b){var d,a,c,f;this._events||(this._events={});if("error"===b&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){d=arguments[1];if(d instanceof Error)throw d;throw TypeError('Uncaught, unspecified "error" event.');}a=this._events[b];if(void 0===a)return!1;if(m(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);
break;case 3:a.call(this,arguments[1],arguments[2]);break;default:d=arguments.length;c=Array(d-1);for(f=1;f<d;f++)c[f-1]=arguments[f];a.apply(this,c)}else if(n(a)){d=arguments.length;c=Array(d-1);for(f=1;f<d;f++)c[f-1]=arguments[f];a=a.slice();d=a.length;for(f=0;f<d;f++)a[f].apply(this,c)}return!0};b.prototype.addListener=function(d,l){var a;if(!m(l))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",d,m(l.listener)?l.listener:
l);this._events[d]?n(this._events[d])?this._events[d].push(l):this._events[d]=[this._events[d],l]:this._events[d]=l;n(this._events[d])&&!this._events[d].warned&&(a=void 0!==this._maxListeners?this._maxListeners:b.defaultMaxListeners)&&0<a&&this._events[d].length>a&&(this._events[d].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[d].length),"function"===typeof console.trace&&console.trace());
return this};b.prototype.on=b.prototype.addListener;b.prototype.once=function(b,d){function a(){this.removeListener(b,a);c||(c=!0,d.apply(this,arguments))}if(!m(d))throw TypeError("listener must be a function");var c=!1;a.listener=d;this.on(b,a);return this};b.prototype.removeListener=function(b,d){var a,c,f;if(!m(d))throw TypeError("listener must be a function");if(!this._events||!this._events[b])return this;a=this._events[b];f=a.length;c=-1;if(a===d||m(a.listener)&&a.listener===d)delete this._events[b],
this._events.removeListener&&this.emit("removeListener",b,d);else if(n(a)){for(;0<f--;)if(a[f]===d||a[f].listener&&a[f].listener===d){c=f;break}if(0>c)return this;1===a.length?(a.length=0,delete this._events[b]):a.splice(c,1);this._events.removeListener&&this.emit("removeListener",b,d)}return this};b.prototype.removeAllListeners=function(b){var d;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[b]&&delete this._events[b],this;if(0===
arguments.length){for(d in this._events)"removeListener"!==d&&this.removeAllListeners(d);this.removeAllListeners("removeListener");this._events={};return this}d=this._events[b];if(m(d))this.removeListener(b,d);else for(;d.length;)this.removeListener(b,d[d.length-1]);delete this._events[b];return this};b.prototype.listeners=function(b){return this._events&&this._events[b]?m(this._events[b])?[this._events[b]]:this._events[b].slice():[]};b.listenerCount=function(b,d){return b._events&&b._events[d]?m(b._events[d])?
1:b._events[d].length:0}},function(r,q,d){r.exports=function(b,d,n,p,l,a,c,f){if(!b){if(void 0===d)b=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var e=[n,p,l,a,c,f],h=0;b=Error("Invariant Violation: "+d.replace(/%s/g,function(){return e[h++]}))}b.framesToPop=1;throw b;}}},function(r,q,d){(function(b){var d={};"production"!==b.env.NODE_ENV&&Object.freeze(d);r.exports=d}).call(q,d(42))},function(r,q,d){(function(b){function m(){this._contexts=
this._callbacks=null}var n=d(53),p=d(52);d(64)(m,{enqueue:function(b,a){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(b);this._contexts.push(a)},notifyAll:function(){var d=this._callbacks,a=this._contexts;if(d){"production"!==b.env.NODE_ENV?p(d.length===a.length,"Mismatched list of contexts in callback queue"):p(d.length===a.length);this._contexts=this._callbacks=null;for(var c=0,f=d.length;c<f;c++)d[c].call(a[c]);d.length=0;a.length=0}},reset:function(){this._contexts=
this._callbacks=null},destructor:function(){this.reset()}});n.addPoolingTo(m);r.exports=m}).call(q,d(42))},function(r,q,d){(function(b){var m=d(52),n={Mixin:{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[];this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(d,l,a,c,f,e,h,g){"production"!==
b.env.NODE_ENV?m(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):m(!this.isInTransaction());var k,n;try{k=this._isInTransaction=!0,this.initializeAll(0),n=d.call(l,a,c,f,e,h,g),k=!1}finally{try{if(k)try{this.closeAll(0)}catch(q){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return n},initializeAll:function(b){for(var d=this.transactionWrappers;b<d.length;b++){var a=d[b];try{this.wrapperInitData[b]=n.OBSERVED_ERROR,
this.wrapperInitData[b]=a.initialize?a.initialize.call(this):null}finally{if(this.wrapperInitData[b]===n.OBSERVED_ERROR)try{this.initializeAll(b+1)}catch(c){}}}},closeAll:function(d){"production"!==b.env.NODE_ENV?m(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):m(this.isInTransaction());for(var l=this.transactionWrappers;d<l.length;d++){var a=l[d],c=this.wrapperInitData[d],f;try{f=!0,c!==n.OBSERVED_ERROR&&a.close&&a.close.call(this,c),f=!1}finally{if(f)try{this.closeAll(d+
1)}catch(e){}}}this.wrapperInitData.length=0}},OBSERVED_ERROR:{}};r.exports=n}).call(q,d(42))},function(r,q,d){r.exports=function(b){b||(b="");var d,n=arguments.length;if(1<n)for(var p=1;p<n;p++)(d=arguments[p])&&(b+=" "+d);return b}},function(r,q,d){(function(b){var m=d(52),n=d(43),p=function(a){return"object"!==typeof a||null===a},l={MAX_MERGE_DEPTH:36,isTerminal:p,normalizeMergeArg:function(a){return void 0===a||null===a?{}:a},checkMergeArrayArgs:function(a,c){"production"!==b.env.NODE_ENV?m(Array.isArray(a)&&
Array.isArray(c),"Tried to merge arrays, instead got %s and %s.",a,c):m(Array.isArray(a)&&Array.isArray(c))},checkMergeObjectArgs:function(a,b){l.checkMergeObjectArg(a);l.checkMergeObjectArg(b)},checkMergeObjectArg:function(a){"production"!==b.env.NODE_ENV?m(!p(a)&&!Array.isArray(a),"Tried to merge an object, instead got %s.",a):m(!p(a)&&!Array.isArray(a))},checkMergeIntoObjectArg:function(a){"production"!==b.env.NODE_ENV?m((!p(a)||"function"===typeof a)&&!Array.isArray(a),"Tried to merge into an object, instead got %s.",
a):m((!p(a)||"function"===typeof a)&&!Array.isArray(a))},checkMergeLevel:function(a){"production"!==b.env.NODE_ENV?m(36>a,"Maximum deep merge depth exceeded. You may be attempting to merge circular structures in an unsupported way."):m(36>a)},checkArrayStrategy:function(a){"production"!==b.env.NODE_ENV?m(void 0===a||a in l.ArrayStrategies,"You must provide an array strategy to deep merge functions to instruct the deep merge how to resolve merging two arrays."):m(void 0===a||a in l.ArrayStrategies)},
ArrayStrategies:n({Clobber:!0,IndexByIndex:!0})};r.exports=l}).call(q,d(42))},function(r,q,d){var b={columnCount:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},m=["Webkit","ms","Moz","O"];Object.keys(b).forEach(function(d){m.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1);b[m]=b[d]})});r.exports={isUnitlessNumber:b,shorthandPropertyExpansions:{background:{backgroundImage:!0,backgroundPosition:!0,
backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}}}},function(r,q,d){var b=d(117).isUnitlessNumber;
r.exports=function(d,n){if(null==n||"boolean"===typeof n||""===n)return"";if(isNaN(n)||0===n||b.hasOwnProperty(d)&&b[d])return""+n;"string"===typeof n&&(n=n.trim());return n+"px"}},function(r,q,d){var b=d(156),m=/^ms-/;r.exports=function(d){return b(d).replace(m,"-ms-")}},function(r,q,d){(function(b){function m(){if(!q||!q.traverseTwoPhase||!q.traverseEnterLeave)throw Error("InstanceHandle not injected before use!");}var n=d(121),p=d(16),l=d(157),a=d(158),c=d(52),f=d(124),e=d(65),h={},g=null,k=function(a){if(a){var b=
p.executeDispatch,c=n.getPluginModuleForEvent(a);c&&c.executeDispatch&&(b=c.executeDispatch);p.executeDispatchesInOrder(a,b);a.isPersistent()||a.constructor.release(a)}},q=null;r.exports={injection:{injectMount:p.injection.injectMount,injectInstanceHandle:function(a){q=a;"production"!==b.env.NODE_ENV&&m()},getInstanceHandle:function(){"production"!==b.env.NODE_ENV&&m();return q},injectEventPluginOrder:n.injectEventPluginOrder,injectEventPluginsByName:n.injectEventPluginsByName},eventNameDispatchConfigs:n.eventNameDispatchConfigs,
registrationNameModules:n.registrationNameModules,putListener:function(a,d,g){"production"!==b.env.NODE_ENV?c(!g||"function"===typeof g,"Expected %s listener to be a function, instead got type %s",d,typeof g):c(!g||"function"===typeof g);"production"===b.env.NODE_ENV||"onScroll"!==d||f("scroll",!0)||(e("react_no_scroll_event"),console.warn("This browser doesn't support the `onScroll` event"));(h[d]||(h[d]={}))[a]=g},getListener:function(a,b){var c=h[b];return c&&c[a]},deleteListener:function(a,b){var c=
h[b];c&&delete c[a]},deleteAllListeners:function(a){for(var b in h)delete h[b][a]},extractEvents:function(a,b,c,e){for(var f,d=n.plugins,g=0,h=d.length;g<h;g++){var k=d[g];k&&(k=k.extractEvents(a,b,c,e))&&(f=l(f,k))}return f},enqueueEvents:function(a){a&&(g=l(g,a))},processEventQueue:function(){var e=g;g=null;a(e,k);"production"!==b.env.NODE_ENV?c(!g,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):c(!g)},__purge:function(){h=
{}},__getListenerBank:function(){return h}}}).call(q,d(42))},function(r,q,d){(function(b){function m(){if(a)for(var e in c){var d=c[e],g=a.indexOf(e);"production"!==b.env.NODE_ENV?l(-1<g,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e):l(-1<g);if(!f.plugins[g]){"production"!==b.env.NODE_ENV?l(d.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e):l(d.extractEvents);f.plugins[g]=d;var g=
d.eventTypes,k;for(k in g)"production"!==b.env.NODE_ENV?l(n(g[k],d,k),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",k,e):l(n(g[k],d,k))}}}function n(a,c,d){"production"!==b.env.NODE_ENV?l(!f.eventNameDispatchConfigs.hasOwnProperty(d),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",d):l(!f.eventNameDispatchConfigs.hasOwnProperty(d));f.eventNameDispatchConfigs[d]=a;var k=a.phasedRegistrationNames;if(k){for(var m in k)k.hasOwnProperty(m)&&
p(k[m],c,d);return!0}return a.registrationName?(p(a.registrationName,c,d),!0):!1}function p(a,c,d){"production"!==b.env.NODE_ENV?l(!f.registrationNameModules[a],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",a):l(!f.registrationNameModules[a]);f.registrationNameModules[a]=c;f.registrationNameDependencies[a]=c.eventTypes[d].dependencies}var l=d(52),a=null,c={},f={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},
injectEventPluginOrder:function(c){"production"!==b.env.NODE_ENV?l(!a,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):l(!a);a=Array.prototype.slice.call(c);m()},injectEventPluginsByName:function(a){var f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var k=a[d];c.hasOwnProperty(d)&&c[d]===k||("production"!==b.env.NODE_ENV?l(!c[d],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",
d):l(!c[d]),c[d]=k,f=!0)}f&&m()},getPluginModuleForEvent:function(a){a=a.dispatchConfig;if(a.registrationName)return f.registrationNameModules[a.registrationName]||null;for(var b in a.phasedRegistrationNames)if(a.phasedRegistrationNames.hasOwnProperty(b)){var c=f.registrationNameModules[a.phasedRegistrationNames[b]];if(c)return c}return null},_resetEventPlugins:function(){a=null;for(var b in c)c.hasOwnProperty(b)&&delete c[b];f.plugins.length=0;b=f.eventNameDispatchConfigs;for(var d in b)b.hasOwnProperty(d)&&
delete b[d];d=f.registrationNameModules;for(var g in d)d.hasOwnProperty(g)&&delete d[g]}};r.exports=f}).call(q,d(42))},function(r,q,d){var b=d(120);r.exports={handleTopLevel:function(d,n,p,l){d=b.extractEvents(d,n,p,l);b.enqueueEvents(d);b.processEventQueue()}}},function(r,q,d){var b=d(141),m={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var d=b(window);m.currentScrollLeft=d.x;m.currentScrollTop=d.y}};r.exports=m},function(r,q,d){var b=d(34),m;b.canUseDOM&&(m=document.implementation&&
document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));r.exports=function(d,p){if(!b.canUseDOM||p&&!("addEventListener"in document))return!1;var l="on"+d,a=l in document;a||(a=document.createElement("div"),a.setAttribute(l,"return;"),a="function"===typeof a[l]);!a&&m&&"wheel"===d&&(a=document.implementation.hasFeature("Events.wheel","3.0"));return a}},function(r,q,d){(function(b){function m(a,c,e){if("production"!==b.env.NODE_ENV&&!a)throw Error("Dispatching id must not be null");
if(c=g(a,e.dispatchConfig.phasedRegistrationNames[c?h.bubbled:h.captured]))e._dispatchListeners=f(e._dispatchListeners,c),e._dispatchIDs=f(e._dispatchIDs,a)}function n(a){a&&a.dispatchConfig.phasedRegistrationNames&&c.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,m,a)}function p(a,b,c){c&&c.dispatchConfig.registrationName&&(b=g(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=f(c._dispatchListeners,b),c._dispatchIDs=f(c._dispatchIDs,a))}function l(a){a&&a.dispatchConfig.registrationName&&
p(a.dispatchMarker,null,a)}var a=d(51),c=d(120),f=d(157),e=d(158),h=a.PropagationPhases,g=c.getListener;r.exports={accumulateTwoPhaseDispatches:function(a){e(a,n)},accumulateDirectDispatches:function(a){e(a,l)},accumulateEnterLeaveDispatches:function(a,b,e,f){c.injection.getInstanceHandle().traverseEnterLeave(e,f,p,a,b)}}}).call(q,d(42))},function(r,q,d){function b(b,d,l){m.call(this,b,d,l)}var m=d(127);m.augmentClass(b,{data:null});r.exports=b},function(r,q,d){function b(a,b,f){this.dispatchConfig=
a;this.dispatchMarker=b;this.nativeEvent=f;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&(b=a[e],this[e]=b?b(f):f[e]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?n.thatReturnsTrue:n.thatReturnsFalse;this.isPropagationStopped=n.thatReturnsFalse}var m=d(53),n=d(103);q=d(140);var p=d(44),l=d(68);d={type:null,target:q,currentTarget:n.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},
defaultPrevented:null,isTrusted:null};l(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a.preventDefault?a.preventDefault():a.returnValue=!1;this.isDefaultPrevented=n.thatReturnsTrue},stopPropagation:function(){var a=this.nativeEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;this.isPropagationStopped=n.thatReturnsTrue},persist:function(){this.isPersistent=n.thatReturnsTrue},isPersistent:n.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface,
b;for(b in a)this[b]=null;this.nativeEvent=this.dispatchMarker=this.dispatchConfig=null}});b.Interface=d;b.augmentClass=function(a,b){var f=Object.create(this.prototype);l(f,a.prototype);a.prototype=f;a.prototype.constructor=a;a.Interface=p(this.Interface,b);a.augmentClass=this.augmentClass;m.addPoolingTo(a,m.threeArgumentPooler)};m.addPoolingTo(b,m.threeArgumentPooler);r.exports=b},function(r,q,d){var b={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,
search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};r.exports=function(d){return d&&("INPUT"===d.nodeName&&b[d.type]||"TEXTAREA"===d.nodeName)}},function(r,q,d){var b=d(159),m=d(99),n=d(160),p=d(142),l={hasSelectionCapabilities:function(a){return a&&("INPUT"===a.nodeName&&"text"===a.type||"TEXTAREA"===a.nodeName||"true"===a.contentEditable)},getSelectionInformation:function(){var a=p();return{focusedElem:a,selectionRange:l.hasSelectionCapabilities(a)?l.getSelection(a):null}},restoreSelection:function(a){var b=
p(),f=a.focusedElem;a=a.selectionRange;b!==f&&m(document.documentElement,f)&&(l.hasSelectionCapabilities(f)&&l.setSelection(f,a),n(f))},getSelection:function(a){var c;if("selectionStart"in a)c={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&"INPUT"===a.nodeName){var f=document.selection.createRange();f.parentElement()===a&&(c={start:-f.moveStart("character",-a.value.length),end:-f.moveEnd("character",-a.value.length)})}else c=b.getOffsets(a);return c||{start:0,end:0}},setSelection:function(a,
c){var f=c.start,e=c.end;"undefined"===typeof e&&(e=f);if("selectionStart"in a)a.selectionStart=f,a.selectionEnd=Math.min(e,a.value.length);else if(document.selection&&"INPUT"===a.nodeName){var d=a.createTextRange();d.collapse(!0);d.moveStart("character",f);d.moveEnd("character",e-f);d.select()}else b.setOffsets(a,c)}};r.exports=l},function(r,q,d){function b(b,d,l){m.call(this,b,d,l)}var m=d(127);m.augmentClass(b,{data:null});r.exports=b},function(r,q,d){var b=d(34),m=null;r.exports=function(){!m&&
b.canUseDOM&&(m="textContent"in document.documentElement?"textContent":"innerText");return m}},function(r,q,d){function b(b,d,a){m.call(this,b,d,a)}var m=d(149),n=d(123);q={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:d(161),button:function(b){var d=b.button;return"which"in b?d:2===d?2:4===d?1:0},buttons:null,relatedTarget:function(b){return b.relatedTarget||(b.fromElement===b.srcElement?b.toElement:b.fromElement)},pageX:function(b){return"pageX"in
b?b.pageX:b.clientX+n.currentScrollLeft},pageY:function(b){return"pageY"in b?b.pageY:b.clientY+n.currentScrollTop}};m.augmentClass(b,q);r.exports=b},function(r,q,d){(function(b){var m=d(69),n=d(162),p=d(15),l=d(27),a=d(29),c=d(52),f=d(135),e={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},a={updatePropertyByID:a.measure("ReactDOMIDOperations","updatePropertyByID",function(a,f,d){a=l.getNode(a);
"production"!==b.env.NODE_ENV?c(!e.hasOwnProperty(f),"updatePropertyByID(...): %s",e[f]):c(!e.hasOwnProperty(f));null!=d?p.setValueForProperty(a,f,d):p.deleteValueForProperty(a,f)}),deletePropertyByID:a.measure("ReactDOMIDOperations","deletePropertyByID",function(a,f,d){a=l.getNode(a);"production"!==b.env.NODE_ENV?c(!e.hasOwnProperty(f),"updatePropertyByID(...): %s",e[f]):c(!e.hasOwnProperty(f));p.deleteValueForProperty(a,f,d)}),updateStylesByID:a.measure("ReactDOMIDOperations","updateStylesByID",
function(a,b){var c=l.getNode(a);m.setValueForStyles(c,b)}),updateInnerHTMLByID:a.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(a,b){var c=l.getNode(a);f(c,b)}),updateTextContentByID:a.measure("ReactDOMIDOperations","updateTextContentByID",function(a,b){var c=l.getNode(a);n.updateTextContent(c,b)}),dangerouslyReplaceNodeWithMarkupByID:a.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(a,b){var c=l.getNode(a);n.dangerouslyReplaceNodeWithMarkup(c,b)}),dangerouslyProcessChildrenUpdates:a.measure("ReactDOMIDOperations",
"dangerouslyProcessChildrenUpdates",function(a,b){for(var c=0;c<a.length;c++)a[c].parentNode=l.getNode(a[c].parentID);n.processUpdates(a,b)})};r.exports=a}).call(q,d(42))},function(r,q,d){function b(){this.reinitializeTransaction();this.renderToStaticMarkup=!1;this.reactMountReady=m.getPooled(null);this.putListenerQueue=l.getPooled()}var m=d(113);q=d(53);var n=d(71),p=d(129),l=d(155),a=d(114);d=d(64);var c=[{initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},
{initialize:p.getSelectionInformation,close:p.restoreSelection},{initialize:function(){var a=n.isEnabled();n.setEnabled(!1);return a},close:function(a){n.setEnabled(a)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];d(b,a.Mixin);d(b,{getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){m.release(this.reactMountReady);
this.reactMountReady=null;l.release(this.putListenerQueue);this.putListenerQueue=null}});q.addPoolingTo(b);r.exports=b},function(r,q,d){q=function(b,d){b.innerHTML=d};d(34).canUseDOM&&(d=document.createElement("div"),d.innerHTML=" ",""===d.innerHTML&&(q=function(b,d){b.parentNode&&b.parentNode.replaceChild(b,b);if(d.match(/^[ \r\n\t\f]/)||"<"===d[0]&&(-1!==d.indexOf("<noscript")||-1!==d.indexOf("<script")||-1!==d.indexOf("<style")||-1!==d.indexOf("<meta")||-1!==d.indexOf("<link"))){b.innerHTML="\ufeff"+
d;var n=b.firstChild;1===n.data.length?b.removeChild(n):n.deleteData(0,1)}else b.innerHTML=d}));r.exports=q},function(r,q,d){var b=d(160);r.exports={componentDidMount:function(){this.props.autoFocus&&b(this.getDOMNode())}}},function(r,q,d){(function(b){function m(a){a.remove()}var n=d(71),p=d(157),l=d(158),a=d(52);r.exports={trapBubbledEvent:function(c,f){"production"!==b.env.NODE_ENV?a(this.isMounted(),"Must be mounted to trap events"):a(this.isMounted());var e=n.trapBubbledEvent(c,f,this.getDOMNode());
this._localEventListeners=p(this._localEventListeners,e)},componentWillUnmount:function(){this._localEventListeners&&l(this._localEventListeners,m)}}}).call(q,d(42))},function(r,q,d){(function(b){function m(a){"production"!==b.env.NODE_ENV?f(null==a.props.checkedLink||null==a.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):f(null==a.props.checkedLink||null==a.props.valueLink)}function n(a){m(a);
"production"!==b.env.NODE_ENV?f(null==a.props.value&&null==a.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):f(null==a.props.value&&null==a.props.onChange)}function p(a){m(a);"production"!==b.env.NODE_ENV?f(null==a.props.checked&&null==a.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):
f(null==a.props.checked&&null==a.props.onChange)}function l(a){this.props.valueLink.requestChange(a.target.value)}function a(a){this.props.checkedLink.requestChange(a.target.checked)}var c=d(30),f=d(52),e={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};r.exports={Mixin:{propTypes:{value:function(a,b,c){if(!(!a[b]||e[a.type]||a.onChange||a.readOnly||a.disabled))return Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},
checked:function(a,b,c){if(a[b]&&!a.onChange&&!a.readOnly&&!a.disabled)return Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:c.func}},getValue:function(a){return a.props.valueLink?(n(a),a.props.valueLink.value):a.props.value},getChecked:function(a){return a.props.checkedLink?(p(a),a.props.checkedLink.value):a.props.checked},
getOnChange:function(b){return b.props.valueLink?(n(b),l):b.props.checkedLink?(p(b),a):b.props.onChange}}}).call(q,d(42))},function(r,q,d){(function(b){var m=d(103);r.exports={listen:function(b,d,l){if(b.addEventListener)return b.addEventListener(d,l,!1),{remove:function(){b.removeEventListener(d,l,!1)}};if(b.attachEvent)return b.attachEvent("on"+d,l),{remove:function(){b.detachEvent("on"+d,l)}}},capture:function(d,p,l){if(d.addEventListener)return d.addEventListener(p,l,!0),{remove:function(){d.removeEventListener(p,
l,!0)}};"production"!==b.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events.");return{remove:m}},registerDefault:function(){}}}).call(q,d(42))},function(r,q,d){r.exports=function(b){b=b.target||b.srcElement||window;return 3===b.nodeType?b.parentNode:b}},function(r,q,d){r.exports=function(b){return b===window?{x:window.pageXOffset||document.documentElement.scrollLeft,
y:window.pageYOffset||document.documentElement.scrollTop}:{x:b.scrollLeft,y:b.scrollTop}}},function(r,q,d){r.exports=function(){try{return document.activeElement||document.body}catch(b){return document.body}}},function(r,q,d){r.exports=function(b,d){if(b===d)return!0;for(var n in b)if(b.hasOwnProperty(n)&&(!d.hasOwnProperty(n)||b[n]!==d[n]))return!1;for(n in d)if(d.hasOwnProperty(n)&&!b.hasOwnProperty(n))return!1;return!0}},function(r,q,d){function b(b,d,l){m.call(this,b,d,l)}var m=d(127);m.augmentClass(b,
{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}});r.exports=b},function(r,q,d){function b(b,d,l){m.call(this,b,d,l)}var m=d(149);m.augmentClass(b,{relatedTarget:null});r.exports=b},function(r,q,d){function b(b,d,l){m.call(this,b,d,l)}var m=d(149);q=d(163);d=d(161);m.augmentClass(b,{key:q,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:d,charCode:function(b){return"keypress"===b.type?"charCode"in b?
b.charCode:b.keyCode:0},keyCode:function(b){return"keydown"===b.type||"keyup"===b.type?b.keyCode:0},which:function(b){return b.keyCode||b.charCode}});r.exports=b},function(r,q,d){function b(b,d,l){m.call(this,b,d,l)}var m=d(132);m.augmentClass(b,{dataTransfer:null});r.exports=b},function(r,q,d){function b(b,d,l){m.call(this,b,d,l)}var m=d(149);q={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:d(161)};m.augmentClass(b,q);r.exports=
b},function(r,q,d){function b(b,d,a){m.call(this,b,d,a)}var m=d(127),n=d(140);m.augmentClass(b,{view:function(b){if(b.view)return b.view;b=n(b);return null!=b&&b.window===b?b:(b=b.ownerDocument)?b.defaultView||b.parentWindow:window},detail:function(b){return b.detail||0}});r.exports=b},function(r,q,d){function b(b,d,l){m.call(this,b,d,l)}var m=d(132);m.augmentClass(b,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:
"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:null,deltaMode:null});r.exports=b},function(r,q,d){function b(b){var d={},a=Object.keys(b.writes),c=m(b.exclusive,b.inclusive),f;for(f in c){for(var c=!1,e=0;e<a.length;e++)if(0===a[e].indexOf(f)){c=!0;break}!c&&0<b.counts[f]&&(d[f]=!0)}return d}var m=d(44),n={mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",
deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"};r.exports={getExclusiveSummary:function(b){for(var d={},a,c=0;c<b.length;c++){var f=b[c],e=m(f.exclusive,f.inclusive),h;for(h in e)a=f.displayNames[h].current,d[a]=d[a]||{componentName:a,inclusive:0,exclusive:0,render:0,count:0},f.render[h]&&(d[a].render+=f.render[h]),f.exclusive[h]&&(d[a].exclusive+=f.exclusive[h]),f.inclusive[h]&&(d[a].inclusive+=
f.inclusive[h]),f.counts[h]&&(d[a].count+=f.counts[h])}b=[];for(a in d)1.2<=d[a].exclusive&&b.push(d[a]);b.sort(function(a,b){return b.exclusive-a.exclusive});return b},getInclusiveSummary:function(d,l){for(var a={},c,f=0;f<d.length;f++){var e=d[f],h=m(e.exclusive,e.inclusive),g;l&&(g=b(e));for(var k in h)if(!l||g[k])c=e.displayNames[k],c=c.owner+" > "+c.current,a[c]=a[c]||{componentName:c,time:0,count:0},e.inclusive[k]&&(a[c].time+=e.inclusive[k]),e.counts[k]&&(a[c].count+=e.counts[k])}f=[];for(c in a)1.2<=
a[c].time&&f.push(a[c]);f.sort(function(a,b){return b.time-a.time});return f},getDOMSummary:function(b){for(var d=[],a=0;a<b.length;a++){var c=b[a],f;for(f in c.writes)c.writes[f].forEach(function(a){d.push({id:f,type:n[a.type]||a.type,args:a.args})})}return d},getTotalTime:function(b){for(var d=0,a=0;a<b.length;a++)d+=b[a].totalTime;return d}}},function(r,q,d){(q=d(164))&&q.now||(q=Date);q=q.now.bind(q);r.exports=q},function(r,q,d){var b=d(165);r.exports=function(d){return b(d)&&3==d.nodeType}},
function(r,q,d){r.exports=function(b){for(var d=1,n=0,p=0;p<b.length;p++)d=(d+b.charCodeAt(p))%65521,n=(n+d)%65521;return d|n<<16}},function(r,q,d){function b(){this.listenersToPut=[]}q=d(53);var m=d(71);d(64)(b,{enqueuePutListener:function(b,d,l){this.listenersToPut.push({rootNodeID:b,propKey:d,propValue:l})},putListeners:function(){for(var b=0;b<this.listenersToPut.length;b++){var d=this.listenersToPut[b];m.putListener(d.rootNodeID,d.propKey,d.propValue)}},reset:function(){this.listenersToPut.length=
0},destructor:function(){this.reset()}});q.addPoolingTo(b);r.exports=b},function(r,q,d){var b=/([A-Z])/g;r.exports=function(d){return d.replace(b,"-$1").toLowerCase()}},function(r,q,d){(function(b){var m=d(52);r.exports=function(d,p){"production"!==b.env.NODE_ENV?m(null!=p,"accumulate(...): Accumulated items must be not be null or undefined."):m(null!=p);if(null==d)return p;var l=Array.isArray(d),a=Array.isArray(p);return l?d.concat(p):a?[d].concat(p):[d,p]}}).call(q,d(42))},function(r,q,d){r.exports=
function(b,d,n){Array.isArray(b)?b.forEach(d,n):b&&d.call(n,b)}},function(r,q,d){function b(a){var b=document.selection.createRange(),e=b.text.length,d=b.duplicate();d.moveToElementText(a);d.setEndPoint("EndToStart",b);a=d.text.length;return{start:a,end:a+e}}function m(a){var b=window.getSelection();if(0===b.rangeCount)return null;var e=b.anchorNode,d=b.anchorOffset,g=b.focusNode,k=b.focusOffset,l=b.getRangeAt(0),b=b.anchorNode===b.focusNode&&b.anchorOffset===b.focusOffset?0:l.toString().length,m=
l.cloneRange();m.selectNodeContents(a);m.setEnd(l.startContainer,l.startOffset);a=m.startContainer===m.endContainer&&m.startOffset===m.endOffset?0:m.toString().length;l=a+b;b=document.createRange();b.setStart(e,d);b.setEnd(g,k);e=b.collapsed;b.detach();return{start:e?l:a,end:e?a:l}}function n(a,b){var e=document.selection.createRange().duplicate(),d,g;"undefined"===typeof b.end?g=d=b.start:b.start>b.end?(d=b.end,g=b.start):(d=b.start,g=b.end);e.moveToElementText(a);e.moveStart("character",d);e.setEndPoint("EndToStart",
e);e.moveEnd("character",g-d);e.select()}function p(b,d){var e=window.getSelection(),h=b[a()].length,g=Math.min(d.start,h),h="undefined"===typeof d.end?g:Math.min(d.end,h);if(!e.extend&&g>h)var k=h,h=g,g=k;var k=l(b,g),m=l(b,h);if(k&&m){var n=document.createRange();n.setStart(k.node,k.offset);e.removeAllRanges();g>h?(e.addRange(n),e.extend(m.node,m.offset)):(n.setEnd(m.node,m.offset),e.addRange(n));n.detach()}}q=d(34);var l=d(166),a=d(131);d=q.canUseDOM&&document.selection;r.exports={getOffsets:d?
b:m,setOffsets:d?n:p}},function(r,q,d){r.exports=function(b){b.disabled||b.focus()}},function(r,q,d){function b(b){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(b):(b=m[b])?!!d[b]:!1}var m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};r.exports=function(d){return b}},function(r,q,d){(function(b){var m=d(167),n=d(101),p=d(131),l=d(52),a;a="textContent"===p()?function(a,b){a.textContent=b}:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);b&&a.appendChild((a.ownerDocument||
document).createTextNode(b))};r.exports={dangerouslyReplaceNodeWithMarkup:m.dangerouslyReplaceNodeWithMarkup,updateTextContent:a,processUpdates:function(c,d){for(var e,h=null,g=null,k=0;e=c[k];k++)if(e.type===n.MOVE_EXISTING||e.type===n.REMOVE_NODE){var p=e.fromIndex,q=e.parentNode.childNodes[p];e=e.parentID;"production"!==b.env.NODE_ENV?l(q,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting <p> or <a> tags, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",
p,e):l(q);h=h||{};h[e]=h[e]||[];h[e][p]=q;g=g||[];g.push(q)}k=m.dangerouslyRenderMarkup(d);if(g)for(e=0;e<g.length;e++)g[e].parentNode.removeChild(g[e]);for(g=0;e=c[g];g++)switch(e.type){case n.INSERT_MARKUP:p=e.parentNode;p.insertBefore(k[e.markupIndex],p.childNodes[e.toIndex]||null);break;case n.MOVE_EXISTING:p=e.parentNode;p.insertBefore(h[e.parentID][e.fromIndex],p.childNodes[e.toIndex]||null);break;case n.TEXT_CONTENT:a(e.parentNode,e.textContent)}}}}).call(q,d(42))},function(r,q,d){(function(b){var m=
d(52),n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",
116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};r.exports=function(d){if(d.key){var a=n[d.key]||d.key;if("Unidentified"!==a)return a}if("keypress"===d.type)return d="charCode"in d?d.charCode:d.keyCode,13===d?"Enter":String.fromCharCode(d);if("keydown"===d.type||"keyup"===d.type)return p[d.keyCode]||"Unidentified";"production"!==b.env.NODE_ENV?m(!1,"Unexpected keyboard event type: %s",d.type):m(!1)}}).call(q,d(42))},function(r,q,
d){var b;d(34).canUseDOM&&(b=window.performance||window.msPerformance||window.webkitPerformance);r.exports=b||{}},function(r,q,d){r.exports=function(b){return!!(b&&("function"===typeof Node?b instanceof Node:"object"===typeof b&&"number"===typeof b.nodeType&&"string"===typeof b.nodeName))}},function(r,q,d){function b(b){for(;b&&b.firstChild;)b=b.firstChild;return b}r.exports=function(d,n){for(var p=b(d),l=0,a=0;p;){if(3==p.nodeType){a=l+p.textContent.length;if(l<=n&&a>=n)return{node:p,offset:n-l};
l=a}a:{for(;p;){if(p.nextSibling){p=p.nextSibling;break a}p=p.parentNode}p=void 0}p=b(p)}}},function(r,q,d){(function(b){var m=d(34),n=d(168),p=d(103),l=d(169),a=d(52),c=/^(<[^ \/>]+)/;r.exports={dangerouslyRenderMarkup:function(d){"production"!==b.env.NODE_ENV?a(m.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a Worker thread. This is likely a bug in the framework. Please report immediately."):a(m.canUseDOM);for(var e,h={},g=0;g<d.length;g++)"production"!==b.env.NODE_ENV?a(d[g],
"dangerouslyRenderMarkup(...): Missing markup."):a(d[g]),e=d[g],e=e.substring(1,e.indexOf(" ")),e=l(e)?e:"*",h[e]=h[e]||[],h[e][g]=d[g];var k=[],q=0;for(e in h)if(h.hasOwnProperty(e)){var g=h[e],r;for(r in g)g.hasOwnProperty(r)&&(g[r]=g[r].replace(c,'$1 data-danger-index="'+r+'" '));for(var t=n(g.join(""),p),g=0;g<t.length;++g){var w=t[g];w.hasAttribute&&w.hasAttribute("data-danger-index")?(r=+w.getAttribute("data-danger-index"),w.removeAttribute("data-danger-index"),"production"!==b.env.NODE_ENV?
a(!k.hasOwnProperty(r),"Danger: Assigning to an already-occupied result index."):a(!k.hasOwnProperty(r)),k[r]=w,q+=1):"production"!==b.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",w)}}"production"!==b.env.NODE_ENV?a(q===k.length,"Danger: Did not assign to every index of resultList."):a(q===k.length);"production"!==b.env.NODE_ENV?a(k.length===d.length,"Danger: Expected markup to render %s nodes, but rendered %s.",d.length,k.length):a(k.length===d.length);return k},dangerouslyReplaceNodeWithMarkup:function(c,
e){"production"!==b.env.NODE_ENV?a(m.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. This is likely a bug in the framework. Please report immediately."):a(m.canUseDOM);"production"!==b.env.NODE_ENV?a(e,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):a(e);"production"!==b.env.NODE_ENV?a("html"!==c.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See renderComponentToString()."):
a("html"!==c.tagName.toLowerCase());var d=n(e,p)[0];c.parentNode.replaceChild(d,c)}}}).call(q,d(42))},function(r,q,d){(function(b){var m=d(34),n=d(170),p=d(169),l=d(52),a=m.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;r.exports=function(d,e){var h=a;"production"!==b.env.NODE_ENV?l(!!a,"createNodesFromMarkup dummy not initialized"):l(!!a);var g;if(g=(g=(g=d.match(c))&&g[1].toLowerCase())&&p(g))for(h.innerHTML=g[1]+d+g[2],g=g[0];g--;)h=h.lastChild;else h.innerHTML=d;g=h.getElementsByTagName("script");
g.length&&("production"!==b.env.NODE_ENV?l(e,"createNodesFromMarkup(...): Unexpected <script> element rendered."):l(e),n(g).forEach(e));for(g=n(h.childNodes);h.lastChild;)h.removeChild(h.lastChild);return g}}).call(q,d(42))},function(r,q,d){(function(b){var m=d(34),n=d(52),p=m.canUseDOM?document.createElement("div"):null,l={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},m=[1,'<select multiple="true">',"</select>"],
a=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,"<svg>","</svg>"],e={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:m,option:m,caption:a,colgroup:a,tbody:a,tfoot:a,thead:a,td:c,th:c,circle:f,defs:f,ellipse:f,g:f,line:f,linearGradient:f,path:f,polygon:f,polyline:f,radialGradient:f,
rect:f,stop:f,text:f};r.exports=function(a){"production"!==b.env.NODE_ENV?n(!!p,"Markup wrapping node not initialized"):n(!!p);e.hasOwnProperty(a)||(a="*");l.hasOwnProperty(a)||(p.innerHTML="*"===a?"<link />":"<"+a+"></"+a+">",l[a]=!p.firstChild);return l[a]?e[a]:null}}).call(q,d(42))},function(r,q,d){var b=d(171);r.exports=function(d){return!d||"object"!=typeof d&&"function"!=typeof d||!("length"in d)||"setInterval"in d||"number"==typeof d.nodeType||!(Array.isArray(d)||"callee"in d||"item"in d)?
[d]:Array.isArray(d)?d.slice():b(d)}},function(r,q,d){(function(b){var m=d(52);r.exports=function(d){var p=d.length;"production"!==b.env.NODE_ENV?m(!Array.isArray(d)&&("object"===typeof d||"function"===typeof d),"toArray: Array-like object expected"):m(!Array.isArray(d)&&("object"===typeof d||"function"===typeof d));"production"!==b.env.NODE_ENV?m("number"===typeof p,"toArray: Object needs a length property"):m("number"===typeof p);"production"!==b.env.NODE_ENV?m(0===p||p-1 in d,"toArray: Object should have keys for indices"):
m(0===p||p-1 in d);if(d.hasOwnProperty)try{return Array.prototype.slice.call(d)}catch(l){}for(var a=Array(p),c=0;c<p;c++)a[c]=d[c];return a}}).call(q,d(42))}]);
